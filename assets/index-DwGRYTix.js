(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Zu={exports:{}},di={},ec={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=Symbol.for("react.element"),Bh=Symbol.for("react.portal"),Wh=Symbol.for("react.fragment"),Hh=Symbol.for("react.strict_mode"),Vh=Symbol.for("react.profiler"),qh=Symbol.for("react.provider"),Kh=Symbol.for("react.context"),Qh=Symbol.for("react.forward_ref"),Gh=Symbol.for("react.suspense"),Jh=Symbol.for("react.memo"),Yh=Symbol.for("react.lazy"),kl=Symbol.iterator;function Xh(t){return t===null||typeof t!="object"?null:(t=kl&&t[kl]||t["@@iterator"],typeof t=="function"?t:null)}var tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nc=Object.assign,rc={};function er(t,e,n){this.props=t,this.context=e,this.refs=rc,this.updater=n||tc}er.prototype.isReactComponent={};er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sc(){}sc.prototype=er.prototype;function wa(t,e,n){this.props=t,this.context=e,this.refs=rc,this.updater=n||tc}var xa=wa.prototype=new sc;xa.constructor=wa;nc(xa,er.prototype);xa.isPureReactComponent=!0;var Sl=Array.isArray,ic=Object.prototype.hasOwnProperty,_a={current:null},oc={key:!0,ref:!0,__self:!0,__source:!0};function ac(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ic.call(e,r)&&!oc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Xr,type:t,key:i,ref:o,props:s,_owner:_a.current}}function Zh(t,e){return{$$typeof:Xr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ka(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xr}function ef(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var bl=/\/+/g;function Ri(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ef(""+t.key):e.toString(36)}function Es(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Xr:case Bh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ri(o,0):r,Sl(s)?(n="",t!=null&&(n=t.replace(bl,"$&/")+"/"),Es(s,e,n,"",function(c){return c})):s!=null&&(ka(s)&&(s=Zh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bl,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Sl(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ri(i,a);o+=Es(i,e,n,l,s)}else if(l=Xh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ri(i,a++),o+=Es(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function is(t,e,n){if(t==null)return t;var r=[],s=0;return Es(t,r,"","",function(i){return e.call(n,i,s++)}),r}function tf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},Ns={transition:null},nf={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Ns,ReactCurrentOwner:_a};function lc(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:is,forEach:function(t,e,n){is(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return is(t,function(){e++}),e},toArray:function(t){return is(t,function(e){return e})||[]},only:function(t){if(!ka(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};H.Component=er;H.Fragment=Wh;H.Profiler=Vh;H.PureComponent=wa;H.StrictMode=Hh;H.Suspense=Gh;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nf;H.act=lc;H.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=nc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_a.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ic.call(e,l)&&!oc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Xr,type:t.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(t){return t={$$typeof:Kh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qh,_context:t},t.Consumer=t};H.createElement=ac;H.createFactory=function(t){var e=ac.bind(null,t);return e.type=t,e};H.createRef=function(){return{current:null}};H.forwardRef=function(t){return{$$typeof:Qh,render:t}};H.isValidElement=ka;H.lazy=function(t){return{$$typeof:Yh,_payload:{_status:-1,_result:t},_init:tf}};H.memo=function(t,e){return{$$typeof:Jh,type:t,compare:e===void 0?null:e}};H.startTransition=function(t){var e=Ns.transition;Ns.transition={};try{t()}finally{Ns.transition=e}};H.unstable_act=lc;H.useCallback=function(t,e){return Pe.current.useCallback(t,e)};H.useContext=function(t){return Pe.current.useContext(t)};H.useDebugValue=function(){};H.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};H.useEffect=function(t,e){return Pe.current.useEffect(t,e)};H.useId=function(){return Pe.current.useId()};H.useImperativeHandle=function(t,e,n){return Pe.current.useImperativeHandle(t,e,n)};H.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};H.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};H.useMemo=function(t,e){return Pe.current.useMemo(t,e)};H.useReducer=function(t,e,n){return Pe.current.useReducer(t,e,n)};H.useRef=function(t){return Pe.current.useRef(t)};H.useState=function(t){return Pe.current.useState(t)};H.useSyncExternalStore=function(t,e,n){return Pe.current.useSyncExternalStore(t,e,n)};H.useTransition=function(){return Pe.current.useTransition()};H.version="18.3.1";ec.exports=H;var A=ec.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=A,sf=Symbol.for("react.element"),of=Symbol.for("react.fragment"),af=Object.prototype.hasOwnProperty,lf=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uf={key:!0,ref:!0,__self:!0,__source:!0};function uc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)af.call(e,r)&&!uf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:sf,type:t,key:i,ref:o,props:s,_owner:lf.current}}di.Fragment=of;di.jsx=uc;di.jsxs=uc;Zu.exports=di;var u=Zu.exports,cc={exports:{}},Be={},dc={exports:{}},hc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,R){var D=S.length;S.push(R);e:for(;0<D;){var K=D-1>>>1,I=S[K];if(0<s(I,R))S[K]=R,S[D]=I,D=K;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var R=S[0],D=S.pop();if(D!==R){S[0]=D;e:for(var K=0,I=S.length,Y=I>>>1;K<Y;){var G=2*(K+1)-1,_e=S[G],ce=G+1,Ye=S[ce];if(0>s(_e,D))ce<I&&0>s(Ye,_e)?(S[K]=Ye,S[ce]=D,K=ce):(S[K]=_e,S[G]=D,K=G);else if(ce<I&&0>s(Ye,D))S[K]=Ye,S[ce]=D,K=ce;else break e}}return R}function s(S,R){var D=S.sortIndex-R.sortIndex;return D!==0?D:S.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,w=!1,x=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(S){for(var R=n(c);R!==null;){if(R.callback===null)r(c);else if(R.startTime<=S)r(c),R.sortIndex=R.expirationTime,e(l,R);else break;R=n(c)}}function y(S){if(x=!1,f(S),!w)if(n(l)!==null)w=!0,ee(_);else{var R=n(c);R!==null&&F(y,R.startTime-S)}}function _(S,R){w=!1,x&&(x=!1,m(N),N=-1),v=!0;var D=p;try{for(f(R),h=n(l);h!==null&&(!(h.expirationTime>R)||S&&!L());){var K=h.callback;if(typeof K=="function"){h.callback=null,p=h.priorityLevel;var I=K(h.expirationTime<=R);R=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(l)&&r(l),f(R)}else r(l);h=n(l)}if(h!==null)var Y=!0;else{var G=n(c);G!==null&&F(y,G.startTime-R),Y=!1}return Y}finally{h=null,p=D,v=!1}}var k=!1,E=null,N=-1,C=5,$=-1;function L(){return!(t.unstable_now()-$<C)}function P(){if(E!==null){var S=t.unstable_now();$=S;var R=!0;try{R=E(!0,S)}finally{R?M():(k=!1,E=null)}}else k=!1}var M;if(typeof g=="function")M=function(){g(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,B=z.port2;z.port1.onmessage=P,M=function(){B.postMessage(null)}}else M=function(){j(P,0)};function ee(S){E=S,k||(k=!0,M())}function F(S,R){N=j(function(){S(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,ee(_))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(S){switch(p){case 1:case 2:case 3:var R=3;break;default:R=p}var D=p;p=R;try{return S()}finally{p=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,R){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var D=p;p=S;try{return R()}finally{p=D}},t.unstable_scheduleCallback=function(S,R,D){var K=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,S){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=D+I,S={id:d++,callback:R,priorityLevel:S,startTime:D,expirationTime:I,sortIndex:-1},D>K?(S.sortIndex=D,e(c,S),n(l)===null&&S===n(c)&&(x?(m(N),N=-1):x=!0,F(y,D-K))):(S.sortIndex=I,e(l,S),w||v||(w=!0,ee(_))),S},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(S){var R=p;return function(){var D=p;p=R;try{return S.apply(this,arguments)}finally{p=D}}}})(hc);dc.exports=hc;var cf=dc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=A,ze=cf;function b(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fc=new Set,Ir={};function mn(t,e){qn(t,e),qn(t+"Capture",e)}function qn(t,e){for(Ir[t]=e,t=0;t<e.length;t++)fc.add(e[t])}var St=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),po=Object.prototype.hasOwnProperty,hf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jl={},El={};function ff(t){return po.call(El,t)?!0:po.call(jl,t)?!1:hf.test(t)?El[t]=!0:(jl[t]=!0,!1)}function pf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gf(t,e,n,r){if(e===null||typeof e>"u"||pf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Oe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Oe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Oe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Oe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Oe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Oe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Oe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Oe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Oe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sa=/[\-:]([a-z])/g;function ba(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sa,ba);xe[e]=new Oe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sa,ba);xe[e]=new Oe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sa,ba);xe[e]=new Oe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Oe(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Oe(t,1,!1,t.toLowerCase(),null,!0,!0)});function ja(t,e,n,r){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gf(e,n,s,r)&&(n=null),r||s===null?ff(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nt=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,os=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),Cn=Symbol.for("react.fragment"),Ea=Symbol.for("react.strict_mode"),go=Symbol.for("react.profiler"),pc=Symbol.for("react.provider"),gc=Symbol.for("react.context"),Na=Symbol.for("react.forward_ref"),mo=Symbol.for("react.suspense"),yo=Symbol.for("react.suspense_list"),Ta=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),mc=Symbol.for("react.offscreen"),Nl=Symbol.iterator;function lr(t){return t===null||typeof t!="object"?null:(t=Nl&&t[Nl]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,Ii;function yr(t){if(Ii===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ii=e&&e[1]||""}return`
`+Ii+t}var Li=!1;function $i(t,e){if(!t||Li)return"";Li=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Li=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yr(t):""}function mf(t){switch(t.tag){case 5:return yr(t.type);case 16:return yr("Lazy");case 13:return yr("Suspense");case 19:return yr("SuspenseList");case 0:case 2:case 15:return t=$i(t.type,!1),t;case 11:return t=$i(t.type.render,!1),t;case 1:return t=$i(t.type,!0),t;default:return""}}function vo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cn:return"Fragment";case Tn:return"Portal";case go:return"Profiler";case Ea:return"StrictMode";case mo:return"Suspense";case yo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gc:return(t.displayName||"Context")+".Consumer";case pc:return(t._context.displayName||"Context")+".Provider";case Na:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ta:return e=t.displayName||null,e!==null?e:vo(t.type)||"Memo";case Ot:e=t._payload,t=t._init;try{return vo(t(e))}catch{}}return null}function yf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vo(e);case 8:return e===Ea?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function yc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vf(t){var e=yc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function as(t){t._valueTracker||(t._valueTracker=vf(t))}function vc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=yc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Us(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wo(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function wc(t,e){e=e.checked,e!=null&&ja(t,"checked",e,!1)}function xo(t,e){wc(t,e);var n=qt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_o(t,e.type,n):e.hasOwnProperty("defaultValue")&&_o(t,e.type,qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Cl(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _o(t,e,n){(e!=="number"||Us(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vr=Array.isArray;function Mn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ko(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(b(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(b(92));if(vr(n)){if(1<n.length)throw Error(b(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qt(n)}}function xc(t,e){var n=qt(e.value),r=qt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ol(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _c(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function So(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_c(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ls,kc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ls.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wf=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(t){wf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kr[e]=kr[t]})});function Sc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||kr.hasOwnProperty(t)&&kr[t]?(""+e).trim():e+"px"}function bc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Sc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var xf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bo(t,e){if(e){if(xf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(b(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(b(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(b(61))}if(e.style!=null&&typeof e.style!="object")throw Error(b(62))}}function jo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eo=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var No=null,zn=null,Bn=null;function Al(t){if(t=ts(t)){if(typeof No!="function")throw Error(b(280));var e=t.stateNode;e&&(e=mi(e),No(t.stateNode,t.type,e))}}function jc(t){zn?Bn?Bn.push(t):Bn=[t]:zn=t}function Ec(){if(zn){var t=zn,e=Bn;if(Bn=zn=null,Al(t),e)for(t=0;t<e.length;t++)Al(e[t])}}function Nc(t,e){return t(e)}function Tc(){}var Di=!1;function Cc(t,e,n){if(Di)return t(e,n);Di=!0;try{return Nc(t,e,n)}finally{Di=!1,(zn!==null||Bn!==null)&&(Tc(),Ec())}}function $r(t,e){var n=t.stateNode;if(n===null)return null;var r=mi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(b(231,e,typeof n));return n}var To=!1;if(St)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){To=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{To=!1}function _f(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Sr=!1,Fs=null,Ms=!1,Co=null,kf={onError:function(t){Sr=!0,Fs=t}};function Sf(t,e,n,r,s,i,o,a,l){Sr=!1,Fs=null,_f.apply(kf,arguments)}function bf(t,e,n,r,s,i,o,a,l){if(Sf.apply(this,arguments),Sr){if(Sr){var c=Fs;Sr=!1,Fs=null}else throw Error(b(198));Ms||(Ms=!0,Co=c)}}function yn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rl(t){if(yn(t)!==t)throw Error(b(188))}function jf(t){var e=t.alternate;if(!e){if(e=yn(t),e===null)throw Error(b(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Rl(s),t;if(i===r)return Rl(s),e;i=i.sibling}throw Error(b(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(b(189))}}if(n.alternate!==r)throw Error(b(190))}if(n.tag!==3)throw Error(b(188));return n.stateNode.current===n?t:e}function Oc(t){return t=jf(t),t!==null?Ac(t):null}function Ac(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ac(t);if(e!==null)return e;t=t.sibling}return null}var Rc=ze.unstable_scheduleCallback,Il=ze.unstable_cancelCallback,Ef=ze.unstable_shouldYield,Nf=ze.unstable_requestPaint,ue=ze.unstable_now,Tf=ze.unstable_getCurrentPriorityLevel,Pa=ze.unstable_ImmediatePriority,Ic=ze.unstable_UserBlockingPriority,zs=ze.unstable_NormalPriority,Cf=ze.unstable_LowPriority,Lc=ze.unstable_IdlePriority,hi=null,pt=null;function Pf(t){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(hi,t,void 0,(t.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Rf,Of=Math.log,Af=Math.LN2;function Rf(t){return t>>>=0,t===0?32:31-(Of(t)/Af|0)|0}var us=64,cs=4194304;function wr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wr(a):(i&=o,i!==0&&(r=wr(i)))}else o=n&~s,o!==0?r=wr(o):i!==0&&(r=wr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-at(e),s=1<<n,r|=t[n],e&=~s;return r}function If(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-at(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=If(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Po(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $c(){var t=us;return us<<=1,!(us&4194240)&&(us=64),t}function Ui(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Zr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-at(e),t[e]=n}function $f(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-at(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Oa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-at(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var J=0;function Dc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Uc,Aa,Fc,Mc,zc,Oo=!1,ds=[],Ut=null,Ft=null,Mt=null,Dr=new Map,Ur=new Map,Rt=[],Df="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ll(t,e){switch(t){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Mt=null;break;case"pointerover":case"pointerout":Dr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ur.delete(e.pointerId)}}function cr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ts(e),e!==null&&Aa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Uf(t,e,n,r,s){switch(e){case"focusin":return Ut=cr(Ut,t,e,n,r,s),!0;case"dragenter":return Ft=cr(Ft,t,e,n,r,s),!0;case"mouseover":return Mt=cr(Mt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dr.set(i,cr(Dr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ur.set(i,cr(Ur.get(i)||null,t,e,n,r,s)),!0}return!1}function Bc(t){var e=sn(t.target);if(e!==null){var n=yn(e);if(n!==null){if(e=n.tag,e===13){if(e=Pc(n),e!==null){t.blockedOn=e,zc(t.priority,function(){Fc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ts(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ao(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Eo=r,n.target.dispatchEvent(r),Eo=null}else return e=ts(n),e!==null&&Aa(e),t.blockedOn=n,!1;e.shift()}return!0}function $l(t,e,n){Ts(t)&&n.delete(e)}function Ff(){Oo=!1,Ut!==null&&Ts(Ut)&&(Ut=null),Ft!==null&&Ts(Ft)&&(Ft=null),Mt!==null&&Ts(Mt)&&(Mt=null),Dr.forEach($l),Ur.forEach($l)}function dr(t,e){t.blockedOn===e&&(t.blockedOn=null,Oo||(Oo=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,Ff)))}function Fr(t){function e(s){return dr(s,t)}if(0<ds.length){dr(ds[0],t);for(var n=1;n<ds.length;n++){var r=ds[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ut!==null&&dr(Ut,t),Ft!==null&&dr(Ft,t),Mt!==null&&dr(Mt,t),Dr.forEach(e),Ur.forEach(e),n=0;n<Rt.length;n++)r=Rt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rt.length&&(n=Rt[0],n.blockedOn===null);)Bc(n),n.blockedOn===null&&Rt.shift()}var Wn=Nt.ReactCurrentBatchConfig,Ws=!0;function Mf(t,e,n,r){var s=J,i=Wn.transition;Wn.transition=null;try{J=1,Ra(t,e,n,r)}finally{J=s,Wn.transition=i}}function zf(t,e,n,r){var s=J,i=Wn.transition;Wn.transition=null;try{J=4,Ra(t,e,n,r)}finally{J=s,Wn.transition=i}}function Ra(t,e,n,r){if(Ws){var s=Ao(t,e,n,r);if(s===null)Qi(t,e,r,Hs,n),Ll(t,r);else if(Uf(s,t,e,n,r))r.stopPropagation();else if(Ll(t,r),e&4&&-1<Df.indexOf(t)){for(;s!==null;){var i=ts(s);if(i!==null&&Uc(i),i=Ao(t,e,n,r),i===null&&Qi(t,e,r,Hs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Qi(t,e,r,null,n)}}var Hs=null;function Ao(t,e,n,r){if(Hs=null,t=Ca(r),t=sn(t),t!==null)if(e=yn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hs=t,null}function Wc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tf()){case Pa:return 1;case Ic:return 4;case zs:case Cf:return 16;case Lc:return 536870912;default:return 16}default:return 16}}var $t=null,Ia=null,Cs=null;function Hc(){if(Cs)return Cs;var t,e=Ia,n=e.length,r,s="value"in $t?$t.value:$t.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Cs=s.slice(t,1<r?1-r:void 0)}function Ps(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function hs(){return!0}function Dl(){return!1}function We(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hs:Dl,this.isPropagationStopped=Dl,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=hs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=hs)},persist:function(){},isPersistent:hs}),e}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},La=We(tr),es=oe({},tr,{view:0,detail:0}),Bf=We(es),Fi,Mi,hr,fi=oe({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$a,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hr&&(hr&&t.type==="mousemove"?(Fi=t.screenX-hr.screenX,Mi=t.screenY-hr.screenY):Mi=Fi=0,hr=t),Fi)},movementY:function(t){return"movementY"in t?t.movementY:Mi}}),Ul=We(fi),Wf=oe({},fi,{dataTransfer:0}),Hf=We(Wf),Vf=oe({},es,{relatedTarget:0}),zi=We(Vf),qf=oe({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Kf=We(qf),Qf=oe({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gf=We(Qf),Jf=oe({},tr,{data:0}),Fl=We(Jf),Yf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ep(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Zf[t])?!!e[t]:!1}function $a(){return ep}var tp=oe({},es,{key:function(t){if(t.key){var e=Yf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$a,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),np=We(tp),rp=oe({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ml=We(rp),sp=oe({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$a}),ip=We(sp),op=oe({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ap=We(op),lp=oe({},fi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),up=We(lp),cp=[9,13,27,32],Da=St&&"CompositionEvent"in window,br=null;St&&"documentMode"in document&&(br=document.documentMode);var dp=St&&"TextEvent"in window&&!br,Vc=St&&(!Da||br&&8<br&&11>=br),zl=" ",Bl=!1;function qc(t,e){switch(t){case"keyup":return cp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pn=!1;function hp(t,e){switch(t){case"compositionend":return Kc(e);case"keypress":return e.which!==32?null:(Bl=!0,zl);case"textInput":return t=e.data,t===zl&&Bl?null:t;default:return null}}function fp(t,e){if(Pn)return t==="compositionend"||!Da&&qc(t,e)?(t=Hc(),Cs=Ia=$t=null,Pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vc&&e.locale!=="ko"?null:e.data;default:return null}}var pp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pp[t.type]:e==="textarea"}function Qc(t,e,n,r){jc(r),e=Vs(e,"onChange"),0<e.length&&(n=new La("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var jr=null,Mr=null;function gp(t){id(t,0)}function pi(t){var e=Rn(t);if(vc(e))return t}function mp(t,e){if(t==="change")return e}var Gc=!1;if(St){var Bi;if(St){var Wi="oninput"in document;if(!Wi){var Hl=document.createElement("div");Hl.setAttribute("oninput","return;"),Wi=typeof Hl.oninput=="function"}Bi=Wi}else Bi=!1;Gc=Bi&&(!document.documentMode||9<document.documentMode)}function Vl(){jr&&(jr.detachEvent("onpropertychange",Jc),Mr=jr=null)}function Jc(t){if(t.propertyName==="value"&&pi(Mr)){var e=[];Qc(e,Mr,t,Ca(t)),Cc(gp,e)}}function yp(t,e,n){t==="focusin"?(Vl(),jr=e,Mr=n,jr.attachEvent("onpropertychange",Jc)):t==="focusout"&&Vl()}function vp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pi(Mr)}function wp(t,e){if(t==="click")return pi(e)}function xp(t,e){if(t==="input"||t==="change")return pi(e)}function _p(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ut=typeof Object.is=="function"?Object.is:_p;function zr(t,e){if(ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!po.call(e,s)||!ut(t[s],e[s]))return!1}return!0}function ql(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kl(t,e){var n=ql(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ql(n)}}function Yc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Yc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xc(){for(var t=window,e=Us();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Us(t.document)}return e}function Ua(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kp(t){var e=Xc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Yc(n.ownerDocument.documentElement,n)){if(r!==null&&Ua(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Kl(n,i);var o=Kl(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sp=St&&"documentMode"in document&&11>=document.documentMode,On=null,Ro=null,Er=null,Io=!1;function Ql(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||On==null||On!==Us(r)||(r=On,"selectionStart"in r&&Ua(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Er&&zr(Er,r)||(Er=r,r=Vs(Ro,"onSelect"),0<r.length&&(e=new La("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=On)))}function fs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var An={animationend:fs("Animation","AnimationEnd"),animationiteration:fs("Animation","AnimationIteration"),animationstart:fs("Animation","AnimationStart"),transitionend:fs("Transition","TransitionEnd")},Hi={},Zc={};St&&(Zc=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function gi(t){if(Hi[t])return Hi[t];if(!An[t])return t;var e=An[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Zc)return Hi[t]=e[n];return t}var ed=gi("animationend"),td=gi("animationiteration"),nd=gi("animationstart"),rd=gi("transitionend"),sd=new Map,Gl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(t,e){sd.set(t,e),mn(e,[t])}for(var Vi=0;Vi<Gl.length;Vi++){var qi=Gl[Vi],bp=qi.toLowerCase(),jp=qi[0].toUpperCase()+qi.slice(1);Qt(bp,"on"+jp)}Qt(ed,"onAnimationEnd");Qt(td,"onAnimationIteration");Qt(nd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(rd,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);mn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mn("onBeforeInput",["compositionend","keypress","textInput","paste"]);mn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ep=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Jl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,bf(r,e,void 0,t),t.currentTarget=null}function id(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Jl(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Jl(s,a,c),i=l}}}if(Ms)throw t=Co,Ms=!1,Co=null,t}function te(t,e){var n=e[Fo];n===void 0&&(n=e[Fo]=new Set);var r=t+"__bubble";n.has(r)||(od(e,t,2,!1),n.add(r))}function Ki(t,e,n){var r=0;e&&(r|=4),od(n,t,r,e)}var ps="_reactListening"+Math.random().toString(36).slice(2);function Br(t){if(!t[ps]){t[ps]=!0,fc.forEach(function(n){n!=="selectionchange"&&(Ep.has(n)||Ki(n,!1,t),Ki(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ps]||(e[ps]=!0,Ki("selectionchange",!1,e))}}function od(t,e,n,r){switch(Wc(e)){case 1:var s=Mf;break;case 4:s=zf;break;default:s=Ra}n=s.bind(null,e,n,t),s=void 0,!To||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Qi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=sn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Cc(function(){var c=i,d=Ca(n),h=[];e:{var p=sd.get(t);if(p!==void 0){var v=La,w=t;switch(t){case"keypress":if(Ps(n)===0)break e;case"keydown":case"keyup":v=np;break;case"focusin":w="focus",v=zi;break;case"focusout":w="blur",v=zi;break;case"beforeblur":case"afterblur":v=zi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ip;break;case ed:case td:case nd:v=Kf;break;case rd:v=ap;break;case"scroll":v=Bf;break;case"wheel":v=up;break;case"copy":case"cut":case"paste":v=Gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ml}var x=(e&4)!==0,j=!x&&t==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var g=c,f;g!==null;){f=g;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,m!==null&&(y=$r(g,m),y!=null&&x.push(Wr(g,y,f)))),j)break;g=g.return}0<x.length&&(p=new v(p,w,null,n,d),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==Eo&&(w=n.relatedTarget||n.fromElement)&&(sn(w)||w[bt]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?sn(w):null,w!==null&&(j=yn(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(x=Ul,y="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ml,y="onPointerLeave",m="onPointerEnter",g="pointer"),j=v==null?p:Rn(v),f=w==null?p:Rn(w),p=new x(y,g+"leave",v,n,d),p.target=j,p.relatedTarget=f,y=null,sn(d)===c&&(x=new x(m,g+"enter",w,n,d),x.target=f,x.relatedTarget=j,y=x),j=y,v&&w)t:{for(x=v,m=w,g=0,f=x;f;f=xn(f))g++;for(f=0,y=m;y;y=xn(y))f++;for(;0<g-f;)x=xn(x),g--;for(;0<f-g;)m=xn(m),f--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=xn(x),m=xn(m)}x=null}else x=null;v!==null&&Yl(h,p,v,x,!1),w!==null&&j!==null&&Yl(h,j,w,x,!0)}}e:{if(p=c?Rn(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var _=mp;else if(Wl(p))if(Gc)_=xp;else{_=vp;var k=yp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=wp);if(_&&(_=_(t,c))){Qc(h,_,n,d);break e}k&&k(t,p,c),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&_o(p,"number",p.value)}switch(k=c?Rn(c):window,t){case"focusin":(Wl(k)||k.contentEditable==="true")&&(On=k,Ro=c,Er=null);break;case"focusout":Er=Ro=On=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Ql(h,n,d);break;case"selectionchange":if(Sp)break;case"keydown":case"keyup":Ql(h,n,d)}var E;if(Da)e:{switch(t){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Pn?qc(t,n)&&(N="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Vc&&n.locale!=="ko"&&(Pn||N!=="onCompositionStart"?N==="onCompositionEnd"&&Pn&&(E=Hc()):($t=d,Ia="value"in $t?$t.value:$t.textContent,Pn=!0)),k=Vs(c,N),0<k.length&&(N=new Fl(N,t,null,n,d),h.push({event:N,listeners:k}),E?N.data=E:(E=Kc(n),E!==null&&(N.data=E)))),(E=dp?hp(t,n):fp(t,n))&&(c=Vs(c,"onBeforeInput"),0<c.length&&(d=new Fl("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=E))}id(h,e)})}function Wr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$r(t,n),i!=null&&r.unshift(Wr(t,i,s)),i=$r(t,e),i!=null&&r.push(Wr(t,i,s))),t=t.return}return r}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yl(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=$r(n,i),l!=null&&o.unshift(Wr(n,l,a))):s||(l=$r(n,i),l!=null&&o.push(Wr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Np=/\r\n?/g,Tp=/\u0000|\uFFFD/g;function Xl(t){return(typeof t=="string"?t:""+t).replace(Np,`
`).replace(Tp,"")}function gs(t,e,n){if(e=Xl(e),Xl(t)!==e&&n)throw Error(b(425))}function qs(){}var Lo=null,$o=null;function Do(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uo=typeof setTimeout=="function"?setTimeout:void 0,Cp=typeof clearTimeout=="function"?clearTimeout:void 0,Zl=typeof Promise=="function"?Promise:void 0,Pp=typeof queueMicrotask=="function"?queueMicrotask:typeof Zl<"u"?function(t){return Zl.resolve(null).then(t).catch(Op)}:Uo;function Op(t){setTimeout(function(){throw t})}function Gi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Fr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Fr(e)}function zt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nr=Math.random().toString(36).slice(2),ft="__reactFiber$"+nr,Hr="__reactProps$"+nr,bt="__reactContainer$"+nr,Fo="__reactEvents$"+nr,Ap="__reactListeners$"+nr,Rp="__reactHandles$"+nr;function sn(t){var e=t[ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bt]||n[ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eu(t);t!==null;){if(n=t[ft])return n;t=eu(t)}return e}t=n,n=t.parentNode}return null}function ts(t){return t=t[ft]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(b(33))}function mi(t){return t[Hr]||null}var Mo=[],In=-1;function Gt(t){return{current:t}}function ne(t){0>In||(t.current=Mo[In],Mo[In]=null,In--)}function Z(t,e){In++,Mo[In]=t.current,t.current=e}var Kt={},Ee=Gt(Kt),Le=Gt(!1),cn=Kt;function Kn(t,e){var n=t.type.contextTypes;if(!n)return Kt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $e(t){return t=t.childContextTypes,t!=null}function Ks(){ne(Le),ne(Ee)}function tu(t,e,n){if(Ee.current!==Kt)throw Error(b(168));Z(Ee,e),Z(Le,n)}function ad(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(b(108,yf(t)||"Unknown",s));return oe({},n,r)}function Qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kt,cn=Ee.current,Z(Ee,t),Z(Le,Le.current),!0}function nu(t,e,n){var r=t.stateNode;if(!r)throw Error(b(169));n?(t=ad(t,e,cn),r.__reactInternalMemoizedMergedChildContext=t,ne(Le),ne(Ee),Z(Ee,t)):ne(Le),Z(Le,n)}var wt=null,yi=!1,Ji=!1;function ld(t){wt===null?wt=[t]:wt.push(t)}function Ip(t){yi=!0,ld(t)}function Jt(){if(!Ji&&wt!==null){Ji=!0;var t=0,e=J;try{var n=wt;for(J=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}wt=null,yi=!1}catch(s){throw wt!==null&&(wt=wt.slice(t+1)),Rc(Pa,Jt),s}finally{J=e,Ji=!1}}return null}var Ln=[],$n=0,Gs=null,Js=0,He=[],Ve=0,dn=null,xt=1,_t="";function en(t,e){Ln[$n++]=Js,Ln[$n++]=Gs,Gs=t,Js=e}function ud(t,e,n){He[Ve++]=xt,He[Ve++]=_t,He[Ve++]=dn,dn=t;var r=xt;t=_t;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,xt=1<<32-at(e)+s|n<<s|r,_t=i+t}else xt=1<<i|n<<s|r,_t=t}function Fa(t){t.return!==null&&(en(t,1),ud(t,1,0))}function Ma(t){for(;t===Gs;)Gs=Ln[--$n],Ln[$n]=null,Js=Ln[--$n],Ln[$n]=null;for(;t===dn;)dn=He[--Ve],He[Ve]=null,_t=He[--Ve],He[Ve]=null,xt=He[--Ve],He[Ve]=null}var Me=null,Fe=null,re=!1,ot=null;function cd(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ru(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Me=t,Fe=zt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Me=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=dn!==null?{id:xt,overflow:_t}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Me=t,Fe=null,!0):!1;default:return!1}}function zo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bo(t){if(re){var e=Fe;if(e){var n=e;if(!ru(t,e)){if(zo(t))throw Error(b(418));e=zt(n.nextSibling);var r=Me;e&&ru(t,e)?cd(r,n):(t.flags=t.flags&-4097|2,re=!1,Me=t)}}else{if(zo(t))throw Error(b(418));t.flags=t.flags&-4097|2,re=!1,Me=t}}}function su(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Me=t}function ms(t){if(t!==Me)return!1;if(!re)return su(t),re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Do(t.type,t.memoizedProps)),e&&(e=Fe)){if(zo(t))throw dd(),Error(b(418));for(;e;)cd(t,e),e=zt(e.nextSibling)}if(su(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(b(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fe=zt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=Me?zt(t.stateNode.nextSibling):null;return!0}function dd(){for(var t=Fe;t;)t=zt(t.nextSibling)}function Qn(){Fe=Me=null,re=!1}function za(t){ot===null?ot=[t]:ot.push(t)}var Lp=Nt.ReactCurrentBatchConfig;function fr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(b(309));var r=n.stateNode}if(!r)throw Error(b(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(b(284));if(!n._owner)throw Error(b(290,t))}return t}function ys(t,e){throw t=Object.prototype.toString.call(e),Error(b(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iu(t){var e=t._init;return e(t._payload)}function hd(t){function e(m,g){if(t){var f=m.deletions;f===null?(m.deletions=[g],m.flags|=16):f.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Vt(m,g),m.index=0,m.sibling=null,m}function i(m,g,f){return m.index=f,t?(f=m.alternate,f!==null?(f=f.index,f<g?(m.flags|=2,g):f):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,f,y){return g===null||g.tag!==6?(g=ro(f,m.mode,y),g.return=m,g):(g=s(g,f),g.return=m,g)}function l(m,g,f,y){var _=f.type;return _===Cn?d(m,g,f.props.children,y,f.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ot&&iu(_)===g.type)?(y=s(g,f.props),y.ref=fr(m,g,f),y.return=m,y):(y=Ds(f.type,f.key,f.props,null,m.mode,y),y.ref=fr(m,g,f),y.return=m,y)}function c(m,g,f,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==f.containerInfo||g.stateNode.implementation!==f.implementation?(g=so(f,m.mode,y),g.return=m,g):(g=s(g,f.children||[]),g.return=m,g)}function d(m,g,f,y,_){return g===null||g.tag!==7?(g=un(f,m.mode,y,_),g.return=m,g):(g=s(g,f),g.return=m,g)}function h(m,g,f){if(typeof g=="string"&&g!==""||typeof g=="number")return g=ro(""+g,m.mode,f),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case os:return f=Ds(g.type,g.key,g.props,null,m.mode,f),f.ref=fr(m,null,g),f.return=m,f;case Tn:return g=so(g,m.mode,f),g.return=m,g;case Ot:var y=g._init;return h(m,y(g._payload),f)}if(vr(g)||lr(g))return g=un(g,m.mode,f,null),g.return=m,g;ys(m,g)}return null}function p(m,g,f,y){var _=g!==null?g.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return _!==null?null:a(m,g,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case os:return f.key===_?l(m,g,f,y):null;case Tn:return f.key===_?c(m,g,f,y):null;case Ot:return _=f._init,p(m,g,_(f._payload),y)}if(vr(f)||lr(f))return _!==null?null:d(m,g,f,y,null);ys(m,f)}return null}function v(m,g,f,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(f)||null,a(g,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case os:return m=m.get(y.key===null?f:y.key)||null,l(g,m,y,_);case Tn:return m=m.get(y.key===null?f:y.key)||null,c(g,m,y,_);case Ot:var k=y._init;return v(m,g,f,k(y._payload),_)}if(vr(y)||lr(y))return m=m.get(f)||null,d(g,m,y,_,null);ys(g,y)}return null}function w(m,g,f,y){for(var _=null,k=null,E=g,N=g=0,C=null;E!==null&&N<f.length;N++){E.index>N?(C=E,E=null):C=E.sibling;var $=p(m,E,f[N],y);if($===null){E===null&&(E=C);break}t&&E&&$.alternate===null&&e(m,E),g=i($,g,N),k===null?_=$:k.sibling=$,k=$,E=C}if(N===f.length)return n(m,E),re&&en(m,N),_;if(E===null){for(;N<f.length;N++)E=h(m,f[N],y),E!==null&&(g=i(E,g,N),k===null?_=E:k.sibling=E,k=E);return re&&en(m,N),_}for(E=r(m,E);N<f.length;N++)C=v(E,m,N,f[N],y),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?N:C.key),g=i(C,g,N),k===null?_=C:k.sibling=C,k=C);return t&&E.forEach(function(L){return e(m,L)}),re&&en(m,N),_}function x(m,g,f,y){var _=lr(f);if(typeof _!="function")throw Error(b(150));if(f=_.call(f),f==null)throw Error(b(151));for(var k=_=null,E=g,N=g=0,C=null,$=f.next();E!==null&&!$.done;N++,$=f.next()){E.index>N?(C=E,E=null):C=E.sibling;var L=p(m,E,$.value,y);if(L===null){E===null&&(E=C);break}t&&E&&L.alternate===null&&e(m,E),g=i(L,g,N),k===null?_=L:k.sibling=L,k=L,E=C}if($.done)return n(m,E),re&&en(m,N),_;if(E===null){for(;!$.done;N++,$=f.next())$=h(m,$.value,y),$!==null&&(g=i($,g,N),k===null?_=$:k.sibling=$,k=$);return re&&en(m,N),_}for(E=r(m,E);!$.done;N++,$=f.next())$=v(E,m,N,$.value,y),$!==null&&(t&&$.alternate!==null&&E.delete($.key===null?N:$.key),g=i($,g,N),k===null?_=$:k.sibling=$,k=$);return t&&E.forEach(function(P){return e(m,P)}),re&&en(m,N),_}function j(m,g,f,y){if(typeof f=="object"&&f!==null&&f.type===Cn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case os:e:{for(var _=f.key,k=g;k!==null;){if(k.key===_){if(_=f.type,_===Cn){if(k.tag===7){n(m,k.sibling),g=s(k,f.props.children),g.return=m,m=g;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ot&&iu(_)===k.type){n(m,k.sibling),g=s(k,f.props),g.ref=fr(m,k,f),g.return=m,m=g;break e}n(m,k);break}else e(m,k);k=k.sibling}f.type===Cn?(g=un(f.props.children,m.mode,y,f.key),g.return=m,m=g):(y=Ds(f.type,f.key,f.props,null,m.mode,y),y.ref=fr(m,g,f),y.return=m,m=y)}return o(m);case Tn:e:{for(k=f.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===f.containerInfo&&g.stateNode.implementation===f.implementation){n(m,g.sibling),g=s(g,f.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=so(f,m.mode,y),g.return=m,m=g}return o(m);case Ot:return k=f._init,j(m,g,k(f._payload),y)}if(vr(f))return w(m,g,f,y);if(lr(f))return x(m,g,f,y);ys(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,f),g.return=m,m=g):(n(m,g),g=ro(f,m.mode,y),g.return=m,m=g),o(m)):n(m,g)}return j}var Gn=hd(!0),fd=hd(!1),Ys=Gt(null),Xs=null,Dn=null,Ba=null;function Wa(){Ba=Dn=Xs=null}function Ha(t){var e=Ys.current;ne(Ys),t._currentValue=e}function Wo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hn(t,e){Xs=t,Ba=Dn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ie=!0),t.firstContext=null)}function Ge(t){var e=t._currentValue;if(Ba!==t)if(t={context:t,memoizedValue:e,next:null},Dn===null){if(Xs===null)throw Error(b(308));Dn=t,Xs.dependencies={lanes:0,firstContext:t}}else Dn=Dn.next=t;return e}var on=null;function Va(t){on===null?on=[t]:on.push(t)}function pd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Va(e)):(n.next=s.next,s.next=n),e.interleaved=n,jt(t,r)}function jt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var At=!1;function qa(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function kt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,jt(t,n)}return s=r.interleaved,s===null?(e.next=e,Va(r)):(e.next=s.next,s.next=e),r.interleaved=e,jt(t,n)}function Os(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Oa(t,n)}}function ou(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zs(t,e,n,r){var s=t.updateQueue;At=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,x=a;switch(p=e,v=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(v,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,p=typeof w=="function"?w.call(v,h,p):w,p==null)break e;h=oe({},h,p);break e;case 2:At=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);fn|=o,t.lanes=o,t.memoizedState=h}}function au(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(b(191,s));s.call(r)}}}var ns={},gt=Gt(ns),Vr=Gt(ns),qr=Gt(ns);function an(t){if(t===ns)throw Error(b(174));return t}function Ka(t,e){switch(Z(qr,e),Z(Vr,t),Z(gt,ns),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:So(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=So(e,t)}ne(gt),Z(gt,e)}function Jn(){ne(gt),ne(Vr),ne(qr)}function md(t){an(qr.current);var e=an(gt.current),n=So(e,t.type);e!==n&&(Z(Vr,t),Z(gt,n))}function Qa(t){Vr.current===t&&(ne(gt),ne(Vr))}var se=Gt(0);function ei(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yi=[];function Ga(){for(var t=0;t<Yi.length;t++)Yi[t]._workInProgressVersionPrimary=null;Yi.length=0}var As=Nt.ReactCurrentDispatcher,Xi=Nt.ReactCurrentBatchConfig,hn=0,ie=null,pe=null,me=null,ti=!1,Nr=!1,Kr=0,$p=0;function Se(){throw Error(b(321))}function Ja(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ut(t[n],e[n]))return!1;return!0}function Ya(t,e,n,r,s,i){if(hn=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,As.current=t===null||t.memoizedState===null?Mp:zp,t=n(r,s),Nr){i=0;do{if(Nr=!1,Kr=0,25<=i)throw Error(b(301));i+=1,me=pe=null,e.updateQueue=null,As.current=Bp,t=n(r,s)}while(Nr)}if(As.current=ni,e=pe!==null&&pe.next!==null,hn=0,me=pe=ie=null,ti=!1,e)throw Error(b(300));return t}function Xa(){var t=Kr!==0;return Kr=0,t}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ie.memoizedState=me=t:me=me.next=t,me}function Je(){if(pe===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=me===null?ie.memoizedState:me.next;if(e!==null)me=e,pe=t;else{if(t===null)throw Error(b(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},me===null?ie.memoizedState=me=t:me=me.next=t}return me}function Qr(t,e){return typeof e=="function"?e(t):e}function Zi(t){var e=Je(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((hn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ie.lanes|=d,fn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ut(r,e.memoizedState)||(Ie=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ie.lanes|=i,fn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eo(t){var e=Je(),n=e.queue;if(n===null)throw Error(b(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ut(i,e.memoizedState)||(Ie=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function yd(){}function vd(t,e){var n=ie,r=Je(),s=e(),i=!ut(r.memoizedState,s);if(i&&(r.memoizedState=s,Ie=!0),r=r.queue,Za(_d.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Gr(9,xd.bind(null,n,r,s,e),void 0,null),ye===null)throw Error(b(349));hn&30||wd(n,e,s)}return s}function wd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xd(t,e,n,r){e.value=n,e.getSnapshot=r,kd(e)&&Sd(t)}function _d(t,e,n){return n(function(){kd(e)&&Sd(t)})}function kd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ut(t,n)}catch{return!0}}function Sd(t){var e=jt(t,1);e!==null&&lt(e,t,1,-1)}function lu(t){var e=dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:t},e.queue=t,t=t.dispatch=Fp.bind(null,ie,t),[e.memoizedState,t]}function Gr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function bd(){return Je().memoizedState}function Rs(t,e,n,r){var s=dt();ie.flags|=t,s.memoizedState=Gr(1|e,n,void 0,r===void 0?null:r)}function vi(t,e,n,r){var s=Je();r=r===void 0?null:r;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,r!==null&&Ja(r,o.deps)){s.memoizedState=Gr(e,n,i,r);return}}ie.flags|=t,s.memoizedState=Gr(1|e,n,i,r)}function uu(t,e){return Rs(8390656,8,t,e)}function Za(t,e){return vi(2048,8,t,e)}function jd(t,e){return vi(4,2,t,e)}function Ed(t,e){return vi(4,4,t,e)}function Nd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Td(t,e,n){return n=n!=null?n.concat([t]):null,vi(4,4,Nd.bind(null,e,t),n)}function el(){}function Cd(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ja(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pd(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ja(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Od(t,e,n){return hn&21?(ut(n,e)||(n=$c(),ie.lanes|=n,fn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ie=!0),t.memoizedState=n)}function Dp(t,e){var n=J;J=n!==0&&4>n?n:4,t(!0);var r=Xi.transition;Xi.transition={};try{t(!1),e()}finally{J=n,Xi.transition=r}}function Ad(){return Je().memoizedState}function Up(t,e,n){var r=Ht(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rd(t))Id(e,n);else if(n=pd(t,e,n,r),n!==null){var s=Ce();lt(n,t,r,s),Ld(n,e,r)}}function Fp(t,e,n){var r=Ht(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rd(t))Id(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ut(a,o)){var l=e.interleaved;l===null?(s.next=s,Va(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=pd(t,e,s,r),n!==null&&(s=Ce(),lt(n,t,r,s),Ld(n,e,r))}}function Rd(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function Id(t,e){Nr=ti=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ld(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Oa(t,n)}}var ni={readContext:Ge,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Mp={readContext:Ge,useCallback:function(t,e){return dt().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:uu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rs(4194308,4,Nd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rs(4,2,t,e)},useMemo:function(t,e){var n=dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Up.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=dt();return t={current:t},e.memoizedState=t},useState:lu,useDebugValue:el,useDeferredValue:function(t){return dt().memoizedState=t},useTransition:function(){var t=lu(!1),e=t[0];return t=Dp.bind(null,t[1]),dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ie,s=dt();if(re){if(n===void 0)throw Error(b(407));n=n()}else{if(n=e(),ye===null)throw Error(b(349));hn&30||wd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,uu(_d.bind(null,r,i,t),[t]),r.flags|=2048,Gr(9,xd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dt(),e=ye.identifierPrefix;if(re){var n=_t,r=xt;n=(r&~(1<<32-at(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Kr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$p++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zp={readContext:Ge,useCallback:Cd,useContext:Ge,useEffect:Za,useImperativeHandle:Td,useInsertionEffect:jd,useLayoutEffect:Ed,useMemo:Pd,useReducer:Zi,useRef:bd,useState:function(){return Zi(Qr)},useDebugValue:el,useDeferredValue:function(t){var e=Je();return Od(e,pe.memoizedState,t)},useTransition:function(){var t=Zi(Qr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:yd,useSyncExternalStore:vd,useId:Ad,unstable_isNewReconciler:!1},Bp={readContext:Ge,useCallback:Cd,useContext:Ge,useEffect:Za,useImperativeHandle:Td,useInsertionEffect:jd,useLayoutEffect:Ed,useMemo:Pd,useReducer:eo,useRef:bd,useState:function(){return eo(Qr)},useDebugValue:el,useDeferredValue:function(t){var e=Je();return pe===null?e.memoizedState=t:Od(e,pe.memoizedState,t)},useTransition:function(){var t=eo(Qr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:yd,useSyncExternalStore:vd,useId:Ad,unstable_isNewReconciler:!1};function rt(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ho(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wi={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ce(),s=Ht(t),i=kt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Bt(t,i,s),e!==null&&(lt(e,t,s,r),Os(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ce(),s=Ht(t),i=kt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bt(t,i,s),e!==null&&(lt(e,t,s,r),Os(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ce(),r=Ht(t),s=kt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Bt(t,s,r),e!==null&&(lt(e,t,r,n),Os(e,t,r))}};function cu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!zr(n,r)||!zr(s,i):!0}function $d(t,e,n){var r=!1,s=Kt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=$e(e)?cn:Ee.current,r=e.contextTypes,i=(r=r!=null)?Kn(t,s):Kt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function du(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wi.enqueueReplaceState(e,e.state,null)}function Vo(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},qa(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=$e(e)?cn:Ee.current,s.context=Kn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ho(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wi.enqueueReplaceState(s,s.state,null),Zs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yn(t,e){try{var n="",r=e;do n+=mf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function to(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Wp=typeof WeakMap=="function"?WeakMap:Map;function Dd(t,e,n){n=kt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){si||(si=!0,na=r),qo(t,e)},n}function Ud(t,e,n){n=kt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qo(t,e),typeof r!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Wp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=r0.bind(null,t,e,n),e.then(t,t))}function fu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=kt(-1,1),e.tag=2,Bt(n,e,1))),n.lanes|=1),t)}var Hp=Nt.ReactCurrentOwner,Ie=!1;function Te(t,e,n,r){e.child=t===null?fd(e,null,n,r):Gn(e,t.child,n,r)}function gu(t,e,n,r,s){n=n.render;var i=e.ref;return Hn(e,s),r=Ya(t,e,n,r,i,s),n=Xa(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(re&&n&&Fa(e),e.flags|=1,Te(t,e,r,s),e.child)}function mu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ll(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Fd(t,e,i,r,s)):(t=Ds(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:zr,n(o,r)&&t.ref===e.ref)return Et(t,e,s)}return e.flags|=1,t=Vt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Fd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(zr(i,r)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,Et(t,e,s)}return Ko(t,e,n,r,s)}function Md(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Fn,Ue),Ue|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Fn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(Fn,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Z(Fn,Ue),Ue|=r;return Te(t,e,s,n),e.child}function zd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ko(t,e,n,r,s){var i=$e(n)?cn:Ee.current;return i=Kn(e,i),Hn(e,s),n=Ya(t,e,n,r,i,s),r=Xa(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Et(t,e,s)):(re&&r&&Fa(e),e.flags|=1,Te(t,e,n,s),e.child)}function yu(t,e,n,r,s){if($e(n)){var i=!0;Qs(e)}else i=!1;if(Hn(e,s),e.stateNode===null)Is(t,e),$d(e,n,r),Vo(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ge(c):(c=$e(n)?cn:Ee.current,c=Kn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&du(e,o,r,c),At=!1;var p=e.memoizedState;o.state=p,Zs(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Le.current||At?(typeof d=="function"&&(Ho(e,n,d,r),l=e.memoizedState),(a=At||cu(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:rt(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ge(l):(l=$e(n)?cn:Ee.current,l=Kn(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&du(e,o,r,l),At=!1,p=e.memoizedState,o.state=p,Zs(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||Le.current||At?(typeof v=="function"&&(Ho(e,n,v,r),w=e.memoizedState),(c=At||cu(e,n,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Qo(t,e,n,r,i,s)}function Qo(t,e,n,r,s,i){zd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&nu(e,n,!1),Et(t,e,i);r=e.stateNode,Hp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gn(e,t.child,null,i),e.child=Gn(e,null,a,i)):Te(t,e,a,i),e.memoizedState=r.state,s&&nu(e,n,!0),e.child}function Bd(t){var e=t.stateNode;e.pendingContext?tu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tu(t,e.context,!1),Ka(t,e.containerInfo)}function vu(t,e,n,r,s){return Qn(),za(s),e.flags|=256,Te(t,e,n,r),e.child}var Go={dehydrated:null,treeContext:null,retryLane:0};function Jo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Wd(t,e,n){var r=e.pendingProps,s=se.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(se,s&1),t===null)return Bo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ki(o,r,0,null),t=un(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Jo(n),e.memoizedState=Go,t):tl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Vp(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Vt(a,i):(i=un(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Jo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Go,r}return i=t.child,t=i.sibling,r=Vt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function tl(t,e){return e=ki({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vs(t,e,n,r){return r!==null&&za(r),Gn(e,t.child,null,n),t=tl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=to(Error(b(422))),vs(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ki({mode:"visible",children:r.children},s,0,null),i=un(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Gn(e,t.child,null,o),e.child.memoizedState=Jo(o),e.memoizedState=Go,i);if(!(e.mode&1))return vs(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(b(419)),r=to(i,r,void 0),vs(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ie||a){if(r=ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(t,s),lt(r,t,s,-1))}return al(),r=to(Error(b(421))),vs(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=s0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Fe=zt(s.nextSibling),Me=e,re=!0,ot=null,t!==null&&(He[Ve++]=xt,He[Ve++]=_t,He[Ve++]=dn,xt=t.id,_t=t.overflow,dn=e),e=tl(e,r.children),e.flags|=4096,e)}function wu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Wo(t.return,e,n)}function no(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Hd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Te(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wu(t,n,e);else if(t.tag===19)wu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ei(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),no(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ei(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}no(e,!0,n,null,i);break;case"together":no(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Is(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Et(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(b(153));if(e.child!==null){for(t=e.child,n=Vt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qp(t,e,n){switch(e.tag){case 3:Bd(e),Qn();break;case 5:md(e);break;case 1:$e(e.type)&&Qs(e);break;case 4:Ka(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Z(Ys,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?Wd(t,e,n):(Z(se,se.current&1),t=Et(t,e,n),t!==null?t.sibling:null);Z(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Hd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,Md(t,e,n)}return Et(t,e,n)}var Vd,Yo,qd,Kd;Vd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yo=function(){};qd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,an(gt.current);var i=null;switch(n){case"input":s=wo(t,s),r=wo(t,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=ko(t,s),r=ko(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qs)}bo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ir.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ir.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&te("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Kd=function(t,e,n,r){n!==r&&(e.flags|=4)};function pr(t,e){if(!re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Kp(t,e,n){var r=e.pendingProps;switch(Ma(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return $e(e.type)&&Ks(),be(e),null;case 3:return r=e.stateNode,Jn(),ne(Le),ne(Ee),Ga(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ms(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ot!==null&&(ia(ot),ot=null))),Yo(t,e),be(e),null;case 5:Qa(e);var s=an(qr.current);if(n=e.type,t!==null&&e.stateNode!=null)qd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(b(166));return be(e),null}if(t=an(gt.current),ms(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ft]=e,r[Hr]=i,t=(e.mode&1)!==0,n){case"dialog":te("cancel",r),te("close",r);break;case"iframe":case"object":case"embed":te("load",r);break;case"video":case"audio":for(s=0;s<xr.length;s++)te(xr[s],r);break;case"source":te("error",r);break;case"img":case"image":case"link":te("error",r),te("load",r);break;case"details":te("toggle",r);break;case"input":Tl(r,i),te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},te("invalid",r);break;case"textarea":Pl(r,i),te("invalid",r)}bo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&gs(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&gs(r.textContent,a,t),s=["children",""+a]):Ir.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&te("scroll",r)}switch(n){case"input":as(r),Cl(r,i,!0);break;case"textarea":as(r),Ol(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=qs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_c(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ft]=e,t[Hr]=r,Vd(t,e,!1,!1),e.stateNode=t;e:{switch(o=jo(n,r),n){case"dialog":te("cancel",t),te("close",t),s=r;break;case"iframe":case"object":case"embed":te("load",t),s=r;break;case"video":case"audio":for(s=0;s<xr.length;s++)te(xr[s],t);s=r;break;case"source":te("error",t),s=r;break;case"img":case"image":case"link":te("error",t),te("load",t),s=r;break;case"details":te("toggle",t),s=r;break;case"input":Tl(t,r),s=wo(t,r),te("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),te("invalid",t);break;case"textarea":Pl(t,r),s=ko(t,r),te("invalid",t);break;default:s=r}bo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?bc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&kc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lr(t,l):typeof l=="number"&&Lr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ir.hasOwnProperty(i)?l!=null&&i==="onScroll"&&te("scroll",t):l!=null&&ja(t,i,l,o))}switch(n){case"input":as(t),Cl(t,r,!1);break;case"textarea":as(t),Ol(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Mn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Mn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=qs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)Kd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(b(166));if(n=an(qr.current),an(gt.current),ms(e)){if(r=e.stateNode,n=e.memoizedProps,r[ft]=e,(i=r.nodeValue!==n)&&(t=Me,t!==null))switch(t.tag){case 3:gs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gs(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ft]=e,e.stateNode=r}return be(e),null;case 13:if(ne(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(re&&Fe!==null&&e.mode&1&&!(e.flags&128))dd(),Qn(),e.flags|=98560,i=!1;else if(i=ms(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(b(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[ft]=e}else Qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),i=!1}else ot!==null&&(ia(ot),ot=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?ge===0&&(ge=3):al())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return Jn(),Yo(t,e),t===null&&Br(e.stateNode.containerInfo),be(e),null;case 10:return Ha(e.type._context),be(e),null;case 17:return $e(e.type)&&Ks(),be(e),null;case 19:if(ne(se),i=e.memoizedState,i===null)return be(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)pr(i,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ei(t),o!==null){for(e.flags|=128,pr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&ue()>Xn&&(e.flags|=128,r=!0,pr(i,!1),e.lanes=4194304)}else{if(!r)if(t=ei(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!re)return be(e),null}else 2*ue()-i.renderingStartTime>Xn&&n!==1073741824&&(e.flags|=128,r=!0,pr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ue(),e.sibling=null,n=se.current,Z(se,r?n&1|2:n&1),e):(be(e),null);case 22:case 23:return ol(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(b(156,e.tag))}function Qp(t,e){switch(Ma(e),e.tag){case 1:return $e(e.type)&&Ks(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jn(),ne(Le),ne(Ee),Ga(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qa(e),null;case 13:if(ne(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(b(340));Qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ne(se),null;case 4:return Jn(),null;case 10:return Ha(e.type._context),null;case 22:case 23:return ol(),null;case 24:return null;default:return null}}var ws=!1,je=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,O=null;function Un(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function Xo(t,e,n){try{n()}catch(r){le(t,e,r)}}var xu=!1;function Jp(t,e){if(Lo=Ws,t=Xc(),Ua(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($o={focusedElem:t,selectionRange:n},Ws=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,j=w.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:rt(e.type,x),j);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(y){le(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return w=xu,xu=!1,w}function Tr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Xo(e,n,i)}s=s.next}while(s!==r)}}function xi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qd(t){var e=t.alternate;e!==null&&(t.alternate=null,Qd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ft],delete e[Hr],delete e[Fo],delete e[Ap],delete e[Rp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Gd(t){return t.tag===5||t.tag===3||t.tag===4}function _u(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Gd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ea(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qs));else if(r!==4&&(t=t.child,t!==null))for(ea(t,e,n),t=t.sibling;t!==null;)ea(t,e,n),t=t.sibling}function ta(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ta(t,e,n),t=t.sibling;t!==null;)ta(t,e,n),t=t.sibling}var ve=null,st=!1;function Tt(t,e,n){for(n=n.child;n!==null;)Jd(t,e,n),n=n.sibling}function Jd(t,e,n){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(hi,n)}catch{}switch(n.tag){case 5:je||Un(n,e);case 6:var r=ve,s=st;ve=null,Tt(t,e,n),ve=r,st=s,ve!==null&&(st?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(st?(t=ve,n=n.stateNode,t.nodeType===8?Gi(t.parentNode,n):t.nodeType===1&&Gi(t,n),Fr(t)):Gi(ve,n.stateNode));break;case 4:r=ve,s=st,ve=n.stateNode.containerInfo,st=!0,Tt(t,e,n),ve=r,st=s;break;case 0:case 11:case 14:case 15:if(!je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Xo(n,e,o),s=s.next}while(s!==r)}Tt(t,e,n);break;case 1:if(!je&&(Un(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){le(n,e,a)}Tt(t,e,n);break;case 21:Tt(t,e,n);break;case 22:n.mode&1?(je=(r=je)||n.memoizedState!==null,Tt(t,e,n),je=r):Tt(t,e,n);break;default:Tt(t,e,n)}}function ku(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gp),e.forEach(function(r){var s=i0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,st=!1;break e;case 3:ve=a.stateNode.containerInfo,st=!0;break e;case 4:ve=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(ve===null)throw Error(b(160));Jd(i,o,s),ve=null,st=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){le(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Yd(e,t),e=e.sibling}function Yd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tt(e,t),ct(t),r&4){try{Tr(3,t,t.return),xi(3,t)}catch(x){le(t,t.return,x)}try{Tr(5,t,t.return)}catch(x){le(t,t.return,x)}}break;case 1:tt(e,t),ct(t),r&512&&n!==null&&Un(n,n.return);break;case 5:if(tt(e,t),ct(t),r&512&&n!==null&&Un(n,n.return),t.flags&32){var s=t.stateNode;try{Lr(s,"")}catch(x){le(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&wc(s,i),jo(a,o);var c=jo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?bc(s,h):d==="dangerouslySetInnerHTML"?kc(s,h):d==="children"?Lr(s,h):ja(s,d,h,c)}switch(a){case"input":xo(s,i);break;case"textarea":xc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Mn(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Mn(s,!!i.multiple,i.defaultValue,!0):Mn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hr]=i}catch(x){le(t,t.return,x)}}break;case 6:if(tt(e,t),ct(t),r&4){if(t.stateNode===null)throw Error(b(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){le(t,t.return,x)}}break;case 3:if(tt(e,t),ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Fr(e.containerInfo)}catch(x){le(t,t.return,x)}break;case 4:tt(e,t),ct(t);break;case 13:tt(e,t),ct(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(sl=ue())),r&4&&ku(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(je=(c=je)||d,tt(e,t),je=c):tt(e,t),ct(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(p=O,v=p.child,p.tag){case 0:case 11:case 14:case 15:Tr(4,p,p.return);break;case 1:Un(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){le(r,n,x)}}break;case 5:Un(p,p.return);break;case 22:if(p.memoizedState!==null){bu(h);continue}}v!==null?(v.return=p,O=v):bu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Sc("display",o))}catch(x){le(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){le(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tt(e,t),ct(t),r&4&&ku(t);break;case 21:break;default:tt(e,t),ct(t)}}function ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Gd(n)){var r=n;break e}n=n.return}throw Error(b(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Lr(s,""),r.flags&=-33);var i=_u(t);ta(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_u(t);ea(t,a,o);break;default:throw Error(b(161))}}catch(l){le(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yp(t,e,n){O=t,Xd(t)}function Xd(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ws;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||je;a=ws;var c=je;if(ws=o,(je=l)&&!c)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?ju(s):l!==null?(l.return=o,O=l):ju(s);for(;i!==null;)O=i,Xd(i),i=i.sibling;O=s,ws=a,je=c}Su(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Su(t)}}function Su(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||xi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!je)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:rt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&au(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}au(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Fr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}je||e.flags&512&&Zo(e)}catch(p){le(e,e.return,p)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function bu(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function ju(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xi(4,e)}catch(l){le(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){le(e,s,l)}}var i=e.return;try{Zo(e)}catch(l){le(e,i,l)}break;case 5:var o=e.return;try{Zo(e)}catch(l){le(e,o,l)}}}catch(l){le(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var Xp=Math.ceil,ri=Nt.ReactCurrentDispatcher,nl=Nt.ReactCurrentOwner,Ke=Nt.ReactCurrentBatchConfig,q=0,ye=null,de=null,we=0,Ue=0,Fn=Gt(0),ge=0,Jr=null,fn=0,_i=0,rl=0,Cr=null,Ae=null,sl=0,Xn=1/0,yt=null,si=!1,na=null,Wt=null,xs=!1,Dt=null,ii=0,Pr=0,ra=null,Ls=-1,$s=0;function Ce(){return q&6?ue():Ls!==-1?Ls:Ls=ue()}function Ht(t){return t.mode&1?q&2&&we!==0?we&-we:Lp.transition!==null?($s===0&&($s=$c()),$s):(t=J,t!==0||(t=window.event,t=t===void 0?16:Wc(t.type)),t):1}function lt(t,e,n,r){if(50<Pr)throw Pr=0,ra=null,Error(b(185));Zr(t,n,r),(!(q&2)||t!==ye)&&(t===ye&&(!(q&2)&&(_i|=n),ge===4&&It(t,we)),De(t,r),n===1&&q===0&&!(e.mode&1)&&(Xn=ue()+500,yi&&Jt()))}function De(t,e){var n=t.callbackNode;Lf(t,e);var r=Bs(t,t===ye?we:0);if(r===0)n!==null&&Il(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Il(n),e===1)t.tag===0?Ip(Eu.bind(null,t)):ld(Eu.bind(null,t)),Pp(function(){!(q&6)&&Jt()}),n=null;else{switch(Dc(r)){case 1:n=Pa;break;case 4:n=Ic;break;case 16:n=zs;break;case 536870912:n=Lc;break;default:n=zs}n=oh(n,Zd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Zd(t,e){if(Ls=-1,$s=0,q&6)throw Error(b(327));var n=t.callbackNode;if(Vn()&&t.callbackNode!==n)return null;var r=Bs(t,t===ye?we:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oi(t,r);else{e=r;var s=q;q|=2;var i=th();(ye!==t||we!==e)&&(yt=null,Xn=ue()+500,ln(t,e));do try{t0();break}catch(a){eh(t,a)}while(!0);Wa(),ri.current=i,q=s,de!==null?e=0:(ye=null,we=0,e=ge)}if(e!==0){if(e===2&&(s=Po(t),s!==0&&(r=s,e=sa(t,s))),e===1)throw n=Jr,ln(t,0),It(t,r),De(t,ue()),n;if(e===6)It(t,r);else{if(s=t.current.alternate,!(r&30)&&!Zp(s)&&(e=oi(t,r),e===2&&(i=Po(t),i!==0&&(r=i,e=sa(t,i))),e===1))throw n=Jr,ln(t,0),It(t,r),De(t,ue()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(b(345));case 2:tn(t,Ae,yt);break;case 3:if(It(t,r),(r&130023424)===r&&(e=sl+500-ue(),10<e)){if(Bs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ce(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uo(tn.bind(null,t,Ae,yt),e);break}tn(t,Ae,yt);break;case 4:if(It(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-at(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ue()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xp(r/1960))-r,10<r){t.timeoutHandle=Uo(tn.bind(null,t,Ae,yt),r);break}tn(t,Ae,yt);break;case 5:tn(t,Ae,yt);break;default:throw Error(b(329))}}}return De(t,ue()),t.callbackNode===n?Zd.bind(null,t):null}function sa(t,e){var n=Cr;return t.current.memoizedState.isDehydrated&&(ln(t,e).flags|=256),t=oi(t,e),t!==2&&(e=Ae,Ae=n,e!==null&&ia(e)),t}function ia(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function Zp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function It(t,e){for(e&=~rl,e&=~_i,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-at(e),r=1<<n;t[n]=-1,e&=~r}}function Eu(t){if(q&6)throw Error(b(327));Vn();var e=Bs(t,0);if(!(e&1))return De(t,ue()),null;var n=oi(t,e);if(t.tag!==0&&n===2){var r=Po(t);r!==0&&(e=r,n=sa(t,r))}if(n===1)throw n=Jr,ln(t,0),It(t,e),De(t,ue()),n;if(n===6)throw Error(b(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tn(t,Ae,yt),De(t,ue()),null}function il(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Xn=ue()+500,yi&&Jt())}}function pn(t){Dt!==null&&Dt.tag===0&&!(q&6)&&Vn();var e=q;q|=1;var n=Ke.transition,r=J;try{if(Ke.transition=null,J=1,t)return t()}finally{J=r,Ke.transition=n,q=e,!(q&6)&&Jt()}}function ol(){Ue=Fn.current,ne(Fn)}function ln(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Cp(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Ma(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ks();break;case 3:Jn(),ne(Le),ne(Ee),Ga();break;case 5:Qa(r);break;case 4:Jn();break;case 13:ne(se);break;case 19:ne(se);break;case 10:Ha(r.type._context);break;case 22:case 23:ol()}n=n.return}if(ye=t,de=t=Vt(t.current,null),we=Ue=e,ge=0,Jr=null,rl=_i=fn=0,Ae=Cr=null,on!==null){for(e=0;e<on.length;e++)if(n=on[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}on=null}return t}function eh(t,e){do{var n=de;try{if(Wa(),As.current=ni,ti){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ti=!1}if(hn=0,me=pe=ie=null,Nr=!1,Kr=0,nl.current=null,n===null||n.return===null){ge=1,Jr=e,de=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=we,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=fu(o);if(v!==null){v.flags&=-257,pu(v,o,a,i,e),v.mode&1&&hu(i,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var x=new Set;x.add(l),e.updateQueue=x}else w.add(l);break e}else{if(!(e&1)){hu(i,c,e),al();break e}l=Error(b(426))}}else if(re&&a.mode&1){var j=fu(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),pu(j,o,a,i,e),za(Yn(l,a));break e}}i=l=Yn(l,a),ge!==4&&(ge=2),Cr===null?Cr=[i]:Cr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Dd(i,l,e);ou(i,m);break e;case 1:a=l;var g=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wt===null||!Wt.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Ud(i,a,e);ou(i,y);break e}}i=i.return}while(i!==null)}rh(n)}catch(_){e=_,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function th(){var t=ri.current;return ri.current=ni,t===null?ni:t}function al(){(ge===0||ge===3||ge===2)&&(ge=4),ye===null||!(fn&268435455)&&!(_i&268435455)||It(ye,we)}function oi(t,e){var n=q;q|=2;var r=th();(ye!==t||we!==e)&&(yt=null,ln(t,e));do try{e0();break}catch(s){eh(t,s)}while(!0);if(Wa(),q=n,ri.current=r,de!==null)throw Error(b(261));return ye=null,we=0,ge}function e0(){for(;de!==null;)nh(de)}function t0(){for(;de!==null&&!Ef();)nh(de)}function nh(t){var e=ih(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?rh(t):de=e,nl.current=null}function rh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qp(n,e),n!==null){n.flags&=32767,de=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ge=6,de=null;return}}else if(n=Kp(n,e,Ue),n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);ge===0&&(ge=5)}function tn(t,e,n){var r=J,s=Ke.transition;try{Ke.transition=null,J=1,n0(t,e,n,r)}finally{Ke.transition=s,J=r}return null}function n0(t,e,n,r){do Vn();while(Dt!==null);if(q&6)throw Error(b(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(b(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if($f(t,i),t===ye&&(de=ye=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xs||(xs=!0,oh(zs,function(){return Vn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var o=J;J=1;var a=q;q|=4,nl.current=null,Jp(t,n),Yd(n,t),kp($o),Ws=!!Lo,$o=Lo=null,t.current=n,Yp(n),Nf(),q=a,J=o,Ke.transition=i}else t.current=n;if(xs&&(xs=!1,Dt=t,ii=s),i=t.pendingLanes,i===0&&(Wt=null),Pf(n.stateNode),De(t,ue()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(si)throw si=!1,t=na,na=null,t;return ii&1&&t.tag!==0&&Vn(),i=t.pendingLanes,i&1?t===ra?Pr++:(Pr=0,ra=t):Pr=0,Jt(),null}function Vn(){if(Dt!==null){var t=Dc(ii),e=Ke.transition,n=J;try{if(Ke.transition=null,J=16>t?16:t,Dt===null)var r=!1;else{if(t=Dt,Dt=null,ii=0,q&6)throw Error(b(331));var s=q;for(q|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Tr(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var p=d.sibling,v=d.return;if(Qd(d),d===c){O=null;break}if(p!==null){p.return=v,O=p;break}O=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var j=x.sibling;x.sibling=null,x=j}while(x!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var g=t.current;for(O=g;O!==null;){o=O;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,O=f;else e:for(o=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xi(9,a)}}catch(_){le(a,a.return,_)}if(a===o){O=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,O=y;break e}O=a.return}}if(q=s,Jt(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(hi,t)}catch{}r=!0}return r}finally{J=n,Ke.transition=e}}return!1}function Nu(t,e,n){e=Yn(n,e),e=Dd(t,e,1),t=Bt(t,e,1),e=Ce(),t!==null&&(Zr(t,1,e),De(t,e))}function le(t,e,n){if(t.tag===3)Nu(t,t,n);else for(;e!==null;){if(e.tag===3){Nu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wt===null||!Wt.has(r))){t=Yn(n,t),t=Ud(e,t,1),e=Bt(e,t,1),t=Ce(),e!==null&&(Zr(e,1,t),De(e,t));break}}e=e.return}}function r0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ce(),t.pingedLanes|=t.suspendedLanes&n,ye===t&&(we&n)===n&&(ge===4||ge===3&&(we&130023424)===we&&500>ue()-sl?ln(t,0):rl|=n),De(t,e)}function sh(t,e){e===0&&(t.mode&1?(e=cs,cs<<=1,!(cs&130023424)&&(cs=4194304)):e=1);var n=Ce();t=jt(t,e),t!==null&&(Zr(t,e,n),De(t,n))}function s0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sh(t,n)}function i0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(b(314))}r!==null&&r.delete(e),sh(t,n)}var ih;ih=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Le.current)Ie=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ie=!1,qp(t,e,n);Ie=!!(t.flags&131072)}else Ie=!1,re&&e.flags&1048576&&ud(e,Js,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Is(t,e),t=e.pendingProps;var s=Kn(e,Ee.current);Hn(e,n),s=Ya(null,e,r,t,s,n);var i=Xa();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(r)?(i=!0,Qs(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,qa(e),s.updater=wi,e.stateNode=s,s._reactInternals=e,Vo(e,r,t,n),e=Qo(null,e,r,!0,i,n)):(e.tag=0,re&&i&&Fa(e),Te(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Is(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=a0(r),t=rt(r,t),s){case 0:e=Ko(null,e,r,t,n);break e;case 1:e=yu(null,e,r,t,n);break e;case 11:e=gu(null,e,r,t,n);break e;case 14:e=mu(null,e,r,rt(r.type,t),n);break e}throw Error(b(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),Ko(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),yu(t,e,r,s,n);case 3:e:{if(Bd(e),t===null)throw Error(b(387));r=e.pendingProps,i=e.memoizedState,s=i.element,gd(t,e),Zs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yn(Error(b(423)),e),e=vu(t,e,r,n,s);break e}else if(r!==s){s=Yn(Error(b(424)),e),e=vu(t,e,r,n,s);break e}else for(Fe=zt(e.stateNode.containerInfo.firstChild),Me=e,re=!0,ot=null,n=fd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),r===s){e=Et(t,e,n);break e}Te(t,e,r,n)}e=e.child}return e;case 5:return md(e),t===null&&Bo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Do(r,s)?o=null:i!==null&&Do(r,i)&&(e.flags|=32),zd(t,e),Te(t,e,o,n),e.child;case 6:return t===null&&Bo(e),null;case 13:return Wd(t,e,n);case 4:return Ka(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gn(e,null,r,n):Te(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),gu(t,e,r,s,n);case 7:return Te(t,e,e.pendingProps,n),e.child;case 8:return Te(t,e,e.pendingProps.children,n),e.child;case 12:return Te(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Z(Ys,r._currentValue),r._currentValue=o,i!==null)if(ut(i.value,o)){if(i.children===s.children&&!Le.current){e=Et(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=kt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Wo(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(b(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Wo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Te(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hn(e,n),s=Ge(s),r=r(s),e.flags|=1,Te(t,e,r,n),e.child;case 14:return r=e.type,s=rt(r,e.pendingProps),s=rt(r.type,s),mu(t,e,r,s,n);case 15:return Fd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:rt(r,s),Is(t,e),e.tag=1,$e(r)?(t=!0,Qs(e)):t=!1,Hn(e,n),$d(e,r,s),Vo(e,r,s,n),Qo(null,e,r,!0,t,n);case 19:return Hd(t,e,n);case 22:return Md(t,e,n)}throw Error(b(156,e.tag))};function oh(t,e){return Rc(t,e)}function o0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new o0(t,e,n,r)}function ll(t){return t=t.prototype,!(!t||!t.isReactComponent)}function a0(t){if(typeof t=="function")return ll(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Na)return 11;if(t===Ta)return 14}return 2}function Vt(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ds(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ll(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cn:return un(n.children,s,i,e);case Ea:o=8,s|=8;break;case go:return t=qe(12,n,e,s|2),t.elementType=go,t.lanes=i,t;case mo:return t=qe(13,n,e,s),t.elementType=mo,t.lanes=i,t;case yo:return t=qe(19,n,e,s),t.elementType=yo,t.lanes=i,t;case mc:return ki(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pc:o=10;break e;case gc:o=9;break e;case Na:o=11;break e;case Ta:o=14;break e;case Ot:o=16,r=null;break e}throw Error(b(130,t==null?t:typeof t,""))}return e=qe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function un(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function ki(t,e,n,r){return t=qe(22,t,r,e),t.elementType=mc,t.lanes=n,t.stateNode={isHidden:!1},t}function ro(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function so(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function l0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ui(0),this.expirationTimes=Ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ul(t,e,n,r,s,i,o,a,l){return t=new l0(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},qa(i),t}function u0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ah(t){if(!t)return Kt;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(b(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(b(171))}if(t.tag===1){var n=t.type;if($e(n))return ad(t,n,e)}return e}function lh(t,e,n,r,s,i,o,a,l){return t=ul(n,r,!0,t,s,i,o,a,l),t.context=ah(null),n=t.current,r=Ce(),s=Ht(n),i=kt(r,s),i.callback=e??null,Bt(n,i,s),t.current.lanes=s,Zr(t,s,r),De(t,r),t}function Si(t,e,n,r){var s=e.current,i=Ce(),o=Ht(s);return n=ah(n),e.context===null?e.context=n:e.pendingContext=n,e=kt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bt(s,e,o),t!==null&&(lt(t,s,o,i),Os(t,s,o)),o}function ai(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cl(t,e){Tu(t,e),(t=t.alternate)&&Tu(t,e)}function c0(){return null}var uh=typeof reportError=="function"?reportError:function(t){console.error(t)};function dl(t){this._internalRoot=t}bi.prototype.render=dl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(b(409));Si(t,e,null,null)};bi.prototype.unmount=dl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pn(function(){Si(null,t,null,null)}),e[bt]=null}};function bi(t){this._internalRoot=t}bi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rt.length&&e!==0&&e<Rt[n].priority;n++);Rt.splice(n,0,t),n===0&&Bc(t)}};function hl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ji(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function d0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=ai(o);i.call(c)}}var o=lh(e,r,t,0,null,!1,!1,"",Cu);return t._reactRootContainer=o,t[bt]=o.current,Br(t.nodeType===8?t.parentNode:t),pn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=ai(l);a.call(c)}}var l=ul(t,0,!1,null,null,!1,!1,"",Cu);return t._reactRootContainer=l,t[bt]=l.current,Br(t.nodeType===8?t.parentNode:t),pn(function(){Si(e,l,n,r)}),l}function Ei(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=ai(o);a.call(l)}}Si(e,o,t,s)}else o=d0(n,e,t,s,r);return ai(o)}Uc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wr(e.pendingLanes);n!==0&&(Oa(e,n|1),De(e,ue()),!(q&6)&&(Xn=ue()+500,Jt()))}break;case 13:pn(function(){var r=jt(t,1);if(r!==null){var s=Ce();lt(r,t,1,s)}}),cl(t,1)}};Aa=function(t){if(t.tag===13){var e=jt(t,134217728);if(e!==null){var n=Ce();lt(e,t,134217728,n)}cl(t,134217728)}};Fc=function(t){if(t.tag===13){var e=Ht(t),n=jt(t,e);if(n!==null){var r=Ce();lt(n,t,e,r)}cl(t,e)}};Mc=function(){return J};zc=function(t,e){var n=J;try{return J=t,e()}finally{J=n}};No=function(t,e,n){switch(e){case"input":if(xo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=mi(r);if(!s)throw Error(b(90));vc(r),xo(r,s)}}}break;case"textarea":xc(t,n);break;case"select":e=n.value,e!=null&&Mn(t,!!n.multiple,e,!1)}};Nc=il;Tc=pn;var h0={usingClientEntryPoint:!1,Events:[ts,Rn,mi,jc,Ec,il]},gr={findFiberByHostInstance:sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f0={bundleType:gr.bundleType,version:gr.version,rendererPackageName:gr.rendererPackageName,rendererConfig:gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Oc(t),t===null?null:t.stateNode},findFiberByHostInstance:gr.findFiberByHostInstance||c0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_s.isDisabled&&_s.supportsFiber)try{hi=_s.inject(f0),pt=_s}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h0;Be.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hl(e))throw Error(b(200));return u0(t,e,null,n)};Be.createRoot=function(t,e){if(!hl(t))throw Error(b(299));var n=!1,r="",s=uh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ul(t,1,!1,null,null,n,!1,r,s),t[bt]=e.current,Br(t.nodeType===8?t.parentNode:t),new dl(e)};Be.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(b(188)):(t=Object.keys(t).join(","),Error(b(268,t)));return t=Oc(e),t=t===null?null:t.stateNode,t};Be.flushSync=function(t){return pn(t)};Be.hydrate=function(t,e,n){if(!ji(e))throw Error(b(200));return Ei(null,t,e,!0,n)};Be.hydrateRoot=function(t,e,n){if(!hl(t))throw Error(b(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=uh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=lh(e,null,t,1,n??null,s,!1,i,o),t[bt]=e.current,Br(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bi(e)};Be.render=function(t,e,n){if(!ji(e))throw Error(b(200));return Ei(null,t,e,!1,n)};Be.unmountComponentAtNode=function(t){if(!ji(t))throw Error(b(40));return t._reactRootContainer?(pn(function(){Ei(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};Be.unstable_batchedUpdates=il;Be.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ji(n))throw Error(b(200));if(t==null||t._reactInternals===void 0)throw Error(b(38));return Ei(t,e,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ch)}catch(t){console.error(t)}}ch(),cc.exports=Be;var p0=cc.exports,dh,Pu=p0;dh=Pu.createRoot,Pu.hydrateRoot;const g0="modulepreload",m0=function(t){return"/hft/"+t},Ou={},vn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=m0(l),l in Ou)return;Ou[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":g0,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(t,e)=>{const n=A.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>A.createElement("svg",{ref:d,...y0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${v0(t)}`,a].join(" "),...c},[...e.map(([h,p])=>A.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lu=ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),fh=A.createContext(void 0),O0="view2024",A0="Nigeria0009@@@";function R0({children:t}){const[e,n]=A.useState(!1),[r,s]=A.useState(!1);A.useEffect(()=>{const a=localStorage.getItem("houseFeesAuth"),l=localStorage.getItem("houseFeesAdmin");a==="true"&&n(!0),l==="true"&&s(!0)},[]);const i=a=>a===A0?(n(!0),s(!0),localStorage.setItem("houseFeesAuth","true"),localStorage.setItem("houseFeesAdmin","true"),!0):a===O0?(n(!0),s(!1),localStorage.setItem("houseFeesAuth","true"),localStorage.setItem("houseFeesAdmin","false"),!0):!1,o=()=>{n(!1),s(!1),localStorage.removeItem("houseFeesAuth"),localStorage.removeItem("houseFeesAdmin")};return u.jsx(fh.Provider,{value:{isAuthenticated:e,isAdmin:r,login:i,logout:o},children:t})}function rr(){const t=A.useContext(fh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const ph=A.createContext(void 0);function I0({children:t}){const[e,n]=A.useState(!1);A.useEffect(()=>{localStorage.getItem("houseFeesTheme")==="dark"&&(n(!0),document.documentElement.classList.add("dark"))},[]);const r=()=>{n(s=>{const i=!s;return i?(document.documentElement.classList.add("dark"),localStorage.setItem("houseFeesTheme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("houseFeesTheme","light")),i})};return u.jsx(ph.Provider,{value:{isDark:e,toggleTheme:r},children:t})}function L0(){const t=A.useContext(ph);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const gh=A.createContext(void 0);function $0({children:t}){const[e,n]=A.useState([]),r=(s,i="info",o=3e3)=>{const a=String(Date.now())+Math.random().toString(36).slice(2,7),l={id:a,message:s,type:i};n(c=>[...c,l]),setTimeout(()=>{n(c=>c.filter(d=>d.id!==a))},o)};return u.jsxs(gh.Provider,{value:{showToast:r},children:[t,u.jsx("div",{className:"fixed right-4 bottom-4 z-50 flex flex-col gap-2 items-end",children:e.map(s=>u.jsx("div",{className:`max-w-sm w-full rounded-lg px-4 py-2 shadow-md text-sm text-white ${s.type==="success"?"bg-green-600":s.type==="error"?"bg-red-600":"bg-gray-800"}`,children:s.message},s.id))})]})}function Ni(){const t=A.useContext(gh);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function D0(){const[t,e]=A.useState(""),[n,r]=A.useState(""),{login:s}=rr(),i=o=>{o.preventDefault(),s(t)||(r("Incorrect password"),e(""))};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 w-full max-w-md",children:[u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[u.jsx("div",{className:"bg-blue-600 dark:bg-blue-500 p-4 rounded-full mb-4",children:u.jsx(S0,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"HouseFees Tracker"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 text-center",children:"Enter password to access the fee tracking system"})]}),u.jsxs("form",{onSubmit:i,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),u.jsx("input",{type:"password",id:"password",value:t,onChange:o=>{e(o.target.value),r("")},className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"Enter password",autoFocus:!0}),n&&u.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:n})]}),u.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 rounded-lg transition duration-200 shadow-lg hover:shadow-xl",children:"Access System"})]})]})})}const U0=5;function F0({tenants:t,fees:e,payments:n}){const r=t.filter(h=>h.is_active),s=r.length,i=h=>{const p=Math.round(h*100)/100;return Math.abs(p)<U0?0:p},o=e.reduce((h,p)=>h+p.total_amount,0),a=n.reduce((h,p)=>h+p.amount_paid,0),l=i(o-a),d=r.map(h=>{let p=0;return e.forEach(v=>{const w=s>0?v.total_amount/s:0,x=n.filter(j=>j.tenant_id===h.id&&j.fee_id===v.id).reduce((j,m)=>j+m.amount_paid,0);p+=w-x}),{tenant:h,outstanding:i(p)}}).filter(h=>h.outstanding>0);return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(w0,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Summary Overview"})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(oa,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),u.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"Active Residents"})]}),u.jsx("p",{className:"text-xl sm:text-3xl font-bold text-blue-700 dark:text-blue-300",children:s})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(li,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),u.jsx("span",{className:"text-xs text-purple-700 dark:text-purple-300 font-medium",children:"Total Fees"})]}),u.jsxs("p",{className:"text-xl sm:text-3xl font-bold text-purple-700 dark:text-purple-300",children:["",o.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 p-3 rounded-lg border border-green-200 dark:border-green-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(li,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),u.jsx("span",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"Collected"})]}),u.jsxs("p",{className:"text-xl sm:text-3xl font-bold text-green-700 dark:text-green-300",children:["",a.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/30 p-3 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Au,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),u.jsx("span",{className:"text-xs text-red-700 dark:text-red-300 font-medium",children:"Outstanding"})]}),u.jsxs("p",{className:"text-xl sm:text-3xl font-bold text-red-700 dark:text-red-300",children:["",l.toLocaleString()]})]})]}),d.length>0&&u.jsxs("div",{id:"outstanding-tenants",className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("h3",{className:"font-medium text-orange-900 dark:text-orange-200 flex items-center gap-2 text-sm",children:[u.jsx(Au,{className:"w-4 h-4"}),"Outstanding Balances"]}),u.jsx("button",{type:"button",title:"Screenshot outstanding list",onClick:()=>{vn(()=>import("./html2canvas.esm-CBrSDip1.js"),[]).then(h=>{const p=document.getElementById("outstanding-tenants");p&&h.default(p).then(v=>{const w=document.createElement("a");w.download=`outstanding-tenants-${new Date().toISOString().split("T")[0]}.png`,w.href=v.toDataURL(),w.click()})}).catch(h=>console.error("Failed to capture outstanding tenants",h))},className:"p-2 rounded-md text-orange-800 dark:text-orange-200 hover:bg-orange-100 dark:hover:bg-orange-800/40",children:u.jsx(hh,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:d.map(({tenant:h,outstanding:p})=>u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"text-orange-800 dark:text-orange-300",children:h.name}),u.jsxs("span",{className:"font-semibold text-orange-900 dark:text-orange-200",children:["",p.toLocaleString(void 0,{maximumFractionDigits:2})]})]},h.id))})]}),d.length===0&&o>0&&u.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 text-center",children:u.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:"All payments are up to date!"})})]})}function M0({tenants:t,onAdd:e,onUpdate:n,onRemove:r,onDelete:s}){const{isAdmin:i}=rr(),[o,a]=A.useState(""),[l,c]=A.useState(""),[d,h]=A.useState(null),[p,v]=A.useState(""),[w,x]=A.useState(""),[j,m]=A.useState(!1),[g,f]=A.useState(null),{showToast:y}=Ni(),_=t.filter(C=>C.is_active),k=t.filter(C=>!C.is_active),E=async()=>{if(o.trim()){m(!0);const C=await e(o.trim(),l.trim()||void 0);m(!1),C?(a(""),c(""),y("Resident added","success")):y("Failed to add resident","error")}},N=async C=>{if(p.trim()){f(C);const $=await n(C,p.trim(),w.trim()||void 0);f(null),$?(h(null),v(""),x(""),y("Resident updated","success")):y("Failed to update resident","error")}};return i?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(oa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Manage Residents"}),u.jsxs("span",{className:"ml-auto bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full text-sm font-medium",children:[_.length," Active"]})]}),u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsx("input",{type:"text",value:o,onChange:C=>a(C.target.value),onKeyPress:C=>C.key==="Enter"&&E(),placeholder:"Enter resident name",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),u.jsx("input",{type:"tel",value:l,onChange:C=>c(C.target.value),placeholder:"Phone (optional)",className:"w-48 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),u.jsxs("button",{onClick:E,className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition",children:[u.jsx(C0,{className:"w-5 h-5"}),"Add"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Active Residents"}),_.map(C=>u.jsx("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:d===C.id?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:p,onChange:$=>v($.target.value),onKeyPress:$=>$.key==="Enter"&&N(C.id),className:"flex-1 px-3 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none",autoFocus:!0}),u.jsx("input",{type:"tel",value:w,onChange:$=>x($.target.value),placeholder:"Phone (optional)",className:"w-48 px-3 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("button",{onClick:()=>N(C.id),className:"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 px-3 py-1",children:"Save"}),u.jsx("button",{onClick:()=>{h(null),v("")},className:"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 px-3 py-1",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"flex-1 text-gray-900 dark:text-white",children:C.name}),C.phone&&u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:C.phone}),u.jsx("button",{onClick:()=>{h(C.id),v(C.name),x(C.phone||"")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2",title:"Edit",children:u.jsx(fl,{className:"w-4 h-4"})}),u.jsx("button",{onClick:async()=>{await r(C.id)?y("Resident removed","success"):y("Failed to remove resident","error")},className:"text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 p-2",title:"Remove (mark inactive)",children:u.jsx(P0,{className:"w-4 h-4"})}),u.jsx("button",{onClick:async()=>{confirm(`Permanently delete ${C.name}? This will also delete all their payment records.`)&&(await s(C.id)?y("Resident deleted","success"):y("Failed to delete resident","error"))},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2",title:"Delete permanently",children:u.jsx(gn,{className:"w-4 h-4"})})]})},C.id)),k.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mt-6",children:"Removed Residents"}),k.map(C=>u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-100 dark:bg-gray-700/50 rounded-lg opacity-75",children:[u.jsx("span",{className:"flex-1 text-gray-600 dark:text-gray-400",children:C.name}),u.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Removed ",new Date(C.removed_at).toLocaleDateString()]}),u.jsx("button",{onClick:async()=>{confirm(`Permanently delete ${C.name}?`)&&(await s(C.id)?y("Resident deleted","success"):y("Failed to delete resident","error"))},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2",title:"Delete permanently",children:u.jsx(gn,{className:"w-4 h-4"})})]},C.id))]})]})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(oa,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Residents"}),u.jsxs("span",{className:"ml-auto bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full text-sm font-medium",children:[_.length," Active"]})]}),u.jsx("div",{className:"space-y-2",children:_.map(C=>u.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:C.name},C.id))})]})}function z0({fees:t,onAdd:e,onUpdate:n,onDelete:r}){const{isAdmin:s}=rr(),[i,o]=A.useState(!1),[a,l]=A.useState({name:"",amount:"",period:"Annual"}),[c,d]=A.useState(null),[h,p]=A.useState({name:"",amount:"",period:""}),[v,w]=A.useState(!1),[x,j]=A.useState(null),{showToast:m}=Ni(),g=async()=>{if(a.name.trim()&&a.amount){w(!0);const y=await e(a.name.trim(),parseFloat(a.amount),a.period);w(!1),y?(l({name:"",amount:"",period:"Annual"}),o(!1),m("Fee added","success")):m("Failed to add fee","error")}},f=async y=>{if(h.name.trim()&&h.amount){j(y);const _=await n(y,h.name.trim(),parseFloat(h.amount),h.period);j(null),_?(d(null),p({name:"",amount:"",period:""}),m("Fee updated","success")):m("Failed to update fee","error")}};return s?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(li,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Manage Fees"})]}),!i&&u.jsxs("button",{onClick:()=>o(!0),className:"bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition",children:[u.jsx(pl,{className:"w-5 h-5"}),"Add Fee"]})]}),i&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-gray-700 rounded-lg space-y-3",children:[u.jsx("input",{type:"text",value:a.name,onChange:y=>l({...a,name:y.target.value}),placeholder:"Fee name (e.g., Security, Development Levy)",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",value:a.amount,onChange:y=>l({...a,amount:y.target.value}),placeholder:"Total amount",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"}),u.jsxs("select",{value:a.period,onChange:y=>l({...a,period:y.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[u.jsx("option",{children:"Annual"}),u.jsx("option",{children:"Monthly"}),u.jsx("option",{children:"Quarterly"}),u.jsx("option",{children:"One-time"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:g,disabled:v,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition disabled:opacity-60 flex items-center gap-2",children:v?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"w-4 h-4",children:u.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),"Saving..."]}):"Save Fee"}),u.jsx("button",{onClick:()=>{o(!1),l({name:"",amount:"",period:"Annual"})},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition",children:"Cancel"})]})]}),u.jsx("div",{className:"space-y-3",children:t.map(y=>u.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:c===y.id?u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",value:h.name,onChange:_=>p({...h,name:_.target.value}),className:"w-full px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",value:h.amount,onChange:_=>p({...h,amount:_.target.value}),className:"flex-1 px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsxs("select",{value:h.period,onChange:_=>p({...h,period:_.target.value}),className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none",children:[u.jsx("option",{children:"Annual"}),u.jsx("option",{children:"Monthly"}),u.jsx("option",{children:"Quarterly"}),u.jsx("option",{children:"One-time"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>f(y.id),className:"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 px-3 py-1",children:"Save"}),u.jsx("button",{onClick:()=>{d(null),p({name:"",amount:"",period:""})},className:"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 px-3 py-1",children:"Cancel"})]})]}):u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:y.name}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.period})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:["",y.total_amount.toLocaleString()]}),u.jsx("button",{onClick:()=>{d(y.id),p({name:y.name,amount:y.total_amount.toString(),period:y.period})},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2",title:"Edit",children:u.jsx(fl,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>{(async()=>confirm(`Delete ${y.name}? This will also delete all related payment records.`)&&(await r(y.id)?m("Fee deleted","success"):m("Failed to delete fee","error")))()},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2",title:"Delete",children:u.jsx(gn,{className:"w-4 h-4"})})]})]})},y.id))})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(li,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Fees"})]}),u.jsx("div",{className:"space-y-3",children:t.map(y=>u.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:y.name}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.period})]}),u.jsxs("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:["",y.total_amount.toLocaleString()]})]})},y.id))})]})}function B0({tenant:t,fees:e,payments:n,onClose:r,onDeletePayment:s}){const i=n.filter(o=>o.tenant_id===t.id).sort((o,a)=>new Date(a.payment_date).getTime()-new Date(o.payment_date).getTime());return u.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-2xl w-full p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.name}),t.phone&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.phone})]}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-600 dark:text-gray-300 p-2",children:u.jsx(aa,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Payments"}),i.length===0?u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No payments recorded yet"}):u.jsx("div",{className:"space-y-2 mt-2",children:i.map(o=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["",o.amount_paid.toLocaleString()]}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(o.payment_date).toLocaleDateString()," ",o.notes?"  "+o.notes:""]})]}),u.jsx("div",{children:s&&u.jsx("button",{type:"button",onClick:async()=>{confirm("Delete this payment?")&&await s(o.id)},className:"text-red-600 dark:text-red-400 p-1",children:u.jsx(gn,{className:"w-4 h-4"})})})]},o.id))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Outstanding by Fee"}),u.jsx("div",{className:"mt-2 space-y-2",children:e.map(o=>{const a=n.filter(c=>c.fee_id===o.id&&c.tenant_id===t.id).reduce((c,d)=>c+d.amount_paid,0),l=o.total_amount-a;return u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[u.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:o.name}),u.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["",l.toLocaleString()]})]},o.id)})})]})]})})}const W0=5;function $u({tenants:t,fees:e,payments:n,onAddPayment:r,onDeletePayment:s,onUpdatePayment:i,onSpreadPayment:o}){const{isAdmin:a}=rr(),{showToast:l}=Ni(),[c,d]=A.useState(new Set),[h,p]=A.useState(!1),[v,w]=A.useState(!1),[x,j]=A.useState(!1),[m,g]=A.useState(!1),[f,y]=A.useState({tenantId:"",feeId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),[_,k]=A.useState({tenantId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),E=t.filter(T=>T.is_active),N=E.length,C=T=>{const Xe=Math.round(T*100)/100;return Math.abs(Xe)<W0?0:Xe},$=e.find(T=>T.id===f.feeId),L=$?M($.total_amount):0,P=T=>{d(Xe=>{const ke=new Set(Xe);return ke.has(T)?ke.delete(T):ke.add(T),ke})};function M(T){return N>0?T/N:0}const z=(T,Xe)=>n.filter(ke=>ke.tenant_id===T&&ke.fee_id===Xe),B=(T,Xe)=>z(T,Xe).reduce((ke,or)=>ke+or.amount_paid,0),ee=async()=>{if(f.tenantId&&f.feeId&&f.amount){j(!0);const T=await r(f.tenantId,f.feeId,parseFloat(f.amount),f.date,f.notes||void 0);j(!1),T&&(y({tenantId:"",feeId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),p(!1),l("Payment recorded","success"))}},[F,S]=A.useState(!1),[R,D]=A.useState(null),K=T=>{D(T),S(!0)},[I,Y]=A.useState(null),[G,_e]=A.useState({tenantId:"",feeId:"",amount:"",date:"",notes:""}),[ce,Ye]=A.useState(!1);return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(N0,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Payment Tracking"})]}),a&&!h&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>p(!0),className:"bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white p-2 sm:px-4 sm:py-2 rounded-lg flex items-center gap-2 transition",title:"Record Payment",children:[u.jsx(pl,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Record Payment"})]}),u.jsxs("button",{type:"button",onClick:()=>w(!0),className:"bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white p-2 sm:px-4 sm:py-2 rounded-lg flex items-center gap-2 transition",title:"Spread Payment",children:[u.jsx(k0,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Spread Payment"})]})]})]}),a&&h&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-6",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>p(!1)}),u.jsxs("div",{className:"relative mb-6 w-full max-w-2xl p-6 bg-purple-50 dark:bg-gray-700 rounded-lg space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("select",{value:f.tenantId,onChange:T=>y({...f,tenantId:T.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",children:[u.jsx("option",{value:"",children:"Select Resident"}),E.map(T=>u.jsx("option",{value:T.id,children:T.name},T.id))]}),u.jsxs("select",{value:f.feeId,onChange:T=>y({...f,feeId:T.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",children:[u.jsx("option",{value:"",children:"Select Fee"}),e.map(T=>u.jsx("option",{value:T.id,children:T.name},T.id))]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("input",{type:"number",value:f.amount,onChange:T=>y({...f,amount:T.target.value}),placeholder:"Amount paid",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"}),$&&u.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Per-resident share for ",u.jsx("span",{className:"font-medium",children:$.name}),": ",u.jsxs("span",{className:"text-gray-900 dark:text-white font-semibold",children:["",L.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),u.jsx("input",{type:"date",value:f.date,onChange:T=>y({...f,date:T.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),u.jsx("input",{type:"text",value:f.notes,onChange:T=>y({...f,notes:T.target.value}),placeholder:"Notes (optional)",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:ee,disabled:x,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition disabled:opacity-60 flex items-center gap-2",children:x?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"w-4 h-4",children:u.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),"Saving..."]}):"Save Payment"}),u.jsx("button",{type:"button",onClick:()=>{p(!1),y({tenantId:"",feeId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""})},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition",children:"Cancel"})]})]})]}),a&&v&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-6",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>w(!1)}),u.jsxs("div",{className:"relative mb-6 w-full max-w-lg p-6 bg-green-50 dark:bg-gray-700 rounded-lg space-y-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Spread Payment"}),u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[u.jsxs("select",{value:_.tenantId,onChange:T=>k({..._,tenantId:T.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none",children:[u.jsx("option",{value:"",children:"Select Resident"}),E.map(T=>u.jsx("option",{value:T.id,children:T.name},T.id))]}),u.jsx("input",{type:"number",value:_.amount,onChange:T=>k({..._,amount:T.target.value}),placeholder:"Amount paid",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("input",{type:"date",value:_.date,onChange:T=>k({..._,date:T.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("input",{type:"text",value:_.notes,onChange:T=>k({..._,notes:T.target.value}),placeholder:"Notes (optional)",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:async()=>{if(!(!_.tenantId||!_.amount)){g(!0);try{await(o==null?void 0:o(_.tenantId,parseFloat(_.amount),_.date,_.notes||void 0))?(l("Spread payment applied","success"),w(!1),k({tenantId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""})):l("Failed to apply spread payment","error")}catch(T){console.error("Error applying spread payment",T),l("Failed to apply spread payment","error")}finally{g(!1)}}},disabled:m,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition disabled:opacity-60",children:m?"Applying...":"Apply"}),u.jsx("button",{type:"button",onClick:()=>w(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition",children:"Cancel"})]})]})]}),u.jsx("div",{className:"space-y-4",children:e.map(T=>{const Xe=c.has(T.id),ke=M(T.total_amount),or=n.filter(Q=>Q.fee_id===T.id).reduce((Q,Ze)=>Q+Ze.amount_paid,0),xl=C(T.total_amount-or);return u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>P(T.id),className:"w-full p-4 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:T.name}),u.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Total: ",u.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["",T.total_amount.toLocaleString()]})]}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Per Resident: ",u.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["",ke.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Collected: ",u.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["",or.toLocaleString()]})]}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Outstanding:"," ",u.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["",xl.toLocaleString()]})]})]})]}),Xe?u.jsx(_0,{className:"w-5 h-5 text-gray-500"}):u.jsx(x0,{className:"w-5 h-5 text-gray-500"})]}),Xe&&u.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"text-left py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Resident"}),u.jsx("th",{className:"text-right py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Share"}),u.jsx("th",{className:"text-right py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Paid"}),u.jsx("th",{className:"text-right py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Balance"}),u.jsx("th",{className:"text-center py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Status"})]})}),u.jsx("tbody",{children:E.map(Q=>{const Ze=B(Q.id,T.id),et=ke-Ze,ar=C(et),Fh=ar<=0?"Paid":ar<ke?"Partial":"Pending",Mh=ar<=0?"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900":ar<ke?"text-orange-600 dark:text-orange-400 bg-orange-100 dark:bg-orange-900":"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900";return u.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[u.jsx("td",{className:"py-3 px-2 text-gray-900 dark:text-white",children:u.jsx("button",{onClick:()=>K(Q),className:"text-left w-full text-gray-900 dark:text-white hover:underline",children:Q.name})}),u.jsxs("td",{className:"text-right py-3 px-2 text-gray-900 dark:text-white",children:["",ke.toLocaleString(void 0,{maximumFractionDigits:2})]}),u.jsx("td",{className:"text-right py-3 px-2 text-green-600 dark:text-green-400 font-medium",children:u.jsxs("button",{type:"button",onClick:()=>{y({tenantId:Q.id,feeId:T.id,amount:(()=>{const _l=C(ke-Ze);return _l>0?_l.toFixed(2):""})(),date:new Date().toISOString().split("T")[0],notes:""}),p(!0)},className:"w-full text-right",children:["",Ze.toLocaleString()]})}),u.jsxs("td",{className:"text-right py-3 px-2 text-red-600 dark:text-red-400 font-medium",children:["",ar.toLocaleString(void 0,{maximumFractionDigits:2})]}),u.jsx("td",{className:"text-center py-3 px-2",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Mh}`,children:Fh})})]},Q.id)})}),u.jsx("tfoot",{className:"border-t-2 border-gray-300 dark:border-gray-600",children:u.jsxs("tr",{className:"font-semibold",children:[u.jsx("td",{className:"py-3 px-2 text-gray-900 dark:text-white",children:"Total"}),u.jsxs("td",{className:"text-right py-3 px-2 text-gray-900 dark:text-white",children:["",T.total_amount.toLocaleString()]}),u.jsxs("td",{className:"text-right py-3 px-2 text-green-600 dark:text-green-400",children:["",or.toLocaleString()]}),u.jsxs("td",{className:"text-right py-3 px-2 text-red-600 dark:text-red-400",children:["",xl.toLocaleString()]}),u.jsx("td",{})]})})]})}),a&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment History"}),u.jsxs("div",{className:"space-y-2",children:[n.filter(Q=>Q.fee_id===T.id).sort((Q,Ze)=>new Date(Ze.payment_date).getTime()-new Date(Q.payment_date).getTime()).map(Q=>{const Ze=t.find(et=>et.id===Q.tenant_id);return u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm",children:[u.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[u.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-2",children:[u.jsx("span",{className:"text-gray-900 dark:text-white font-medium whitespace-normal break-words",children:Ze==null?void 0:Ze.name}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:new Date(Q.payment_date).toLocaleDateString()})]}),Q.notes&&u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic whitespace-normal break-words",children:Q.notes})]}),u.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:I===Q.id?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:G.amount,onChange:et=>_e({...G,amount:et.target.value}),className:"w-24 px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("input",{type:"date",value:G.date,onChange:et=>_e({...G,date:et.target.value}),className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("button",{type:"button",onClick:async()=>{if(G.amount){Ye(!0);try{await(i==null?void 0:i(Q.id,{tenant_id:G.tenantId||void 0,fee_id:G.feeId||void 0,amount_paid:parseFloat(G.amount),payment_date:G.date||void 0,notes:G.notes||void 0}))?(Y(null),l("Payment updated","success")):l("Failed to update payment","error")}catch(et){console.error("Error updating payment",et),l("Failed to update payment","error")}finally{Ye(!1)}}},disabled:ce,className:"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 px-2 py-1",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{Y(null)},className:"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 px-2 py-1",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["",Q.amount_paid.toLocaleString()]}),u.jsx("button",{type:"button",onClick:()=>{Y(Q.id),_e({tenantId:Q.tenant_id,feeId:Q.fee_id,amount:Q.amount_paid.toString(),date:new Date(Q.payment_date).toISOString().split("T")[0],notes:Q.notes||""})},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-1",title:"Edit",children:u.jsx(fl,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:async()=>{confirm("Delete this payment record?")&&(await s(Q.id)?l("Payment deleted","success"):l("Failed to delete payment","error"))},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-1",children:u.jsx(gn,{className:"w-4 h-4"})})]})})]},Q.id)}),n.filter(Q=>Q.fee_id===T.id).length===0&&u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm italic",children:"No payments recorded yet"})]})]})]})]},T.id)})}),e.length===0&&u.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No fees added yet. Add fees to start tracking payments."}),F&&R&&u.jsx(B0,{tenant:R,fees:e,payments:n,onClose:()=>S(!1),onDeletePayment:s})]})}function H0({transactions:t,onAdd:e,onDelete:n,onClearAll:r,payments:s,tenants:i}){const{isAdmin:o}=rr(),[a,l]=A.useState(!1),[c,d]=A.useState({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]}),[h,p]=A.useState(!1),{showToast:v}=Ni(),w=t.reduce((f,y)=>y.transaction_type==="income"?f+y.amount:f-y.amount,0),x=t.filter(f=>f.transaction_type==="income").reduce((f,y)=>f+y.amount,0),j=t.filter(f=>f.transaction_type==="expense").reduce((f,y)=>f+y.amount,0),m=[];if(s&&i){const f=new Map;for(const y of s)f.set(y.tenant_id,(f.get(y.tenant_id)||0)+y.amount_paid);for(const[y,_]of f.entries()){const k=i.find(E=>E.id===y);m.push({tenantId:y,tenantName:(k==null?void 0:k.name)??y,total:_})}}const g=async()=>{if(c.description.trim()&&c.amount){p(!0);const f=await e(c.description.trim(),parseFloat(c.amount),c.type,c.date);p(!1),f?(d({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]}),l(!1),v("Transaction saved","success")):v("Failed to save transaction","error")}};return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Lu,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Collective Purse"})]}),o&&!a&&u.jsxs("div",{className:"flex gap-2",children:[r&&u.jsxs("button",{onClick:async()=>{window.confirm("Are you sure you want to delete ALL transactions (payments and purse records)? This cannot be undone.")&&(await r()?v("All records cleared","success"):v("Failed to clear records","error"))},className:"hidden bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition",children:[u.jsx(gn,{className:"w-5 h-5"}),"Reset Data"]}),u.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white p-2 sm:px-4 sm:py-2 rounded-lg flex items-center gap-2 transition",title:"Add Transaction",children:[u.jsx(pl,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Add Transaction"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 p-3 rounded-lg border border-green-200 dark:border-green-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Iu,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),u.jsx("span",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"Total Income"})]}),u.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-700 dark:text-green-300",children:["",x.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/30 p-3 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Ru,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),u.jsx("span",{className:"text-xs text-red-700 dark:text-red-300 font-medium",children:"Total Expenses"})]}),u.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-red-700 dark:text-red-300",children:["",j.toLocaleString()]})]}),u.jsxs("div",{className:`col-span-2 md:col-span-1 bg-gradient-to-br p-3 rounded-lg border ${w>=0?"from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 border-blue-200 dark:border-blue-700":"from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 border-orange-200 dark:border-orange-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Lu,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),u.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"Current Balance"})]}),u.jsxs("p",{className:`text-lg sm:text-2xl font-bold ${w>=0?"text-blue-700 dark:text-blue-300":"text-orange-700 dark:text-orange-300"}`,children:["",w.toLocaleString()]})]})]}),o&&a&&u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-gray-700 rounded-lg space-y-3",children:[u.jsx("input",{type:"text",value:c.description,onChange:f=>d({...c,description:f.target.value}),placeholder:"Transaction description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsx("input",{type:"number",value:c.amount,onChange:f=>d({...c,amount:f.target.value}),placeholder:"Amount",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),u.jsxs("select",{value:c.type,onChange:f=>d({...c,type:f.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[u.jsx("option",{value:"income",children:"Income"}),u.jsx("option",{value:"expense",children:"Expense"})]}),u.jsx("input",{type:"date",value:c.date,onChange:f=>d({...c,date:f.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition",children:"Save Transaction"}),u.jsx("button",{onClick:()=>{l(!1),d({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]})},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition",children:"Cancel"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Transaction History"}),t.length===0?u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm italic text-center py-8",children:"No transactions recorded yet"}):t.map(f=>u.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${f.transaction_type==="income"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[f.transaction_type==="income"?u.jsx(Iu,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}):u.jsx(Ru,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline gap-1 sm:gap-2",children:[u.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium whitespace-normal break-words",children:f.description}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:new Date(f.transaction_date).toLocaleDateString()})]})})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[u.jsxs("span",{className:`text-base font-semibold whitespace-nowrap ${f.transaction_type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[f.transaction_type==="income"?"+":"-","",f.amount.toLocaleString()]}),o&&!f.derivedFromPayment&&u.jsx("button",{onClick:()=>{(async()=>confirm("Delete this transaction?")&&(await n(f.id)?v("Transaction deleted","success"):v("Failed to delete transaction","error")))()},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-1",children:u.jsx(gn,{className:"w-4 h-4"})})]})]},f.id))]}),o&&u.jsx("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:m.length>0&&u.jsxs("div",{children:[u.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Per-tenant payment totals (Debug)"}),u.jsx("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:m.map(f=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("div",{children:f.tenantName}),u.jsxs("div",{className:"font-medium",children:["",f.total.toLocaleString()]})]},f.tenantId))})]})})]})}function V0({onFinish:t}){const[e,n]=A.useState(!1);return A.useEffect(()=>{const r=setTimeout(()=>{n(!0),setTimeout(t,500)},2e3);return()=>clearTimeout(r)},[t]),u.jsxs("div",{className:`fixed inset-0 z-[100] flex flex-col items-center justify-center bg-blue-600 transition-opacity duration-500 ${e?"opacity-0 pointer-events-none":"opacity-100"}`,children:[u.jsx("div",{className:"w-32 h-32 bg-white rounded-2xl flex items-center justify-center shadow-2xl mb-6 animate-bounce-gentle",children:u.jsx("img",{src:"/hft/logo.svg",alt:"H.F.T Logo",className:"w-24 h-24"})}),u.jsx("h1",{className:"text-4xl font-bold text-white tracking-wider mb-2",children:"H.F.T"}),u.jsx("p",{className:"text-blue-100 text-sm",children:"HouseFees Tracker"}),u.jsx("div",{className:"absolute bottom-10",children:u.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-white rounded-full animate-spin"})})]})}const q0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class gl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class K0 extends gl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Du extends gl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Uu extends gl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var la;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(la||(la={}));var Q0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class G0{constructor(e,{headers:n={},customFetch:r,region:s=la.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=q0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Q0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new K0(x)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Du(h);if(!h.ok)throw new Uu(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Uu||s instanceof Du?s.context:void 0}}})}}var Re={},ml={},Ti={},rs={},Ci={},Pi={},J0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zn=J0();const Y0=Zn.fetch,mh=Zn.fetch.bind(Zn),yh=Zn.Headers,X0=Zn.Request,Z0=Zn.Response,sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:yh,Request:X0,Response:Z0,default:mh,fetch:Y0},Symbol.toStringTag,{value:"Module"})),eg=zh(sr);var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});let tg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Oi.default=tg;var vh=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Pi,"__esModule",{value:!0});const ng=vh(eg),rg=vh(Oi);let sg=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=ng.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,h=null,p=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const j=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");j&&m&&m.length>1&&(p=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{d=JSON.parse(j),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,w="OK")}catch{i.status===404&&j===""?(v=204,w="No Content"):d={message:j}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new rg.default(d)}return{error:d,data:h,count:p,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Pi.default=sg;var ig=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const og=ig(Pi);let ag=class extends og.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ci.default=ag;var lg=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rs,"__esModule",{value:!0});const ug=lg(Ci);let cg=class extends ug.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};rs.default=cg;var dg=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});const mr=dg(rs);let hg=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new mr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new mr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new mr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new mr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ti.default=hg;var wh=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ml,"__esModule",{value:!0});const fg=wh(Ti),pg=wh(rs);let gg=class xh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new fg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new xh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(a="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new pg.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};ml.default=gg;var ir=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const _h=ir(ml);Re.PostgrestClient=_h.default;const kh=ir(Ti);Re.PostgrestQueryBuilder=kh.default;const Sh=ir(rs);Re.PostgrestFilterBuilder=Sh.default;const bh=ir(Ci);Re.PostgrestTransformBuilder=bh.default;const jh=ir(Pi);Re.PostgrestBuilder=jh.default;const Eh=ir(Oi);Re.PostgrestError=Eh.default;var mg=Re.default={PostgrestClient:_h.default,PostgrestQueryBuilder:kh.default,PostgrestFilterBuilder:Sh.default,PostgrestTransformBuilder:bh.default,PostgrestBuilder:jh.default,PostgrestError:Eh.default};const{PostgrestClient:yg,PostgrestQueryBuilder:my,PostgrestFilterBuilder:yy,PostgrestTransformBuilder:vy,PostgrestBuilder:wy,PostgrestError:xy}=mg;class vg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const wg="2.15.5",xg=`realtime-js/${wg}`,_g="1.0.0",ua=1e4,kg=1e3,Sg=100;var Or;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Or||(Or={}));var he;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(he||(he={}));var it;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(it||(it={}));var ca;(function(t){t.websocket="websocket"})(ca||(ca={}));var rn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(rn||(rn={}));class bg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Nh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const Fu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=jg(o,t,e,s),i),{})},jg=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Th(i,o):da(o)},Th=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Cg(e,n)}switch(t){case X.bool:return Eg(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return Ng(e);case X.json:case X.jsonb:return Tg(e);case X.timestamp:return Pg(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return da(e);default:return da(e)}},da=t=>t,Eg=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ng=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Tg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Cg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Th(e,a))}return t},Pg=t=>typeof t=="string"?t.replace(" ","T"):t,Ch=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class io{constructor(e,n,r={},s=ua){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Mu;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Mu||(Mu={}));class Ar{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ar.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ar.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ar.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),w=d.filter(j=>v.indexOf(j.presence_ref)<0),x=h.filter(j=>p.indexOf(j.presence_ref)<0);w.length>0&&(a[c]=w),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var zu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(zu||(zu={}));var Rr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Rr||(Rr={}));var vt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vt||(vt={}));class yl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new io(this,it.join,this.params,this.timeout),this.rejoinTimer=new Nh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ar(this),this.broadcastEndpointURL=Ch(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Rr.PRESENCE]&&this.bindings[Rr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(vt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(vt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(vt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,j=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,m=[];for(let g=0;g<j;g++){const f=x[g],{filter:{event:y,schema:_,table:k,filter:E}}=f,N=v&&v[g];if(N&&N.event===y&&N.schema===_&&N.table===k&&N.filter===E)m.push(Object.assign(Object.assign({},f),{id:N.id}));else{this.unsubscribe(),this.state=he.errored,e==null||e(vt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(vt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,e==null||e(vt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===he.joined&&e===Rr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=he.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new io(this,it.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new io(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Sg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=it;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,j;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(x=v.filter)===null||x===void 0?void 0:x.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,x,j,m,g,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,_=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((x=n.ids)===null||x===void 0?void 0:x.includes(y))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const y=(g=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return y==="*"||y===((f=n==null?void 0:n.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:x,table:j,commit_timestamp:m,type:g,errors:f}=w;p=Object.assign(Object.assign({},{schema:x,table:j,commit_timestamp:m,eventType:g,new:{},old:{},errors:f}),this._getPayloadRecords(w))}v.callback(p,r)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&yl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(it.close,{},e)}_onError(e){this._on(it.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Fu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Fu(e.columns,e.old_record)),n}}const oo=()=>{},ks={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Og=[1e3,2e3,5e3,1e4],Ag=1e4,Rg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ig{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ua,this.transport=null,this.heartbeatIntervalMs=ks.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=oo,this.ref=0,this.reconnectTimer=null,this.logger=oo,this.conn=null,this.sendBuffer=[],this.serializer=new bg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>vn(async()=>{const{default:a}=await Promise.resolve().then(()=>sr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ca.websocket}`,this.httpEndpoint=Ch(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_g}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return rn.Connecting;case Or.open:return rn.Open;case Or.closing:return rn.Closing;default:return rn.Closed}}isConnected(){return this.connectionState()===rn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new yl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(kg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ks.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(it.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Rg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:xg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(it.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Nh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ks.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:ua,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ks.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:oo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Og[h-1]||Ag,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class vl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Lg extends vl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ha extends vl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var $g=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Ph=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Dg=()=>$g(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vn(()=>Promise.resolve().then(()=>sr),void 0)).Response:Response}),fa=t=>{if(Array.isArray(t))return t.map(n=>fa(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fa(r)}),e},Ug=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var wn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ao=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Fg=(t,e,n)=>wn(void 0,void 0,void 0,function*(){const r=yield Dg();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Lg(ao(s),i,o))}).catch(s=>{e(new ha(ao(s),s))}):e(new ha(ao(t),t))}),Mg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Ug(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function ss(t,e,n,r,s,i){return wn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Mg(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Fg(l,a,r))})})}function ui(t,e,n,r){return wn(this,void 0,void 0,function*(){return ss(t,"GET",e,n,r)})}function ht(t,e,n,r,s){return wn(this,void 0,void 0,function*(){return ss(t,"POST",e,r,s,n)})}function pa(t,e,n,r,s){return wn(this,void 0,void 0,function*(){return ss(t,"PUT",e,r,s,n)})}function zg(t,e,n,r){return wn(this,void 0,void 0,function*(){return ss(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Oh(t,e,n,r,s){return wn(this,void 0,void 0,function*(){return ss(t,"DELETE",e,r,s,n)})}var Ne=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Bg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wg{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Ph(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Ne(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Bu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?pa:ht)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ne(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Bu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield pa(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ne(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield ht(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new vl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield ht(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=yield ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}download(e,n){return Ne(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield ui(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}info(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield ui(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:fa(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}exists(e){return Ne(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield zg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r)&&r instanceof ha){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Bg),n),{prefix:e||""});return{data:yield ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ne(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield ht(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Hg="2.12.1",Vg={"X-Client-Info":`storage-js/${Hg}`};var _n=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class qg{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Vg),n),this.fetch=Ph(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _n(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fe(e))return{data:null,error:e};throw e}})}getBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield ui(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return _n(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return _n(this,void 0,void 0,function*(){try{return{data:yield pa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield Oh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}}class Kg extends qg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Wg(this.url,this.headers,e,this.fetch)}}const Qg="2.57.4";let _r="";typeof Deno<"u"?_r="deno":typeof document<"u"?_r="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_r="react-native":_r="node";const Gg={"X-Client-Info":`supabase-js-${_r}/${Qg}`},Jg={headers:Gg},Yg={schema:"public"},Xg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Zg={};var em=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const tm=t=>{let e;return t?e=t:typeof fetch>"u"?e=mh:e=fetch,(...n)=>e(...n)},nm=()=>typeof Headers>"u"?yh:Headers,rm=(t,e,n)=>{const r=tm(n),s=nm();return(i,o)=>em(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var sm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function im(t){return t.endsWith("/")?t:t+"/"}function om(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>sm(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function am(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(im(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ah="2.71.1",En=30*1e3,ga=3,lo=ga*En,lm="http://localhost:9999",um="supabase.auth.token",cm={"X-Client-Info":`gotrue-js/${Ah}`},ma="X-Supabase-Api-Version",Rh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hm=10*60*1e3;class wl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class fm extends wl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function pm(t){return U(t)&&t.name==="AuthApiError"}class Ih extends wl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Yt extends wl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Pt extends Yt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gm(t){return U(t)&&t.name==="AuthSessionMissingError"}class Ss extends Yt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bs extends Yt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class js extends Yt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mm(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}class Wu extends Yt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ya extends Yt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function uo(t){return U(t)&&t.name==="AuthRetryableFetchError"}class Hu extends Yt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class va extends Yt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ci="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vu=` 	
\r=`.split(""),ym=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Vu.length;e+=1)t[Vu[e].charCodeAt(0)]=-2;for(let e=0;e<ci.length;e+=1)t[ci[e].charCodeAt(0)]=e;return t})();function qu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ci[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ci[r]),e.queuedBits-=6}}function Lh(t,e,n){const r=ym[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Ku(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{xm(o,r,n)};for(let o=0;o<t.length;o+=1)Lh(t.charCodeAt(o),s,i);return e.join("")}function vm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function wm(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}vm(r,e)}}function xm(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function _m(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Lh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function km(t){const e=[];return wm(t,n=>e.push(n)),new Uint8Array(e)}function Sm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>qu(s,n,r)),qu(null,n,r),e.join("")}function bm(t){return Math.round(Date.now()/1e3)+t}function jm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const nt=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},$h=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function Em(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Dh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>vn(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Nm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ct=async(t,e)=>{await t.removeItem(e)};class Ai{constructor(){this.promise=new Ai.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ai.promiseConstructor=Promise;function co(t){const e=t.split(".");if(e.length!==3)throw new va("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!dm.test(e[r]))throw new va("JWT not in base64url format");return{header:JSON.parse(Ku(e[0])),payload:JSON.parse(Ku(e[1])),signature:_m(e[2]),raw:{header:e[0],payload:e[1]}}}async function Tm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Cm(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Pm(t){return("0"+t.toString(16)).substr(-2)}function Om(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Pm).join("")}async function Am(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Rm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Am(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kn(t,e,n=!1){const r=Om();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Nn(t,`${e}-code-verifier`,s);const i=await Rm(r);return[i,r===i?"plain":"s256"]}const Im=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Lm(t){const e=t.headers.get(ma);if(!e||!e.match(Im))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function $m(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Dm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Um=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sn(t){if(!Um.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ho(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qu(t){return JSON.parse(JSON.stringify(t))}var Fm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const nn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Mm=[502,503,504];async function Gu(t){var e;if(!Nm(t))throw new ya(nn(t),0);if(Mm.includes(t.status))throw new ya(nn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Ih(nn(i),i)}let r;const s=Lm(t);if(s&&s.getTime()>=Rh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Hu(nn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Pt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Hu(nn(n),t.status,n.weak_password.reasons);throw new fm(nn(n),t.status||500,r)}const zm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function W(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ma]||(i[ma]=Rh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Bm(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Bm(t,e,n,r,s,i){const o=zm(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new ya(nn(l),0)}if(a.ok||await Gu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Gu(l)}}function mt(t){var e;let n=null;qm(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=bm(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ju(t){const e=mt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Lt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Wm(t){return{data:t,error:null}}function Hm(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Fm(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Vm(t){return t}function qm(t){return t.access_token&&t.refresh_token&&t.expires_in}const fo=["global","local","others"];var Km=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Qm{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Dh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=fo[0]){if(fo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fo.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Lt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Km(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Hm,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(U(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Lt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Vm});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);c[`${j}Page`]=x}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Sn(e);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Lt})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sn(e);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Lt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Sn(e);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Lt})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Sn(e.userId);try{const{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sn(e.userId),Sn(e.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}function Yu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Gm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bn={debug:!!(globalThis&&$h()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Jm extends Uh{}async function Ym(t,e,n){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Jm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Gm();const Xm={url:lm,storageKey:um,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:cm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Xu(t,e,n){return await n()}const jn={};class Yr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yr.nextInstanceID,Yr.nextInstanceID+=1,this.instanceID>0&&nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Xm),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Qm({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Dh(s.fetch),this.lock=s.lock||Xu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:nt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ym:this.lock=Xu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:$h()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Yu(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=jn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=jn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ah}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Em(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),nt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),mm(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return U(n)?{error:n}:{error:new Ih("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:mt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await kn(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:w},xform:mt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:mt})}else throw new bs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ju})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ju})}else throw new bs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ss}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,d,h,p,v;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:j,wallet:m,statement:g,options:f}=e;let y;if(nt())if(typeof m=="object")y=m;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))y=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const _=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const k=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=f==null?void 0:f.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:j,error:m}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Sm(x)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:mt});if(m)throw m;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Ss}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:m})}catch(j){if(U(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Zt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:mt});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ss}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:mt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ss}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await kn(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new bs("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:mt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await kn(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Wm})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Pt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(U(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await W(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await W(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new bs("You must provide either an email or phone number and a type")}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<lo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Zt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=ho()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Lt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Lt})})}catch(n){if(U(n))return gm(n)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Pt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await kn(this.storage,this.storageKey));const{data:c,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Lt});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=co(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(U(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Pt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!nt())throw new js("No browser detected.");if(e.error||e.error_description||e.error_code)throw new js(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Wu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new js("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wu("No code detected.");const{data:g,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new js("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const v=p-d;v*1e3<=En&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=p-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:x,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(U(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(pm(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=jm(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await kn(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(U(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Cm(async s=>(s>0&&await Tm(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&uo(i)&&Date.now()+o-r<En})}catch(r){if(this._debug(n,"error",r),U(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Zt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Nn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:ho()}else if(s&&!s.user&&!s.user){const o=await Zt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ct(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,s)):s.user=ho()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<lo;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${lo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),uo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Pt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ai;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Pt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return uo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Qu(s);await Nn(this.storage,this.storageKey,i)}else{const s=Qu(n);await Nn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),En);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/En);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${En}ms, refresh threshold is ${ga} ticks`),s<=ga&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await kn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(U(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=co(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+hm>s)return r;const{data:i,error:o}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=co(r);n!=null&&n.allowExpired||$m(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Dm(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,km(`${a}.${l}`)))throw new va("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}Yr.nextInstanceID=0;const Zm=Yr;class ey extends Zm{constructor(e){super(e)}}var ty=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ny{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=am(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:Yg,realtime:Zg,auth:Object.assign(Object.assign({},Xg),{storageKey:l}),global:Jg},d=om(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=rm(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new yg(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Kg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new G0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return ty(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ey({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ig(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ry=(t,e,n)=>new ny(t,e,n);function sy(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}sy()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iy="https://mhcnsgyxvbqvhrarijpj.supabase.co",oy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY25zZ3l4dmJxdmhyYXJpanBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0NDA5OTYsImV4cCI6MjA4NjAxNjk5Nn0.0wzH0OUxRbDR_CEAwtfCdaKMWwU_3UDCZ4RlnDGDtSM",V=ry(iy,oy);function ay(){const[t,e]=A.useState([]),[n,r]=A.useState(!1),s=A.useMemo(()=>new URLSearchParams(window.location.search).get("write")==="1",[]);A.useEffect(()=>{let o=!1;const a=c=>{o||e(d=>[...d,c])};return(async()=>{var c;try{const d=await V.from("keep_alive").select("id").limit(1);if(d.error){a({ok:!1,message:`read failed: ${d.error.message}`});return}if(a({ok:!0,message:"read ok"}),!s)return;const h=await V.from("keep_alive").insert({}).select("id").single();if(h.error){a({ok:!1,message:`insert failed: ${h.error.message}`});return}a({ok:!0,message:`insert ok (id=${((c=h.data)==null?void 0:c.id)??"unknown"})`});const p=await V.from("keep_alive").select("id, touched_at").order("touched_at",{ascending:!1}).limit(20);if(p.error){const w=await V.from("keep_alive").select("id").order("id",{ascending:!1}).limit(20);if(w.error){a({ok:!1,message:`list failed: ${w.error.message}`});return}const x=(w.data??[]).map(j=>j.id).slice(5);if(x.length>0){const j=await V.from("keep_alive").delete().in("id",x);j.error?a({ok:!1,message:`prune failed: ${j.error.message}`}):a({ok:!0,message:`pruned ${x.length} row(s)`})}else a({ok:!0,message:"no prune needed"});return}const v=(p.data??[]).map(w=>w.id).slice(5);if(v.length>0){const w=await V.from("keep_alive").delete().in("id",v);w.error?a({ok:!1,message:`prune failed: ${w.error.message}`}):a({ok:!0,message:`pruned ${v.length} row(s)`})}else a({ok:!0,message:"no prune needed"})}finally{o||r(!0)}})(),()=>{o=!0}},[s]);const i=n&&t.length>0&&t.every(o=>o.ok);return u.jsx("div",{className:"min-h-screen bg-white text-gray-900 flex items-center justify-center p-6",children:u.jsxs("div",{className:"w-full max-w-lg border border-gray-200 rounded-lg p-6",children:[u.jsx("h1",{className:"text-xl font-semibold mb-2",children:"Cron Keep-Alive"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This page is intentionally not linked in the UI. It is safe to hit via an external cron."}),u.jsxs("div",{className:"text-sm space-y-2",children:[!n&&u.jsx("div",{children:"Running"}),t.map((o,a)=>u.jsxs("div",{className:o.ok?"text-green-700":"text-red-700",children:[o.ok?"OK":"FAIL"," - ",o.message]},a))]}),n&&u.jsx("div",{className:"mt-4 text-sm font-semibold",children:i?"OK":"FAILED"})]})})}function ly(){const[t,e]=A.useState([]),[n,r]=A.useState([]),[s,i]=A.useState([]),[o,a]=A.useState([]),[l,c]=A.useState(!0),[d,h]=A.useState(!1),p=async()=>{const L=l;L?c(!0):h(!0);try{const[P,M,z,B]=await Promise.all([V.from("tenants").select("*").order("name"),V.from("fees").select("*").order("created_at"),V.from("payments").select("*"),V.from("purse_transactions").select("*").order("transaction_date",{ascending:!1})]);P.data&&e(P.data),M.data&&r(M.data),z.data&&i(z.data),B.data&&a(B.data)}catch(P){console.error("Error fetching data:",P)}finally{L?c(!1):h(!1)}};return A.useEffect(()=>{p()},[]),{tenants:t,fees:n,payments:s,purseTransactions:o,loading:l,refreshing:d,addTenant:async(L,P)=>{const{error:M}=await V.from("tenants").insert({name:L,phone:P??null,is_active:!0});return M||p(),!M},updateTenant:async(L,P,M)=>{const{error:z}=await V.from("tenants").update({name:P,phone:M??null}).eq("id",L);return z||p(),!z},removeTenant:async L=>{const{error:P}=await V.from("tenants").update({is_active:!1,removed_at:new Date().toISOString()}).eq("id",L);return P||p(),!P},deleteTenant:async L=>{const{error:P}=await V.from("tenants").delete().eq("id",L);return P||p(),!P},addFee:async(L,P,M)=>{const{error:z}=await V.from("fees").insert({name:L,total_amount:P,period:M,is_active:!0});return z||p(),!z},updateFee:async(L,P,M,z)=>{const{error:B}=await V.from("fees").update({name:P,total_amount:M,period:z}).eq("id",L);return B||p(),!B},deleteFee:async L=>{const{error:P}=await V.from("fees").delete().eq("id",L);return P||p(),!P},addPayment:async(L,P,M,z,B)=>{const{data:ee,error:F}=await V.from("payments").insert({tenant_id:L,fee_id:P,amount_paid:M,payment_date:z,notes:B}).select("*").single();if(F||!ee)return console.error("Error inserting payment",F),!1;const S=n.find(I=>I.id===P),R=t.find(I=>I.id===L),D=`Payment - ${(S==null?void 0:S.name)??P} by ${(R==null?void 0:R.name)??L}`,{error:K}=await V.from("purse_transactions").insert({description:D,amount:M,transaction_type:"income",transaction_date:z,payment_id:ee.id});if(K){const{error:I}=await V.from("purse_transactions").insert({description:D,amount:M,transaction_type:"income",transaction_date:z});I&&(console.error("Retry failed inserting purse transaction without payment_id",I),console.error("Original error:",K))}return await p(),!0},deletePayment:async L=>{const{data:P}=await V.from("payments").select("*").eq("id",L).single();let M=!1;try{const{data:B,error:ee}=await V.from("purse_transactions").select("id").eq("payment_id",L);!ee&&B&&B.length>0&&(await V.from("purse_transactions").delete().in("id",B.map(F=>F.id)),M=!0)}catch(B){console.error("Error deleting linked purse transaction",B)}if(!M&&P)try{const B=n.find(R=>R.id===P.fee_id),ee=t.find(R=>R.id===P.tenant_id),F=`Payment - ${(B==null?void 0:B.name)??P.fee_id} by ${(ee==null?void 0:ee.name)??P.tenant_id}`,{data:S}=await V.from("purse_transactions").select("id, description, amount, transaction_date").eq("amount",P.amount_paid).eq("transaction_date",P.payment_date).eq("transaction_type","income");if(S){const R=S.filter(D=>D.description===F).map(D=>D.id);R.length>0&&await V.from("purse_transactions").delete().in("id",R)}}catch(B){console.error("Error in fallback deletion",B)}const{error:z}=await V.from("payments").delete().eq("id",L);return z||p(),!z},updatePayment:async(L,P)=>{const{error:M}=await V.from("payments").update(P).eq("id",L);if(M)return console.error("Error updating payment",M),!1;try{const z=P.fee_id?n.find(S=>S.id===P.fee_id):void 0,B=P.tenant_id?t.find(S=>S.id===P.tenant_id):void 0,ee=z||B?`Payment - ${(z==null?void 0:z.name)??P.fee_id} by ${(B==null?void 0:B.name)??P.tenant_id}`:void 0,F={};if(typeof P.amount_paid<"u"&&(F.amount=P.amount_paid),P.payment_date&&(F.transaction_date=P.payment_date),ee&&(F.description=ee),Object.keys(F).length>0){const{error:S}=await V.from("purse_transactions").update(F).eq("payment_id",L);S&&(S.code==="PGRST204"||S.message&&S.message.includes("payment_id")||console.error("Error updating linked purse transaction",S))}}catch(z){console.error("Unexpected error updating linked purse transaction",z)}return p(),!0},addPurseTransaction:async(L,P,M,z)=>{const{error:B}=await V.from("purse_transactions").insert({description:L,amount:P,transaction_type:M,transaction_date:z});return B||p(),!B},deletePurseTransaction:async L=>{const{error:P}=await V.from("purse_transactions").delete().eq("id",L);return P||p(),!P},addSpreadPayment:async(L,P,M,z)=>{if(P<=0)return!1;try{const B=t.filter(I=>I.is_active).length||1,ee=n.map(I=>{const Y=I.total_amount/B,G=s.filter(ce=>ce.tenant_id===L&&ce.fee_id===I.id).reduce((ce,Ye)=>ce+Ye.amount_paid,0),_e=Math.max(0,Math.round((Y-G)*100)/100);return{fee:I,outstanding:_e,share:Y}}).filter(I=>I.outstanding>0).sort((I,Y)=>new Date(I.fee.created_at).getTime()-new Date(Y.fee.created_at).getTime());let F=Math.round(P*100)/100;const S=[];for(const I of ee){if(F<=0)break;const Y=Math.min(I.outstanding,F);Y<=0||(S.push({tenant_id:L,fee_id:I.fee.id,amount_paid:Y,payment_date:M,notes:z||`Spread payment allocation for ${I.fee.name}`}),F=Math.round((F-Y)*100)/100)}if(S.length===0&&F<=0)return!1;if(F>0){let I=n.find(Y=>Y.name==="Advance Payment");if(!I){const{data:Y,error:G}=await V.from("fees").insert({name:"Advance Payment",total_amount:0,period:"One-time",is_active:!0}).select().single();if(G||!Y){if(console.error("Error creating Advance Payment fee",G),ee.length>0){const _e=ee[ee.length-1];S.push({tenant_id:L,fee_id:_e.fee.id,amount_paid:F,payment_date:M,notes:z||`Overpayment allocated to ${_e.fee.name}`})}}else I=Y}I&&S.push({tenant_id:L,fee_id:I.id,amount_paid:F,payment_date:M,notes:z||"Advance Payment / Overpayment"})}const{data:R,error:D}=await V.from("payments").insert(S).select("*");if(D||!R)return console.error("Error inserting spread payments",D),!1;const K=[];for(const I of R){const Y=n.find(ce=>ce.id===I.fee_id),G=t.find(ce=>ce.id===I.tenant_id),_e=`Payment - ${(Y==null?void 0:Y.name)??I.fee_id} by ${(G==null?void 0:G.name)??I.tenant_id}`;K.push({description:_e,amount:I.amount_paid,transaction_type:"income",transaction_date:I.payment_date,payment_id:I.id})}if(K.length>0)try{const{error:I}=await V.from("purse_transactions").insert(K);if(I){const Y=K.map(({description:_e,amount:ce,transaction_type:Ye,transaction_date:T})=>({description:_e,amount:ce,transaction_type:Ye,transaction_date:T})),{error:G}=await V.from("purse_transactions").insert(Y);G&&(console.error("Retry failed inserting purse transactions without payment_id",G),console.error("Original error:",I))}}catch(I){console.error("Unexpected error inserting purse transactions for spread payments",I)}return await p(),!0}catch(B){return console.error("Error in addSpreadPayment",B),!1}},refreshData:p,clearAllTransactions:async()=>{try{const{error:L}=await V.from("purse_transactions").delete().neq("id","00000000-0000-0000-0000-000000000000");if(L)return console.error("Error clearing purse transactions",L),!1;const{error:P}=await V.from("payments").delete().neq("id","00000000-0000-0000-0000-000000000000");return P?(console.error("Error clearing payments",P),!1):(await p(),!0)}catch(L){return console.error("Error clearing all transactions",L),!1}}}}function uy(){const{isAuthenticated:t,isAdmin:e,logout:n}=rr(),{isDark:r,toggleTheme:s}=L0(),[i,o]=A.useState("overview"),[a,l]=A.useState(!1),[c,d]=A.useState(!0);if((()=>{if(new URLSearchParams(window.location.search).get("cron")==="1")return!0;const S=window.location.hash||"";return S==="#/cron"||S==="#cron"||S.startsWith("#/cron?")})())return u.jsx(ay,{});const{tenants:p,fees:v,payments:w,purseTransactions:x,loading:j,addTenant:m,updateTenant:g,removeTenant:f,deleteTenant:y,addFee:_,updateFee:k,deleteFee:E,addPayment:N,deletePayment:C,updatePayment:$,addPurseTransaction:L,deletePurseTransaction:P,addSpreadPayment:M,clearAllTransactions:z}=ly();if(c)return u.jsx(V0,{onFinish:()=>d(!1)});if(!t)return u.jsx(D0,{});if(j)return u.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})});const B=()=>{const F=document.getElementById("main-content");F&&vn(()=>import("./html2canvas.esm-CBrSDip1.js"),[]).then(S=>{S.default(F).then(R=>{const D=document.createElement("a");D.download=`housefees-${new Date().toISOString().split("T")[0]}.png`,D.href=R.toDataURL(),D.click()})})},ee=[{id:"overview",label:"Overview"},{id:"payments",label:"Payments"},{id:"purse",label:"Purse"},{id:"fees",label:"Fees"},...e?[{id:"tenants",label:"Residents"}]:[]];return u.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:[u.jsxs("div",{className:`fixed inset-0 z-[60] ${a?"visible":"invisible"} md:hidden`,children:[u.jsx("div",{className:`absolute inset-0 bg-black/50 transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onClick:()=>l(!1)}),u.jsxs("div",{className:`absolute left-0 top-0 h-full w-64 bg-white dark:bg-gray-800 shadow-xl p-6 flex flex-col gap-2 transform transition-transform duration-300 ${a?"translate-x-0":"-translate-x-full"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Menu"}),u.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:u.jsx(aa,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),ee.map(F=>u.jsx("button",{onClick:()=>{o(F.id),l(!1)},className:`text-left px-4 py-3 rounded-lg transition font-medium ${i===F.id?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:F.label},F.id))]})]}),u.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center py-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[u.jsx("span",{className:"md:hidden",children:"H.F.T"}),u.jsx("span",{className:"hidden md:inline",children:"HouseFees Tracker"})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e?"Admin Access":"Viewer Access"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:B,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition text-gray-600 dark:text-gray-400",title:"Take Screenshot",children:u.jsx(hh,{className:"w-5 h-5"})}),u.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition text-gray-600 dark:text-gray-400",title:"Toggle Theme",children:r?u.jsx(T0,{className:"w-5 h-5"}):u.jsx(E0,{className:"w-5 h-5"})}),u.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition text-gray-600 dark:text-gray-400",title:"Logout",children:u.jsx(b0,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>l(!a),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition text-gray-600 dark:text-gray-400",children:a?u.jsx(aa,{className:"w-5 h-5"}):u.jsx(j0,{className:"w-5 h-5"})})]})]}),u.jsx("nav",{className:"hidden md:block pb-0",children:u.jsx("div",{className:"flex flex-row gap-1",children:ee.map(F=>u.jsx("button",{onClick:()=>o(F.id),className:`px-4 py-2 rounded-lg transition font-medium ${i===F.id?"bg-blue-600 dark:bg-blue-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:F.label},F.id))})})]})}),u.jsx("main",{id:"main-content",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"space-y-6",children:[i==="overview"&&u.jsxs(u.Fragment,{children:[u.jsx(F0,{tenants:p,fees:v,payments:w}),u.jsx($u,{tenants:p,fees:v,payments:w,onAddPayment:N,onDeletePayment:C,onUpdatePayment:$,onSpreadPayment:M})]}),i==="payments"&&u.jsx($u,{tenants:p,fees:v,payments:w,onAddPayment:N,onDeletePayment:C,onUpdatePayment:$,onSpreadPayment:M}),i==="purse"&&u.jsx("div",{className:"space-y-4",children:u.jsx(H0,{transactions:x,onAdd:L,onDelete:P,onClearAll:z,payments:w,tenants:p})}),i==="tenants"&&e&&u.jsx(M0,{tenants:p,onAdd:m,onUpdate:g,onRemove:f,onDelete:y}),i==="fees"&&u.jsx(z0,{fees:v,onAdd:_,onUpdate:k,onDelete:E})]})}),u.jsx("footer",{className:"bg-white dark:bg-gray-800 shadow-md mt-12",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:u.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[u.jsx("p",{children:"HouseFees Tracker - Manage your house fees with ease"}),u.jsx("p",{className:"mt-1",children:"created by 'Positive Developer'"})]})})})]})}function cy(){return u.jsx(R0,{children:u.jsx(I0,{children:u.jsx($0,{children:u.jsx(uy,{})})})})}dh(document.getElementById("root")).render(u.jsx(A.StrictMode,{children:u.jsx(cy,{})}));
