(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Uh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Ju={exports:{}},ci={},Yu={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=Symbol.for("react.element"),Fh=Symbol.for("react.portal"),Mh=Symbol.for("react.fragment"),zh=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),Wh=Symbol.for("react.provider"),Hh=Symbol.for("react.context"),Vh=Symbol.for("react.forward_ref"),qh=Symbol.for("react.suspense"),Kh=Symbol.for("react.memo"),Qh=Symbol.for("react.lazy"),wl=Symbol.iterator;function Gh(t){return t===null||typeof t!="object"?null:(t=wl&&t[wl]||t["@@iterator"],typeof t=="function"?t:null)}var Xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zu=Object.assign,ec={};function er(t,e,n){this.props=t,this.context=e,this.refs=ec,this.updater=n||Xu}er.prototype.isReactComponent={};er.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};er.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function tc(){}tc.prototype=er.prototype;function va(t,e,n){this.props=t,this.context=e,this.refs=ec,this.updater=n||Xu}var wa=va.prototype=new tc;wa.constructor=va;Zu(wa,er.prototype);wa.isPureReactComponent=!0;var xl=Array.isArray,nc=Object.prototype.hasOwnProperty,xa={current:null},rc={key:!0,ref:!0,__self:!0,__source:!0};function sc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)nc.call(e,r)&&!rc.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Yr,type:t,key:i,ref:o,props:s,_owner:xa.current}}function Jh(t,e){return{$$typeof:Yr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _a(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yr}function Yh(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _l=/\/+/g;function Ai(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Yh(""+t.key):e.toString(36)}function js(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yr:case Fh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ai(o,0):r,xl(s)?(n="",t!=null&&(n=t.replace(_l,"$&/")+"/"),js(s,e,n,"",function(c){return c})):s!=null&&(_a(s)&&(s=Jh(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_l,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",xl(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ai(i,a);o+=js(i,e,n,l,s)}else if(l=Gh(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ai(i,a++),o+=js(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ss(t,e,n){if(t==null)return t;var r=[],s=0;return js(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Xh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ce={current:null},Es={transition:null},Zh={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:Es,ReactCurrentOwner:xa};function ic(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:ss,forEach:function(t,e,n){ss(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ss(t,function(){e++}),e},toArray:function(t){return ss(t,function(e){return e})||[]},only:function(t){if(!_a(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};W.Component=er;W.Fragment=Mh;W.Profiler=Bh;W.PureComponent=va;W.StrictMode=zh;W.Suspense=qh;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zh;W.act=ic;W.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Zu({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=xa.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)nc.call(e,l)&&!rc.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yr,type:t.type,key:s,ref:i,props:r,_owner:o}};W.createContext=function(t){return t={$$typeof:Hh,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wh,_context:t},t.Consumer=t};W.createElement=sc;W.createFactory=function(t){var e=sc.bind(null,t);return e.type=t,e};W.createRef=function(){return{current:null}};W.forwardRef=function(t){return{$$typeof:Vh,render:t}};W.isValidElement=_a;W.lazy=function(t){return{$$typeof:Qh,_payload:{_status:-1,_result:t},_init:Xh}};W.memo=function(t,e){return{$$typeof:Kh,type:t,compare:e===void 0?null:e}};W.startTransition=function(t){var e=Es.transition;Es.transition={};try{t()}finally{Es.transition=e}};W.unstable_act=ic;W.useCallback=function(t,e){return Ce.current.useCallback(t,e)};W.useContext=function(t){return Ce.current.useContext(t)};W.useDebugValue=function(){};W.useDeferredValue=function(t){return Ce.current.useDeferredValue(t)};W.useEffect=function(t,e){return Ce.current.useEffect(t,e)};W.useId=function(){return Ce.current.useId()};W.useImperativeHandle=function(t,e,n){return Ce.current.useImperativeHandle(t,e,n)};W.useInsertionEffect=function(t,e){return Ce.current.useInsertionEffect(t,e)};W.useLayoutEffect=function(t,e){return Ce.current.useLayoutEffect(t,e)};W.useMemo=function(t,e){return Ce.current.useMemo(t,e)};W.useReducer=function(t,e,n){return Ce.current.useReducer(t,e,n)};W.useRef=function(t){return Ce.current.useRef(t)};W.useState=function(t){return Ce.current.useState(t)};W.useSyncExternalStore=function(t,e,n){return Ce.current.useSyncExternalStore(t,e,n)};W.useTransition=function(){return Ce.current.useTransition()};W.version="18.3.1";Yu.exports=W;var I=Yu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ef=I,tf=Symbol.for("react.element"),nf=Symbol.for("react.fragment"),rf=Object.prototype.hasOwnProperty,sf=ef.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,of={key:!0,ref:!0,__self:!0,__source:!0};function oc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)rf.call(e,r)&&!of.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:tf,type:t,key:i,ref:o,props:s,_owner:sf.current}}ci.Fragment=nf;ci.jsx=oc;ci.jsxs=oc;Ju.exports=ci;var u=Ju.exports,ac={exports:{}},Be={},lc={exports:{}},uc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,A){var D=b.length;b.push(A);e:for(;0<D;){var K=D-1>>>1,R=b[K];if(0<s(R,A))b[K]=A,b[D]=R,D=K;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var A=b[0],D=b.pop();if(D!==A){b[0]=D;e:for(var K=0,R=b.length,V=R>>>1;K<V;){var re=2*(K+1)-1,Oe=b[re],ue=re+1,N=b[ue];if(0>s(Oe,D))ue<R&&0>s(N,Oe)?(b[K]=N,b[ue]=D,K=ue):(b[K]=Oe,b[re]=D,K=re);else if(ue<R&&0>s(N,D))b[K]=N,b[ue]=D,K=ue;else break e}}return A}function s(b,A){var D=b.sortIndex-A.sortIndex;return D!==0?D:b.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,p=3,v=!1,w=!1,x=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(b){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=b)r(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function y(b){if(x=!1,f(b),!w)if(n(l)!==null)w=!0,H(_);else{var A=n(c);A!==null&&G(y,A.startTime-b)}}function _(b,A){w=!1,x&&(x=!1,m(T),T=-1),v=!0;var D=p;try{for(f(A),h=n(l);h!==null&&(!(h.expirationTime>A)||b&&!L());){var K=h.callback;if(typeof K=="function"){h.callback=null,p=h.priorityLevel;var R=K(h.expirationTime<=A);A=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&r(l),f(A)}else r(l);h=n(l)}if(h!==null)var V=!0;else{var re=n(c);re!==null&&G(y,re.startTime-A),V=!1}return V}finally{h=null,p=D,v=!1}}var k=!1,j=null,T=-1,C=5,$=-1;function L(){return!(t.unstable_now()-$<C)}function P(){if(j!==null){var b=t.unstable_now();$=b;var A=!0;try{A=j(!0,b)}finally{A?M():(k=!1,j=null)}}else k=!1}var M;if(typeof g=="function")M=function(){g(P)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,F=z.port2;z.port1.onmessage=P,M=function(){F.postMessage(null)}}else M=function(){E(P,0)};function H(b){j=b,k||(k=!0,M())}function G(b,A){T=E(function(){b(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,H(_))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(b){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var D=p;p=A;try{return b()}finally{p=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,A){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var D=p;p=b;try{return A()}finally{p=D}},t.unstable_scheduleCallback=function(b,A,D){var K=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?K+D:K):D=K,b){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=D+R,b={id:d++,callback:A,priorityLevel:b,startTime:D,expirationTime:R,sortIndex:-1},D>K?(b.sortIndex=D,e(c,b),n(l)===null&&b===n(c)&&(x?(m(T),T=-1):x=!0,G(y,D-K))):(b.sortIndex=R,e(l,b),w||v||(w=!0,H(_))),b},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(b){var A=p;return function(){var D=p;p=A;try{return b.apply(this,arguments)}finally{p=D}}}})(uc);lc.exports=uc;var af=lc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=I,ze=af;function S(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cc=new Set,Rr={};function gn(t,e){qn(t,e),qn(t+"Capture",e)}function qn(t,e){for(Rr[t]=e,t=0;t<e.length;t++)cc.add(e[t])}var kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fo=Object.prototype.hasOwnProperty,uf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kl={},Sl={};function cf(t){return fo.call(Sl,t)?!0:fo.call(kl,t)?!1:uf.test(t)?Sl[t]=!0:(kl[t]=!0,!1)}function df(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hf(t,e,n,r){if(e===null||typeof e>"u"||df(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Pe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Pe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Pe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Pe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Pe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Pe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Pe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Pe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Pe(t,5,!1,t.toLowerCase(),null,!1,!1)});var ka=/[\-:]([a-z])/g;function Sa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ka,Sa);xe[e]=new Pe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ka,Sa);xe[e]=new Pe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ka,Sa);xe[e]=new Pe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Pe(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Pe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Pe(t,1,!1,t.toLowerCase(),null,!0,!0)});function ba(t,e,n,r){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hf(e,n,s,r)&&(n=null),r||s===null?cf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Et=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,is=Symbol.for("react.element"),Tn=Symbol.for("react.portal"),Cn=Symbol.for("react.fragment"),ja=Symbol.for("react.strict_mode"),po=Symbol.for("react.profiler"),dc=Symbol.for("react.provider"),hc=Symbol.for("react.context"),Ea=Symbol.for("react.forward_ref"),go=Symbol.for("react.suspense"),mo=Symbol.for("react.suspense_list"),Na=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),fc=Symbol.for("react.offscreen"),bl=Symbol.iterator;function ar(t){return t===null||typeof t!="object"?null:(t=bl&&t[bl]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,Ri;function mr(t){if(Ri===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ri=e&&e[1]||""}return`
`+Ri+t}var Ii=!1;function Li(t,e){if(!t||Ii)return"";Ii=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ii=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mr(t):""}function ff(t){switch(t.tag){case 5:return mr(t.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 2:case 15:return t=Li(t.type,!1),t;case 11:return t=Li(t.type.render,!1),t;case 1:return t=Li(t.type,!0),t;default:return""}}function yo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Cn:return"Fragment";case Tn:return"Portal";case po:return"Profiler";case ja:return"StrictMode";case go:return"Suspense";case mo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hc:return(t.displayName||"Context")+".Consumer";case dc:return(t._context.displayName||"Context")+".Provider";case Ea:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Na:return e=t.displayName||null,e!==null?e:yo(t.type)||"Memo";case Pt:e=t._payload,t=t._init;try{return yo(t(e))}catch{}}return null}function pf(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yo(e);case 8:return e===ja?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gf(t){var e=pc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function os(t){t._valueTracker||(t._valueTracker=gf(t))}function gc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=pc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vo(t,e){var n=e.checked;return oe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jl(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mc(t,e){e=e.checked,e!=null&&ba(t,"checked",e,!1)}function wo(t,e){mc(t,e);var n=Vt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xo(t,e.type,n):e.hasOwnProperty("defaultValue")&&xo(t,e.type,Vt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function El(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xo(t,e,n){(e!=="number"||Ds(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yr=Array.isArray;function Mn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _o(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(S(91));return oe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Nl(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(S(92));if(yr(n)){if(1<n.length)throw Error(S(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vt(n)}}function yc(t,e){var n=Vt(e.value),r=Vt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Tl(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function vc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ko(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?vc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var as,wc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(as=as||document.createElement("div"),as.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=as.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ir(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mf=["Webkit","ms","Moz","O"];Object.keys(_r).forEach(function(t){mf.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_r[e]=_r[t]})});function xc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_r.hasOwnProperty(t)&&_r[t]?(""+e).trim():e+"px"}function _c(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=xc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var yf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function So(t,e){if(e){if(yf[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(S(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(S(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(S(61))}if(e.style!=null&&typeof e.style!="object")throw Error(S(62))}}function bo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jo=null;function Ta(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eo=null,zn=null,Bn=null;function Cl(t){if(t=es(t)){if(typeof Eo!="function")throw Error(S(280));var e=t.stateNode;e&&(e=gi(e),Eo(t.stateNode,t.type,e))}}function kc(t){zn?Bn?Bn.push(t):Bn=[t]:zn=t}function Sc(){if(zn){var t=zn,e=Bn;if(Bn=zn=null,Cl(t),e)for(t=0;t<e.length;t++)Cl(e[t])}}function bc(t,e){return t(e)}function jc(){}var $i=!1;function Ec(t,e,n){if($i)return t(e,n);$i=!0;try{return bc(t,e,n)}finally{$i=!1,(zn!==null||Bn!==null)&&(jc(),Sc())}}function Lr(t,e){var n=t.stateNode;if(n===null)return null;var r=gi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(S(231,e,typeof n));return n}var No=!1;if(kt)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){No=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{No=!1}function vf(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var kr=!1,Us=null,Fs=!1,To=null,wf={onError:function(t){kr=!0,Us=t}};function xf(t,e,n,r,s,i,o,a,l){kr=!1,Us=null,vf.apply(wf,arguments)}function _f(t,e,n,r,s,i,o,a,l){if(xf.apply(this,arguments),kr){if(kr){var c=Us;kr=!1,Us=null}else throw Error(S(198));Fs||(Fs=!0,To=c)}}function mn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Nc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Pl(t){if(mn(t)!==t)throw Error(S(188))}function kf(t){var e=t.alternate;if(!e){if(e=mn(t),e===null)throw Error(S(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pl(s),t;if(i===r)return Pl(s),e;i=i.sibling}throw Error(S(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(S(189))}}if(n.alternate!==r)throw Error(S(190))}if(n.tag!==3)throw Error(S(188));return n.stateNode.current===n?t:e}function Tc(t){return t=kf(t),t!==null?Cc(t):null}function Cc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Cc(t);if(e!==null)return e;t=t.sibling}return null}var Pc=ze.unstable_scheduleCallback,Ol=ze.unstable_cancelCallback,Sf=ze.unstable_shouldYield,bf=ze.unstable_requestPaint,ce=ze.unstable_now,jf=ze.unstable_getCurrentPriorityLevel,Ca=ze.unstable_ImmediatePriority,Oc=ze.unstable_UserBlockingPriority,Ms=ze.unstable_NormalPriority,Ef=ze.unstable_LowPriority,Ac=ze.unstable_IdlePriority,di=null,ft=null;function Nf(t){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(di,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:Pf,Tf=Math.log,Cf=Math.LN2;function Pf(t){return t>>>=0,t===0?32:31-(Tf(t)/Cf|0)|0}var ls=64,us=4194304;function vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=vr(a):(i&=o,i!==0&&(r=vr(i)))}else o=n&~s,o!==0?r=vr(o):i!==0&&(r=vr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-it(e),s=1<<n,r|=t[n],e&=~s;return r}function Of(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Af(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-it(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Of(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Co(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rc(){var t=ls;return ls<<=1,!(ls&4194240)&&(ls=64),t}function Di(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=n}function Rf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-it(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Pa(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-it(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Y=0;function Ic(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Lc,Oa,$c,Dc,Uc,Po=!1,cs=[],Dt=null,Ut=null,Ft=null,$r=new Map,Dr=new Map,At=[],If="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Al(t,e){switch(t){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Ft=null;break;case"pointerover":case"pointerout":$r.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dr.delete(e.pointerId)}}function ur(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=es(e),e!==null&&Oa(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Lf(t,e,n,r,s){switch(e){case"focusin":return Dt=ur(Dt,t,e,n,r,s),!0;case"dragenter":return Ut=ur(Ut,t,e,n,r,s),!0;case"mouseover":return Ft=ur(Ft,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return $r.set(i,ur($r.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Dr.set(i,ur(Dr.get(i)||null,t,e,n,r,s)),!0}return!1}function Fc(t){var e=rn(t.target);if(e!==null){var n=mn(e);if(n!==null){if(e=n.tag,e===13){if(e=Nc(n),e!==null){t.blockedOn=e,Uc(t.priority,function(){$c(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ns(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Oo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jo=r,n.target.dispatchEvent(r),jo=null}else return e=es(n),e!==null&&Oa(e),t.blockedOn=n,!1;e.shift()}return!0}function Rl(t,e,n){Ns(t)&&n.delete(e)}function $f(){Po=!1,Dt!==null&&Ns(Dt)&&(Dt=null),Ut!==null&&Ns(Ut)&&(Ut=null),Ft!==null&&Ns(Ft)&&(Ft=null),$r.forEach(Rl),Dr.forEach(Rl)}function cr(t,e){t.blockedOn===e&&(t.blockedOn=null,Po||(Po=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,$f)))}function Ur(t){function e(s){return cr(s,t)}if(0<cs.length){cr(cs[0],t);for(var n=1;n<cs.length;n++){var r=cs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dt!==null&&cr(Dt,t),Ut!==null&&cr(Ut,t),Ft!==null&&cr(Ft,t),$r.forEach(e),Dr.forEach(e),n=0;n<At.length;n++)r=At[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)Fc(n),n.blockedOn===null&&At.shift()}var Wn=Et.ReactCurrentBatchConfig,Bs=!0;function Df(t,e,n,r){var s=Y,i=Wn.transition;Wn.transition=null;try{Y=1,Aa(t,e,n,r)}finally{Y=s,Wn.transition=i}}function Uf(t,e,n,r){var s=Y,i=Wn.transition;Wn.transition=null;try{Y=4,Aa(t,e,n,r)}finally{Y=s,Wn.transition=i}}function Aa(t,e,n,r){if(Bs){var s=Oo(t,e,n,r);if(s===null)Ki(t,e,r,Ws,n),Al(t,r);else if(Lf(s,t,e,n,r))r.stopPropagation();else if(Al(t,r),e&4&&-1<If.indexOf(t)){for(;s!==null;){var i=es(s);if(i!==null&&Lc(i),i=Oo(t,e,n,r),i===null&&Ki(t,e,r,Ws,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ki(t,e,r,null,n)}}var Ws=null;function Oo(t,e,n,r){if(Ws=null,t=Ta(r),t=rn(t),t!==null)if(e=mn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Nc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ws=t,null}function Mc(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jf()){case Ca:return 1;case Oc:return 4;case Ms:case Ef:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var Lt=null,Ra=null,Ts=null;function zc(){if(Ts)return Ts;var t,e=Ra,n=e.length,r,s="value"in Lt?Lt.value:Lt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ts=s.slice(t,1<r?1-r:void 0)}function Cs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ds(){return!0}function Il(){return!1}function We(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ds:Il,this.isPropagationStopped=Il,this}return oe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ds)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ds)},persist:function(){},isPersistent:ds}),e}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=We(tr),Zr=oe({},tr,{view:0,detail:0}),Ff=We(Zr),Ui,Fi,dr,hi=oe({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:La,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dr&&(dr&&t.type==="mousemove"?(Ui=t.screenX-dr.screenX,Fi=t.screenY-dr.screenY):Fi=Ui=0,dr=t),Ui)},movementY:function(t){return"movementY"in t?t.movementY:Fi}}),Ll=We(hi),Mf=oe({},hi,{dataTransfer:0}),zf=We(Mf),Bf=oe({},Zr,{relatedTarget:0}),Mi=We(Bf),Wf=oe({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Hf=We(Wf),Vf=oe({},tr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qf=We(Vf),Kf=oe({},tr,{data:0}),$l=We(Kf),Qf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yf(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jf[t])?!!e[t]:!1}function La(){return Yf}var Xf=oe({},Zr,{key:function(t){if(t.key){var e=Qf[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:La,charCode:function(t){return t.type==="keypress"?Cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zf=We(Xf),ep=oe({},hi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dl=We(ep),tp=oe({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:La}),np=We(tp),rp=oe({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),sp=We(rp),ip=oe({},hi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),op=We(ip),ap=[9,13,27,32],$a=kt&&"CompositionEvent"in window,Sr=null;kt&&"documentMode"in document&&(Sr=document.documentMode);var lp=kt&&"TextEvent"in window&&!Sr,Bc=kt&&(!$a||Sr&&8<Sr&&11>=Sr),Ul=" ",Fl=!1;function Wc(t,e){switch(t){case"keyup":return ap.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Pn=!1;function up(t,e){switch(t){case"compositionend":return Hc(e);case"keypress":return e.which!==32?null:(Fl=!0,Ul);case"textInput":return t=e.data,t===Ul&&Fl?null:t;default:return null}}function cp(t,e){if(Pn)return t==="compositionend"||!$a&&Wc(t,e)?(t=zc(),Ts=Ra=Lt=null,Pn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bc&&e.locale!=="ko"?null:e.data;default:return null}}var dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ml(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dp[t.type]:e==="textarea"}function Vc(t,e,n,r){kc(r),e=Hs(e,"onChange"),0<e.length&&(n=new Ia("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var br=null,Fr=null;function hp(t){nd(t,0)}function fi(t){var e=Rn(t);if(gc(e))return t}function fp(t,e){if(t==="change")return e}var qc=!1;if(kt){var zi;if(kt){var Bi="oninput"in document;if(!Bi){var zl=document.createElement("div");zl.setAttribute("oninput","return;"),Bi=typeof zl.oninput=="function"}zi=Bi}else zi=!1;qc=zi&&(!document.documentMode||9<document.documentMode)}function Bl(){br&&(br.detachEvent("onpropertychange",Kc),Fr=br=null)}function Kc(t){if(t.propertyName==="value"&&fi(Fr)){var e=[];Vc(e,Fr,t,Ta(t)),Ec(hp,e)}}function pp(t,e,n){t==="focusin"?(Bl(),br=e,Fr=n,br.attachEvent("onpropertychange",Kc)):t==="focusout"&&Bl()}function gp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fi(Fr)}function mp(t,e){if(t==="click")return fi(e)}function yp(t,e){if(t==="input"||t==="change")return fi(e)}function vp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var at=typeof Object.is=="function"?Object.is:vp;function Mr(t,e){if(at(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!fo.call(e,s)||!at(t[s],e[s]))return!1}return!0}function Wl(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hl(t,e){var n=Wl(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Wl(n)}}function Qc(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qc(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Gc(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ds(t.document)}return e}function Da(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wp(t){var e=Gc(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qc(n.ownerDocument.documentElement,n)){if(r!==null&&Da(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Hl(n,i);var o=Hl(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xp=kt&&"documentMode"in document&&11>=document.documentMode,On=null,Ao=null,jr=null,Ro=!1;function Vl(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ro||On==null||On!==Ds(r)||(r=On,"selectionStart"in r&&Da(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jr&&Mr(jr,r)||(jr=r,r=Hs(Ao,"onSelect"),0<r.length&&(e=new Ia("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=On)))}function hs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var An={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionend:hs("Transition","TransitionEnd")},Wi={},Jc={};kt&&(Jc=document.createElement("div").style,"AnimationEvent"in window||(delete An.animationend.animation,delete An.animationiteration.animation,delete An.animationstart.animation),"TransitionEvent"in window||delete An.transitionend.transition);function pi(t){if(Wi[t])return Wi[t];if(!An[t])return t;var e=An[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Jc)return Wi[t]=e[n];return t}var Yc=pi("animationend"),Xc=pi("animationiteration"),Zc=pi("animationstart"),ed=pi("transitionend"),td=new Map,ql="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kt(t,e){td.set(t,e),gn(e,[t])}for(var Hi=0;Hi<ql.length;Hi++){var Vi=ql[Hi],_p=Vi.toLowerCase(),kp=Vi[0].toUpperCase()+Vi.slice(1);Kt(_p,"on"+kp)}Kt(Yc,"onAnimationEnd");Kt(Xc,"onAnimationIteration");Kt(Zc,"onAnimationStart");Kt("dblclick","onDoubleClick");Kt("focusin","onFocus");Kt("focusout","onBlur");Kt(ed,"onTransitionEnd");qn("onMouseEnter",["mouseout","mouseover"]);qn("onMouseLeave",["mouseout","mouseover"]);qn("onPointerEnter",["pointerout","pointerover"]);qn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sp=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function Kl(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_f(r,e,void 0,t),t.currentTarget=null}function nd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Kl(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Kl(s,a,c),i=l}}}if(Fs)throw t=To,Fs=!1,To=null,t}function ee(t,e){var n=e[Uo];n===void 0&&(n=e[Uo]=new Set);var r=t+"__bubble";n.has(r)||(rd(e,t,2,!1),n.add(r))}function qi(t,e,n){var r=0;e&&(r|=4),rd(n,t,r,e)}var fs="_reactListening"+Math.random().toString(36).slice(2);function zr(t){if(!t[fs]){t[fs]=!0,cc.forEach(function(n){n!=="selectionchange"&&(Sp.has(n)||qi(n,!1,t),qi(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fs]||(e[fs]=!0,qi("selectionchange",!1,e))}}function rd(t,e,n,r){switch(Mc(e)){case 1:var s=Df;break;case 4:s=Uf;break;default:s=Aa}n=s.bind(null,e,n,t),s=void 0,!No||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ki(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=rn(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ec(function(){var c=i,d=Ta(n),h=[];e:{var p=td.get(t);if(p!==void 0){var v=Ia,w=t;switch(t){case"keypress":if(Cs(n)===0)break e;case"keydown":case"keyup":v=Zf;break;case"focusin":w="focus",v=Mi;break;case"focusout":w="blur",v=Mi;break;case"beforeblur":case"afterblur":v=Mi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=zf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=np;break;case Yc:case Xc:case Zc:v=Hf;break;case ed:v=sp;break;case"scroll":v=Ff;break;case"wheel":v=op;break;case"copy":case"cut":case"paste":v=qf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Dl}var x=(e&4)!==0,E=!x&&t==="scroll",m=x?p!==null?p+"Capture":null:p;x=[];for(var g=c,f;g!==null;){f=g;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,m!==null&&(y=Lr(g,m),y!=null&&x.push(Br(g,y,f)))),E)break;g=g.return}0<x.length&&(p=new v(p,w,null,n,d),h.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==jo&&(w=n.relatedTarget||n.fromElement)&&(rn(w)||w[St]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=c,w=w?rn(w):null,w!==null&&(E=mn(w),w!==E||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=c),v!==w)){if(x=Ll,y="onMouseLeave",m="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=Dl,y="onPointerLeave",m="onPointerEnter",g="pointer"),E=v==null?p:Rn(v),f=w==null?p:Rn(w),p=new x(y,g+"leave",v,n,d),p.target=E,p.relatedTarget=f,y=null,rn(d)===c&&(x=new x(m,g+"enter",w,n,d),x.target=f,x.relatedTarget=E,y=x),E=y,v&&w)t:{for(x=v,m=w,g=0,f=x;f;f=xn(f))g++;for(f=0,y=m;y;y=xn(y))f++;for(;0<g-f;)x=xn(x),g--;for(;0<f-g;)m=xn(m),f--;for(;g--;){if(x===m||m!==null&&x===m.alternate)break t;x=xn(x),m=xn(m)}x=null}else x=null;v!==null&&Ql(h,p,v,x,!1),w!==null&&E!==null&&Ql(h,E,w,x,!0)}}e:{if(p=c?Rn(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var _=fp;else if(Ml(p))if(qc)_=yp;else{_=gp;var k=pp}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=mp);if(_&&(_=_(t,c))){Vc(h,_,n,d);break e}k&&k(t,p,c),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&xo(p,"number",p.value)}switch(k=c?Rn(c):window,t){case"focusin":(Ml(k)||k.contentEditable==="true")&&(On=k,Ao=c,jr=null);break;case"focusout":jr=Ao=On=null;break;case"mousedown":Ro=!0;break;case"contextmenu":case"mouseup":case"dragend":Ro=!1,Vl(h,n,d);break;case"selectionchange":if(xp)break;case"keydown":case"keyup":Vl(h,n,d)}var j;if($a)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Pn?Wc(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Bc&&n.locale!=="ko"&&(Pn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Pn&&(j=zc()):(Lt=d,Ra="value"in Lt?Lt.value:Lt.textContent,Pn=!0)),k=Hs(c,T),0<k.length&&(T=new $l(T,t,null,n,d),h.push({event:T,listeners:k}),j?T.data=j:(j=Hc(n),j!==null&&(T.data=j)))),(j=lp?up(t,n):cp(t,n))&&(c=Hs(c,"onBeforeInput"),0<c.length&&(d=new $l("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=j))}nd(h,e)})}function Br(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hs(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Lr(t,n),i!=null&&r.unshift(Br(t,i,s)),i=Lr(t,e),i!=null&&r.push(Br(t,i,s))),t=t.return}return r}function xn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ql(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Lr(n,i),l!=null&&o.unshift(Br(n,l,a))):s||(l=Lr(n,i),l!=null&&o.push(Br(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var bp=/\r\n?/g,jp=/\u0000|\uFFFD/g;function Gl(t){return(typeof t=="string"?t:""+t).replace(bp,`
`).replace(jp,"")}function ps(t,e,n){if(e=Gl(e),Gl(t)!==e&&n)throw Error(S(425))}function Vs(){}var Io=null,Lo=null;function $o(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Do=typeof setTimeout=="function"?setTimeout:void 0,Ep=typeof clearTimeout=="function"?clearTimeout:void 0,Jl=typeof Promise=="function"?Promise:void 0,Np=typeof queueMicrotask=="function"?queueMicrotask:typeof Jl<"u"?function(t){return Jl.resolve(null).then(t).catch(Tp)}:Do;function Tp(t){setTimeout(function(){throw t})}function Qi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ur(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ur(e)}function Mt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yl(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var nr=Math.random().toString(36).slice(2),ht="__reactFiber$"+nr,Wr="__reactProps$"+nr,St="__reactContainer$"+nr,Uo="__reactEvents$"+nr,Cp="__reactListeners$"+nr,Pp="__reactHandles$"+nr;function rn(t){var e=t[ht];if(e)return e;for(var n=t.parentNode;n;){if(e=n[St]||n[ht]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Yl(t);t!==null;){if(n=t[ht])return n;t=Yl(t)}return e}t=n,n=t.parentNode}return null}function es(t){return t=t[ht]||t[St],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Rn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(S(33))}function gi(t){return t[Wr]||null}var Fo=[],In=-1;function Qt(t){return{current:t}}function te(t){0>In||(t.current=Fo[In],Fo[In]=null,In--)}function Z(t,e){In++,Fo[In]=t.current,t.current=e}var qt={},je=Qt(qt),Le=Qt(!1),un=qt;function Kn(t,e){var n=t.type.contextTypes;if(!n)return qt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function $e(t){return t=t.childContextTypes,t!=null}function qs(){te(Le),te(je)}function Xl(t,e,n){if(je.current!==qt)throw Error(S(168));Z(je,e),Z(Le,n)}function sd(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(S(108,pf(t)||"Unknown",s));return oe({},n,r)}function Ks(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qt,un=je.current,Z(je,t),Z(Le,Le.current),!0}function Zl(t,e,n){var r=t.stateNode;if(!r)throw Error(S(169));n?(t=sd(t,e,un),r.__reactInternalMemoizedMergedChildContext=t,te(Le),te(je),Z(je,t)):te(Le),Z(Le,n)}var vt=null,mi=!1,Gi=!1;function id(t){vt===null?vt=[t]:vt.push(t)}function Op(t){mi=!0,id(t)}function Gt(){if(!Gi&&vt!==null){Gi=!0;var t=0,e=Y;try{var n=vt;for(Y=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}vt=null,mi=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),Pc(Ca,Gt),s}finally{Y=e,Gi=!1}}return null}var Ln=[],$n=0,Qs=null,Gs=0,He=[],Ve=0,cn=null,wt=1,xt="";function Zt(t,e){Ln[$n++]=Gs,Ln[$n++]=Qs,Qs=t,Gs=e}function od(t,e,n){He[Ve++]=wt,He[Ve++]=xt,He[Ve++]=cn,cn=t;var r=wt;t=xt;var s=32-it(r)-1;r&=~(1<<s),n+=1;var i=32-it(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,wt=1<<32-it(e)+s|n<<s|r,xt=i+t}else wt=1<<i|n<<s|r,xt=t}function Ua(t){t.return!==null&&(Zt(t,1),od(t,1,0))}function Fa(t){for(;t===Qs;)Qs=Ln[--$n],Ln[$n]=null,Gs=Ln[--$n],Ln[$n]=null;for(;t===cn;)cn=He[--Ve],He[Ve]=null,xt=He[--Ve],He[Ve]=null,wt=He[--Ve],He[Ve]=null}var Me=null,Fe=null,ne=!1,st=null;function ad(t,e){var n=qe(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Me=t,Fe=Mt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Me=t,Fe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=cn!==null?{id:wt,overflow:xt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=qe(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Me=t,Fe=null,!0):!1;default:return!1}}function Mo(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zo(t){if(ne){var e=Fe;if(e){var n=e;if(!eu(t,e)){if(Mo(t))throw Error(S(418));e=Mt(n.nextSibling);var r=Me;e&&eu(t,e)?ad(r,n):(t.flags=t.flags&-4097|2,ne=!1,Me=t)}}else{if(Mo(t))throw Error(S(418));t.flags=t.flags&-4097|2,ne=!1,Me=t}}}function tu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Me=t}function gs(t){if(t!==Me)return!1;if(!ne)return tu(t),ne=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!$o(t.type,t.memoizedProps)),e&&(e=Fe)){if(Mo(t))throw ld(),Error(S(418));for(;e;)ad(t,e),e=Mt(e.nextSibling)}if(tu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(S(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Fe=Mt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Fe=null}}else Fe=Me?Mt(t.stateNode.nextSibling):null;return!0}function ld(){for(var t=Fe;t;)t=Mt(t.nextSibling)}function Qn(){Fe=Me=null,ne=!1}function Ma(t){st===null?st=[t]:st.push(t)}var Ap=Et.ReactCurrentBatchConfig;function hr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(S(309));var r=n.stateNode}if(!r)throw Error(S(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(S(284));if(!n._owner)throw Error(S(290,t))}return t}function ms(t,e){throw t=Object.prototype.toString.call(e),Error(S(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nu(t){var e=t._init;return e(t._payload)}function ud(t){function e(m,g){if(t){var f=m.deletions;f===null?(m.deletions=[g],m.flags|=16):f.push(g)}}function n(m,g){if(!t)return null;for(;g!==null;)e(m,g),g=g.sibling;return null}function r(m,g){for(m=new Map;g!==null;)g.key!==null?m.set(g.key,g):m.set(g.index,g),g=g.sibling;return m}function s(m,g){return m=Ht(m,g),m.index=0,m.sibling=null,m}function i(m,g,f){return m.index=f,t?(f=m.alternate,f!==null?(f=f.index,f<g?(m.flags|=2,g):f):(m.flags|=2,g)):(m.flags|=1048576,g)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,g,f,y){return g===null||g.tag!==6?(g=no(f,m.mode,y),g.return=m,g):(g=s(g,f),g.return=m,g)}function l(m,g,f,y){var _=f.type;return _===Cn?d(m,g,f.props.children,y,f.key):g!==null&&(g.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pt&&nu(_)===g.type)?(y=s(g,f.props),y.ref=hr(m,g,f),y.return=m,y):(y=$s(f.type,f.key,f.props,null,m.mode,y),y.ref=hr(m,g,f),y.return=m,y)}function c(m,g,f,y){return g===null||g.tag!==4||g.stateNode.containerInfo!==f.containerInfo||g.stateNode.implementation!==f.implementation?(g=ro(f,m.mode,y),g.return=m,g):(g=s(g,f.children||[]),g.return=m,g)}function d(m,g,f,y,_){return g===null||g.tag!==7?(g=ln(f,m.mode,y,_),g.return=m,g):(g=s(g,f),g.return=m,g)}function h(m,g,f){if(typeof g=="string"&&g!==""||typeof g=="number")return g=no(""+g,m.mode,f),g.return=m,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case is:return f=$s(g.type,g.key,g.props,null,m.mode,f),f.ref=hr(m,null,g),f.return=m,f;case Tn:return g=ro(g,m.mode,f),g.return=m,g;case Pt:var y=g._init;return h(m,y(g._payload),f)}if(yr(g)||ar(g))return g=ln(g,m.mode,f,null),g.return=m,g;ms(m,g)}return null}function p(m,g,f,y){var _=g!==null?g.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return _!==null?null:a(m,g,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case is:return f.key===_?l(m,g,f,y):null;case Tn:return f.key===_?c(m,g,f,y):null;case Pt:return _=f._init,p(m,g,_(f._payload),y)}if(yr(f)||ar(f))return _!==null?null:d(m,g,f,y,null);ms(m,f)}return null}function v(m,g,f,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(f)||null,a(g,m,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case is:return m=m.get(y.key===null?f:y.key)||null,l(g,m,y,_);case Tn:return m=m.get(y.key===null?f:y.key)||null,c(g,m,y,_);case Pt:var k=y._init;return v(m,g,f,k(y._payload),_)}if(yr(y)||ar(y))return m=m.get(f)||null,d(g,m,y,_,null);ms(g,y)}return null}function w(m,g,f,y){for(var _=null,k=null,j=g,T=g=0,C=null;j!==null&&T<f.length;T++){j.index>T?(C=j,j=null):C=j.sibling;var $=p(m,j,f[T],y);if($===null){j===null&&(j=C);break}t&&j&&$.alternate===null&&e(m,j),g=i($,g,T),k===null?_=$:k.sibling=$,k=$,j=C}if(T===f.length)return n(m,j),ne&&Zt(m,T),_;if(j===null){for(;T<f.length;T++)j=h(m,f[T],y),j!==null&&(g=i(j,g,T),k===null?_=j:k.sibling=j,k=j);return ne&&Zt(m,T),_}for(j=r(m,j);T<f.length;T++)C=v(j,m,T,f[T],y),C!==null&&(t&&C.alternate!==null&&j.delete(C.key===null?T:C.key),g=i(C,g,T),k===null?_=C:k.sibling=C,k=C);return t&&j.forEach(function(L){return e(m,L)}),ne&&Zt(m,T),_}function x(m,g,f,y){var _=ar(f);if(typeof _!="function")throw Error(S(150));if(f=_.call(f),f==null)throw Error(S(151));for(var k=_=null,j=g,T=g=0,C=null,$=f.next();j!==null&&!$.done;T++,$=f.next()){j.index>T?(C=j,j=null):C=j.sibling;var L=p(m,j,$.value,y);if(L===null){j===null&&(j=C);break}t&&j&&L.alternate===null&&e(m,j),g=i(L,g,T),k===null?_=L:k.sibling=L,k=L,j=C}if($.done)return n(m,j),ne&&Zt(m,T),_;if(j===null){for(;!$.done;T++,$=f.next())$=h(m,$.value,y),$!==null&&(g=i($,g,T),k===null?_=$:k.sibling=$,k=$);return ne&&Zt(m,T),_}for(j=r(m,j);!$.done;T++,$=f.next())$=v(j,m,T,$.value,y),$!==null&&(t&&$.alternate!==null&&j.delete($.key===null?T:$.key),g=i($,g,T),k===null?_=$:k.sibling=$,k=$);return t&&j.forEach(function(P){return e(m,P)}),ne&&Zt(m,T),_}function E(m,g,f,y){if(typeof f=="object"&&f!==null&&f.type===Cn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case is:e:{for(var _=f.key,k=g;k!==null;){if(k.key===_){if(_=f.type,_===Cn){if(k.tag===7){n(m,k.sibling),g=s(k,f.props.children),g.return=m,m=g;break e}}else if(k.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Pt&&nu(_)===k.type){n(m,k.sibling),g=s(k,f.props),g.ref=hr(m,k,f),g.return=m,m=g;break e}n(m,k);break}else e(m,k);k=k.sibling}f.type===Cn?(g=ln(f.props.children,m.mode,y,f.key),g.return=m,m=g):(y=$s(f.type,f.key,f.props,null,m.mode,y),y.ref=hr(m,g,f),y.return=m,m=y)}return o(m);case Tn:e:{for(k=f.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===f.containerInfo&&g.stateNode.implementation===f.implementation){n(m,g.sibling),g=s(g,f.children||[]),g.return=m,m=g;break e}else{n(m,g);break}else e(m,g);g=g.sibling}g=ro(f,m.mode,y),g.return=m,m=g}return o(m);case Pt:return k=f._init,E(m,g,k(f._payload),y)}if(yr(f))return w(m,g,f,y);if(ar(f))return x(m,g,f,y);ms(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,g!==null&&g.tag===6?(n(m,g.sibling),g=s(g,f),g.return=m,m=g):(n(m,g),g=no(f,m.mode,y),g.return=m,m=g),o(m)):n(m,g)}return E}var Gn=ud(!0),cd=ud(!1),Js=Qt(null),Ys=null,Dn=null,za=null;function Ba(){za=Dn=Ys=null}function Wa(t){var e=Js.current;te(Js),t._currentValue=e}function Bo(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hn(t,e){Ys=t,za=Dn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ie=!0),t.firstContext=null)}function Ge(t){var e=t._currentValue;if(za!==t)if(t={context:t,memoizedValue:e,next:null},Dn===null){if(Ys===null)throw Error(S(308));Dn=t,Ys.dependencies={lanes:0,firstContext:t}}else Dn=Dn.next=t;return e}var sn=null;function Ha(t){sn===null?sn=[t]:sn.push(t)}function dd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ha(e)):(n.next=s.next,s.next=n),e.interleaved=n,bt(t,r)}function bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ot=!1;function Va(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _t(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bt(t,n)}return s=r.interleaved,s===null?(e.next=e,Ha(r)):(e.next=s.next,s.next=e),r.interleaved=e,bt(t,n)}function Ps(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pa(t,n)}}function ru(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xs(t,e,n,r){var s=t.updateQueue;Ot=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var p=a.lane,v=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,x=a;switch(p=e,v=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(v,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,p=typeof w=="function"?w.call(v,h,p):w,p==null)break e;h=oe({},h,p);break e;case 2:Ot=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);hn|=o,t.lanes=o,t.memoizedState=h}}function su(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(S(191,s));s.call(r)}}}var ts={},pt=Qt(ts),Hr=Qt(ts),Vr=Qt(ts);function on(t){if(t===ts)throw Error(S(174));return t}function qa(t,e){switch(Z(Vr,e),Z(Hr,t),Z(pt,ts),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ko(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ko(e,t)}te(pt),Z(pt,e)}function Jn(){te(pt),te(Hr),te(Vr)}function fd(t){on(Vr.current);var e=on(pt.current),n=ko(e,t.type);e!==n&&(Z(Hr,t),Z(pt,n))}function Ka(t){Hr.current===t&&(te(pt),te(Hr))}var se=Qt(0);function Zs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ji=[];function Qa(){for(var t=0;t<Ji.length;t++)Ji[t]._workInProgressVersionPrimary=null;Ji.length=0}var Os=Et.ReactCurrentDispatcher,Yi=Et.ReactCurrentBatchConfig,dn=0,ie=null,pe=null,me=null,ei=!1,Er=!1,qr=0,Rp=0;function ke(){throw Error(S(321))}function Ga(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!at(t[n],e[n]))return!1;return!0}function Ja(t,e,n,r,s,i){if(dn=i,ie=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Os.current=t===null||t.memoizedState===null?Dp:Up,t=n(r,s),Er){i=0;do{if(Er=!1,qr=0,25<=i)throw Error(S(301));i+=1,me=pe=null,e.updateQueue=null,Os.current=Fp,t=n(r,s)}while(Er)}if(Os.current=ti,e=pe!==null&&pe.next!==null,dn=0,me=pe=ie=null,ei=!1,e)throw Error(S(300));return t}function Ya(){var t=qr!==0;return qr=0,t}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ie.memoizedState=me=t:me=me.next=t,me}function Je(){if(pe===null){var t=ie.alternate;t=t!==null?t.memoizedState:null}else t=pe.next;var e=me===null?ie.memoizedState:me.next;if(e!==null)me=e,pe=t;else{if(t===null)throw Error(S(310));pe=t,t={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},me===null?ie.memoizedState=me=t:me=me.next=t}return me}function Kr(t,e){return typeof e=="function"?e(t):e}function Xi(t){var e=Je(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((dn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ie.lanes|=d,hn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,at(r,e.memoizedState)||(Ie=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,ie.lanes|=i,hn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Zi(t){var e=Je(),n=e.queue;if(n===null)throw Error(S(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);at(i,e.memoizedState)||(Ie=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function pd(){}function gd(t,e){var n=ie,r=Je(),s=e(),i=!at(r.memoizedState,s);if(i&&(r.memoizedState=s,Ie=!0),r=r.queue,Xa(vd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Qr(9,yd.bind(null,n,r,s,e),void 0,null),ye===null)throw Error(S(349));dn&30||md(n,e,s)}return s}function md(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yd(t,e,n,r){e.value=n,e.getSnapshot=r,wd(e)&&xd(t)}function vd(t,e,n){return n(function(){wd(e)&&xd(t)})}function wd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!at(t,n)}catch{return!0}}function xd(t){var e=bt(t,1);e!==null&&ot(e,t,1,-1)}function iu(t){var e=ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:t},e.queue=t,t=t.dispatch=$p.bind(null,ie,t),[e.memoizedState,t]}function Qr(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ie.updateQueue,e===null?(e={lastEffect:null,stores:null},ie.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _d(){return Je().memoizedState}function As(t,e,n,r){var s=ct();ie.flags|=t,s.memoizedState=Qr(1|e,n,void 0,r===void 0?null:r)}function yi(t,e,n,r){var s=Je();r=r===void 0?null:r;var i=void 0;if(pe!==null){var o=pe.memoizedState;if(i=o.destroy,r!==null&&Ga(r,o.deps)){s.memoizedState=Qr(e,n,i,r);return}}ie.flags|=t,s.memoizedState=Qr(1|e,n,i,r)}function ou(t,e){return As(8390656,8,t,e)}function Xa(t,e){return yi(2048,8,t,e)}function kd(t,e){return yi(4,2,t,e)}function Sd(t,e){return yi(4,4,t,e)}function bd(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function jd(t,e,n){return n=n!=null?n.concat([t]):null,yi(4,4,bd.bind(null,e,t),n)}function Za(){}function Ed(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ga(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Nd(t,e){var n=Je();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Ga(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Td(t,e,n){return dn&21?(at(n,e)||(n=Rc(),ie.lanes|=n,hn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ie=!0),t.memoizedState=n)}function Ip(t,e){var n=Y;Y=n!==0&&4>n?n:4,t(!0);var r=Yi.transition;Yi.transition={};try{t(!1),e()}finally{Y=n,Yi.transition=r}}function Cd(){return Je().memoizedState}function Lp(t,e,n){var r=Wt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pd(t))Od(e,n);else if(n=dd(t,e,n,r),n!==null){var s=Te();ot(n,t,r,s),Ad(n,e,r)}}function $p(t,e,n){var r=Wt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pd(t))Od(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,at(a,o)){var l=e.interleaved;l===null?(s.next=s,Ha(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=dd(t,e,s,r),n!==null&&(s=Te(),ot(n,t,r,s),Ad(n,e,r))}}function Pd(t){var e=t.alternate;return t===ie||e!==null&&e===ie}function Od(t,e){Er=ei=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ad(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Pa(t,n)}}var ti={readContext:Ge,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Dp={readContext:Ge,useCallback:function(t,e){return ct().memoizedState=[t,e===void 0?null:e],t},useContext:Ge,useEffect:ou,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,As(4194308,4,bd.bind(null,e,t),n)},useLayoutEffect:function(t,e){return As(4194308,4,t,e)},useInsertionEffect:function(t,e){return As(4,2,t,e)},useMemo:function(t,e){var n=ct();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ct();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Lp.bind(null,ie,t),[r.memoizedState,t]},useRef:function(t){var e=ct();return t={current:t},e.memoizedState=t},useState:iu,useDebugValue:Za,useDeferredValue:function(t){return ct().memoizedState=t},useTransition:function(){var t=iu(!1),e=t[0];return t=Ip.bind(null,t[1]),ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ie,s=ct();if(ne){if(n===void 0)throw Error(S(407));n=n()}else{if(n=e(),ye===null)throw Error(S(349));dn&30||md(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,ou(vd.bind(null,r,i,t),[t]),r.flags|=2048,Qr(9,yd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ct(),e=ye.identifierPrefix;if(ne){var n=xt,r=wt;n=(r&~(1<<32-it(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=qr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Rp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Up={readContext:Ge,useCallback:Ed,useContext:Ge,useEffect:Xa,useImperativeHandle:jd,useInsertionEffect:kd,useLayoutEffect:Sd,useMemo:Nd,useReducer:Xi,useRef:_d,useState:function(){return Xi(Kr)},useDebugValue:Za,useDeferredValue:function(t){var e=Je();return Td(e,pe.memoizedState,t)},useTransition:function(){var t=Xi(Kr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:pd,useSyncExternalStore:gd,useId:Cd,unstable_isNewReconciler:!1},Fp={readContext:Ge,useCallback:Ed,useContext:Ge,useEffect:Xa,useImperativeHandle:jd,useInsertionEffect:kd,useLayoutEffect:Sd,useMemo:Nd,useReducer:Zi,useRef:_d,useState:function(){return Zi(Kr)},useDebugValue:Za,useDeferredValue:function(t){var e=Je();return pe===null?e.memoizedState=t:Td(e,pe.memoizedState,t)},useTransition:function(){var t=Zi(Kr)[0],e=Je().memoizedState;return[t,e]},useMutableSource:pd,useSyncExternalStore:gd,useId:Cd,unstable_isNewReconciler:!1};function tt(t,e){if(t&&t.defaultProps){e=oe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:oe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vi={isMounted:function(t){return(t=t._reactInternals)?mn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Te(),s=Wt(t),i=_t(r,s);i.payload=e,n!=null&&(i.callback=n),e=zt(t,i,s),e!==null&&(ot(e,t,s,r),Ps(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Te(),s=Wt(t),i=_t(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zt(t,i,s),e!==null&&(ot(e,t,s,r),Ps(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Te(),r=Wt(t),s=_t(n,r);s.tag=2,e!=null&&(s.callback=e),e=zt(t,s,r),e!==null&&(ot(e,t,r,n),Ps(e,t,r))}};function au(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mr(n,r)||!Mr(s,i):!0}function Rd(t,e,n){var r=!1,s=qt,i=e.contextType;return typeof i=="object"&&i!==null?i=Ge(i):(s=$e(e)?un:je.current,r=e.contextTypes,i=(r=r!=null)?Kn(t,s):qt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vi,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vi.enqueueReplaceState(e,e.state,null)}function Ho(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Va(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Ge(i):(i=$e(e)?un:je.current,s.context=Kn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&vi.enqueueReplaceState(s,s.state,null),Xs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Yn(t,e){try{var n="",r=e;do n+=ff(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function eo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Vo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Mp=typeof WeakMap=="function"?WeakMap:Map;function Id(t,e,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ri||(ri=!0,ta=r),Vo(t,e)},n}function Ld(t,e,n){n=_t(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Vo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Vo(t,e),typeof r!="function"&&(Bt===null?Bt=new Set([this]):Bt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function uu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Mp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=e0.bind(null,t,e,n),e.then(t,t))}function cu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function du(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_t(-1,1),e.tag=2,zt(n,e,1))),n.lanes|=1),t)}var zp=Et.ReactCurrentOwner,Ie=!1;function Ne(t,e,n,r){e.child=t===null?cd(e,null,n,r):Gn(e,t.child,n,r)}function hu(t,e,n,r,s){n=n.render;var i=e.ref;return Hn(e,s),r=Ja(t,e,n,r,i,s),n=Ya(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(ne&&n&&Ua(e),e.flags|=1,Ne(t,e,r,s),e.child)}function fu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!al(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,$d(t,e,i,r,s)):(t=$s(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(o,r)&&t.ref===e.ref)return jt(t,e,s)}return e.flags|=1,t=Ht(i,r),t.ref=e.ref,t.return=e,e.child=t}function $d(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mr(i,r)&&t.ref===e.ref)if(Ie=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Ie=!0);else return e.lanes=t.lanes,jt(t,e,s)}return qo(t,e,n,r,s)}function Dd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Z(Fn,Ue),Ue|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Z(Fn,Ue),Ue|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Z(Fn,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Z(Fn,Ue),Ue|=r;return Ne(t,e,s,n),e.child}function Ud(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function qo(t,e,n,r,s){var i=$e(n)?un:je.current;return i=Kn(e,i),Hn(e,s),n=Ja(t,e,n,r,i,s),r=Ya(),t!==null&&!Ie?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jt(t,e,s)):(ne&&r&&Ua(e),e.flags|=1,Ne(t,e,n,s),e.child)}function pu(t,e,n,r,s){if($e(n)){var i=!0;Ks(e)}else i=!1;if(Hn(e,s),e.stateNode===null)Rs(t,e),Rd(e,n,r),Ho(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ge(c):(c=$e(n)?un:je.current,c=Kn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&lu(e,o,r,c),Ot=!1;var p=e.memoizedState;o.state=p,Xs(e,r,o,s),l=e.memoizedState,a!==r||p!==l||Le.current||Ot?(typeof d=="function"&&(Wo(e,n,d,r),l=e.memoizedState),(a=Ot||au(e,n,a,r,p,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,hd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:tt(e.type,a),o.props=c,h=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ge(l):(l=$e(n)?un:je.current,l=Kn(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||p!==l)&&lu(e,o,r,l),Ot=!1,p=e.memoizedState,o.state=p,Xs(e,r,o,s);var w=e.memoizedState;a!==h||p!==w||Le.current||Ot?(typeof v=="function"&&(Wo(e,n,v,r),w=e.memoizedState),(c=Ot||au(e,n,c,r,p,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Ko(t,e,n,r,i,s)}function Ko(t,e,n,r,s,i){Ud(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Zl(e,n,!1),jt(t,e,i);r=e.stateNode,zp.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Gn(e,t.child,null,i),e.child=Gn(e,null,a,i)):Ne(t,e,a,i),e.memoizedState=r.state,s&&Zl(e,n,!0),e.child}function Fd(t){var e=t.stateNode;e.pendingContext?Xl(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xl(t,e.context,!1),qa(t,e.containerInfo)}function gu(t,e,n,r,s){return Qn(),Ma(s),e.flags|=256,Ne(t,e,n,r),e.child}var Qo={dehydrated:null,treeContext:null,retryLane:0};function Go(t){return{baseLanes:t,cachePool:null,transitions:null}}function Md(t,e,n){var r=e.pendingProps,s=se.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Z(se,s&1),t===null)return zo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=_i(o,r,0,null),t=ln(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Go(n),e.memoizedState=Qo,t):el(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Bp(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ht(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ht(a,i):(i=ln(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Go(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qo,r}return i=t.child,t=i.sibling,r=Ht(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function el(t,e){return e=_i({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ys(t,e,n,r){return r!==null&&Ma(r),Gn(e,t.child,null,n),t=el(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=eo(Error(S(422))),ys(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=_i({mode:"visible",children:r.children},s,0,null),i=ln(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Gn(e,t.child,null,o),e.child.memoizedState=Go(o),e.memoizedState=Qo,i);if(!(e.mode&1))return ys(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(S(419)),r=eo(i,r,void 0),ys(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ie||a){if(r=ye,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(t,s),ot(r,t,s,-1))}return ol(),r=eo(Error(S(421))),ys(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=t0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Fe=Mt(s.nextSibling),Me=e,ne=!0,st=null,t!==null&&(He[Ve++]=wt,He[Ve++]=xt,He[Ve++]=cn,wt=t.id,xt=t.overflow,cn=e),e=el(e,r.children),e.flags|=4096,e)}function mu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Bo(t.return,e,n)}function to(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function zd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ne(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mu(t,n,e);else if(t.tag===19)mu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Z(se,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Zs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),to(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Zs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}to(e,!0,n,null,i);break;case"together":to(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(S(153));if(e.child!==null){for(t=e.child,n=Ht(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ht(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wp(t,e,n){switch(e.tag){case 3:Fd(e),Qn();break;case 5:fd(e);break;case 1:$e(e.type)&&Ks(e);break;case 4:qa(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Z(Js,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Z(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?Md(t,e,n):(Z(se,se.current&1),t=jt(t,e,n),t!==null?t.sibling:null);Z(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Z(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,Dd(t,e,n)}return jt(t,e,n)}var Bd,Jo,Wd,Hd;Bd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Jo=function(){};Wd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,on(pt.current);var i=null;switch(n){case"input":s=vo(t,s),r=vo(t,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=_o(t,s),r=_o(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vs)}So(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ee("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Hd=function(t,e,n,r){n!==r&&(e.flags|=4)};function fr(t,e){if(!ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Hp(t,e,n){var r=e.pendingProps;switch(Fa(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return $e(e.type)&&qs(),Se(e),null;case 3:return r=e.stateNode,Jn(),te(Le),te(je),Qa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(sa(st),st=null))),Jo(t,e),Se(e),null;case 5:Ka(e);var s=on(Vr.current);if(n=e.type,t!==null&&e.stateNode!=null)Wd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(S(166));return Se(e),null}if(t=on(pt.current),gs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ht]=e,r[Wr]=i,t=(e.mode&1)!==0,n){case"dialog":ee("cancel",r),ee("close",r);break;case"iframe":case"object":case"embed":ee("load",r);break;case"video":case"audio":for(s=0;s<wr.length;s++)ee(wr[s],r);break;case"source":ee("error",r);break;case"img":case"image":case"link":ee("error",r),ee("load",r);break;case"details":ee("toggle",r);break;case"input":jl(r,i),ee("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ee("invalid",r);break;case"textarea":Nl(r,i),ee("invalid",r)}So(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ps(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ps(r.textContent,a,t),s=["children",""+a]):Rr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ee("scroll",r)}switch(n){case"input":os(r),El(r,i,!0);break;case"textarea":os(r),Tl(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Vs)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=vc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ht]=e,t[Wr]=r,Bd(t,e,!1,!1),e.stateNode=t;e:{switch(o=bo(n,r),n){case"dialog":ee("cancel",t),ee("close",t),s=r;break;case"iframe":case"object":case"embed":ee("load",t),s=r;break;case"video":case"audio":for(s=0;s<wr.length;s++)ee(wr[s],t);s=r;break;case"source":ee("error",t),s=r;break;case"img":case"image":case"link":ee("error",t),ee("load",t),s=r;break;case"details":ee("toggle",t),s=r;break;case"input":jl(t,r),s=vo(t,r),ee("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),ee("invalid",t);break;case"textarea":Nl(t,r),s=_o(t,r),ee("invalid",t);break;default:s=r}So(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?_c(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&wc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ir(t,l):typeof l=="number"&&Ir(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ee("scroll",t):l!=null&&ba(t,i,l,o))}switch(n){case"input":os(t),El(t,r,!1);break;case"textarea":os(t),Tl(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Mn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Mn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Se(e),null;case 6:if(t&&e.stateNode!=null)Hd(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(S(166));if(n=on(Vr.current),on(pt.current),gs(e)){if(r=e.stateNode,n=e.memoizedProps,r[ht]=e,(i=r.nodeValue!==n)&&(t=Me,t!==null))switch(t.tag){case 3:ps(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ps(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ht]=e,e.stateNode=r}return Se(e),null;case 13:if(te(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ne&&Fe!==null&&e.mode&1&&!(e.flags&128))ld(),Qn(),e.flags|=98560,i=!1;else if(i=gs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(S(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(S(317));i[ht]=e}else Qn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),i=!1}else st!==null&&(sa(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?ge===0&&(ge=3):ol())),e.updateQueue!==null&&(e.flags|=4),Se(e),null);case 4:return Jn(),Jo(t,e),t===null&&zr(e.stateNode.containerInfo),Se(e),null;case 10:return Wa(e.type._context),Se(e),null;case 17:return $e(e.type)&&qs(),Se(e),null;case 19:if(te(se),i=e.memoizedState,i===null)return Se(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)fr(i,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zs(t),o!==null){for(e.flags|=128,fr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Z(se,se.current&1|2),e.child}t=t.sibling}i.tail!==null&&ce()>Xn&&(e.flags|=128,r=!0,fr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Zs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ne)return Se(e),null}else 2*ce()-i.renderingStartTime>Xn&&n!==1073741824&&(e.flags|=128,r=!0,fr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ce(),e.sibling=null,n=se.current,Z(se,r?n&1|2:n&1),e):(Se(e),null);case 22:case 23:return il(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ue&1073741824&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),null;case 24:return null;case 25:return null}throw Error(S(156,e.tag))}function Vp(t,e){switch(Fa(e),e.tag){case 1:return $e(e.type)&&qs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jn(),te(Le),te(je),Qa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ka(e),null;case 13:if(te(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(S(340));Qn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(se),null;case 4:return Jn(),null;case 10:return Wa(e.type._context),null;case 22:case 23:return il(),null;case 24:return null;default:return null}}var vs=!1,be=!1,qp=typeof WeakSet=="function"?WeakSet:Set,O=null;function Un(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){le(t,e,r)}else n.current=null}function Yo(t,e,n){try{n()}catch(r){le(t,e,r)}}var yu=!1;function Kp(t,e){if(Io=Bs,t=Gc(),Da(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lo={focusedElem:t,selectionRange:n},Bs=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,E=w.memoizedState,m=e.stateNode,g=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:tt(e.type,x),E);m.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(S(163))}}catch(y){le(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return w=yu,yu=!1,w}function Nr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Yo(e,n,i)}s=s.next}while(s!==r)}}function wi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Xo(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Vd(t){var e=t.alternate;e!==null&&(t.alternate=null,Vd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ht],delete e[Wr],delete e[Uo],delete e[Cp],delete e[Pp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function qd(t){return t.tag===5||t.tag===3||t.tag===4}function vu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vs));else if(r!==4&&(t=t.child,t!==null))for(Zo(t,e,n),t=t.sibling;t!==null;)Zo(t,e,n),t=t.sibling}function ea(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ea(t,e,n),t=t.sibling;t!==null;)ea(t,e,n),t=t.sibling}var ve=null,nt=!1;function Nt(t,e,n){for(n=n.child;n!==null;)Kd(t,e,n),n=n.sibling}function Kd(t,e,n){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(di,n)}catch{}switch(n.tag){case 5:be||Un(n,e);case 6:var r=ve,s=nt;ve=null,Nt(t,e,n),ve=r,nt=s,ve!==null&&(nt?(t=ve,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ve.removeChild(n.stateNode));break;case 18:ve!==null&&(nt?(t=ve,n=n.stateNode,t.nodeType===8?Qi(t.parentNode,n):t.nodeType===1&&Qi(t,n),Ur(t)):Qi(ve,n.stateNode));break;case 4:r=ve,s=nt,ve=n.stateNode.containerInfo,nt=!0,Nt(t,e,n),ve=r,nt=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Yo(n,e,o),s=s.next}while(s!==r)}Nt(t,e,n);break;case 1:if(!be&&(Un(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){le(n,e,a)}Nt(t,e,n);break;case 21:Nt(t,e,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,Nt(t,e,n),be=r):Nt(t,e,n);break;default:Nt(t,e,n)}}function wu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qp),e.forEach(function(r){var s=n0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ze(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ve=a.stateNode,nt=!1;break e;case 3:ve=a.stateNode.containerInfo,nt=!0;break e;case 4:ve=a.stateNode.containerInfo,nt=!0;break e}a=a.return}if(ve===null)throw Error(S(160));Kd(i,o,s),ve=null,nt=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){le(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Qd(e,t),e=e.sibling}function Qd(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ze(e,t),ut(t),r&4){try{Nr(3,t,t.return),wi(3,t)}catch(x){le(t,t.return,x)}try{Nr(5,t,t.return)}catch(x){le(t,t.return,x)}}break;case 1:Ze(e,t),ut(t),r&512&&n!==null&&Un(n,n.return);break;case 5:if(Ze(e,t),ut(t),r&512&&n!==null&&Un(n,n.return),t.flags&32){var s=t.stateNode;try{Ir(s,"")}catch(x){le(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&mc(s,i),bo(a,o);var c=bo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?_c(s,h):d==="dangerouslySetInnerHTML"?wc(s,h):d==="children"?Ir(s,h):ba(s,d,h,c)}switch(a){case"input":wo(s,i);break;case"textarea":yc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Mn(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Mn(s,!!i.multiple,i.defaultValue,!0):Mn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wr]=i}catch(x){le(t,t.return,x)}}break;case 6:if(Ze(e,t),ut(t),r&4){if(t.stateNode===null)throw Error(S(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){le(t,t.return,x)}}break;case 3:if(Ze(e,t),ut(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ur(e.containerInfo)}catch(x){le(t,t.return,x)}break;case 4:Ze(e,t),ut(t);break;case 13:Ze(e,t),ut(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(rl=ce())),r&4&&wu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(be=(c=be)||d,Ze(e,t),be=c):Ze(e,t),ut(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(p=O,v=p.child,p.tag){case 0:case 11:case 14:case 15:Nr(4,p,p.return);break;case 1:Un(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(x){le(r,n,x)}}break;case 5:Un(p,p.return);break;case 22:if(p.memoizedState!==null){_u(h);continue}}v!==null?(v.return=p,O=v):_u(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=xc("display",o))}catch(x){le(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(x){le(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ze(e,t),ut(t),r&4&&wu(t);break;case 21:break;default:Ze(e,t),ut(t)}}function ut(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(qd(n)){var r=n;break e}n=n.return}throw Error(S(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ir(s,""),r.flags&=-33);var i=vu(t);ea(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vu(t);Zo(t,a,o);break;default:throw Error(S(161))}}catch(l){le(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Qp(t,e,n){O=t,Gd(t)}function Gd(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||be;a=vs;var c=be;if(vs=o,(be=l)&&!c)for(O=s;O!==null;)o=O,l=o.child,o.tag===22&&o.memoizedState!==null?ku(s):l!==null?(l.return=o,O=l):ku(s);for(;i!==null;)O=i,Gd(i),i=i.sibling;O=s,vs=a,be=c}xu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):xu(t)}}function xu(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:be||wi(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&su(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}su(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ur(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(S(163))}be||e.flags&512&&Xo(e)}catch(p){le(e,e.return,p)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function _u(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function ku(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wi(4,e)}catch(l){le(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){le(e,s,l)}}var i=e.return;try{Xo(e)}catch(l){le(e,i,l)}break;case 5:var o=e.return;try{Xo(e)}catch(l){le(e,o,l)}}}catch(l){le(e,e.return,l)}if(e===t){O=null;break}var a=e.sibling;if(a!==null){a.return=e.return,O=a;break}O=e.return}}var Gp=Math.ceil,ni=Et.ReactCurrentDispatcher,tl=Et.ReactCurrentOwner,Ke=Et.ReactCurrentBatchConfig,q=0,ye=null,de=null,we=0,Ue=0,Fn=Qt(0),ge=0,Gr=null,hn=0,xi=0,nl=0,Tr=null,Ae=null,rl=0,Xn=1/0,mt=null,ri=!1,ta=null,Bt=null,ws=!1,$t=null,si=0,Cr=0,na=null,Is=-1,Ls=0;function Te(){return q&6?ce():Is!==-1?Is:Is=ce()}function Wt(t){return t.mode&1?q&2&&we!==0?we&-we:Ap.transition!==null?(Ls===0&&(Ls=Rc()),Ls):(t=Y,t!==0||(t=window.event,t=t===void 0?16:Mc(t.type)),t):1}function ot(t,e,n,r){if(50<Cr)throw Cr=0,na=null,Error(S(185));Xr(t,n,r),(!(q&2)||t!==ye)&&(t===ye&&(!(q&2)&&(xi|=n),ge===4&&Rt(t,we)),De(t,r),n===1&&q===0&&!(e.mode&1)&&(Xn=ce()+500,mi&&Gt()))}function De(t,e){var n=t.callbackNode;Af(t,e);var r=zs(t,t===ye?we:0);if(r===0)n!==null&&Ol(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ol(n),e===1)t.tag===0?Op(Su.bind(null,t)):id(Su.bind(null,t)),Np(function(){!(q&6)&&Gt()}),n=null;else{switch(Ic(r)){case 1:n=Ca;break;case 4:n=Oc;break;case 16:n=Ms;break;case 536870912:n=Ac;break;default:n=Ms}n=rh(n,Jd.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Jd(t,e){if(Is=-1,Ls=0,q&6)throw Error(S(327));var n=t.callbackNode;if(Vn()&&t.callbackNode!==n)return null;var r=zs(t,t===ye?we:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ii(t,r);else{e=r;var s=q;q|=2;var i=Xd();(ye!==t||we!==e)&&(mt=null,Xn=ce()+500,an(t,e));do try{Xp();break}catch(a){Yd(t,a)}while(!0);Ba(),ni.current=i,q=s,de!==null?e=0:(ye=null,we=0,e=ge)}if(e!==0){if(e===2&&(s=Co(t),s!==0&&(r=s,e=ra(t,s))),e===1)throw n=Gr,an(t,0),Rt(t,r),De(t,ce()),n;if(e===6)Rt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Jp(s)&&(e=ii(t,r),e===2&&(i=Co(t),i!==0&&(r=i,e=ra(t,i))),e===1))throw n=Gr,an(t,0),Rt(t,r),De(t,ce()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(S(345));case 2:en(t,Ae,mt);break;case 3:if(Rt(t,r),(r&130023424)===r&&(e=rl+500-ce(),10<e)){if(zs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Te(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Do(en.bind(null,t,Ae,mt),e);break}en(t,Ae,mt);break;case 4:if(Rt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Gp(r/1960))-r,10<r){t.timeoutHandle=Do(en.bind(null,t,Ae,mt),r);break}en(t,Ae,mt);break;case 5:en(t,Ae,mt);break;default:throw Error(S(329))}}}return De(t,ce()),t.callbackNode===n?Jd.bind(null,t):null}function ra(t,e){var n=Tr;return t.current.memoizedState.isDehydrated&&(an(t,e).flags|=256),t=ii(t,e),t!==2&&(e=Ae,Ae=n,e!==null&&sa(e)),t}function sa(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function Jp(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!at(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rt(t,e){for(e&=~nl,e&=~xi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-it(e),r=1<<n;t[n]=-1,e&=~r}}function Su(t){if(q&6)throw Error(S(327));Vn();var e=zs(t,0);if(!(e&1))return De(t,ce()),null;var n=ii(t,e);if(t.tag!==0&&n===2){var r=Co(t);r!==0&&(e=r,n=ra(t,r))}if(n===1)throw n=Gr,an(t,0),Rt(t,e),De(t,ce()),n;if(n===6)throw Error(S(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,en(t,Ae,mt),De(t,ce()),null}function sl(t,e){var n=q;q|=1;try{return t(e)}finally{q=n,q===0&&(Xn=ce()+500,mi&&Gt())}}function fn(t){$t!==null&&$t.tag===0&&!(q&6)&&Vn();var e=q;q|=1;var n=Ke.transition,r=Y;try{if(Ke.transition=null,Y=1,t)return t()}finally{Y=r,Ke.transition=n,q=e,!(q&6)&&Gt()}}function il(){Ue=Fn.current,te(Fn)}function an(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ep(n)),de!==null)for(n=de.return;n!==null;){var r=n;switch(Fa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qs();break;case 3:Jn(),te(Le),te(je),Qa();break;case 5:Ka(r);break;case 4:Jn();break;case 13:te(se);break;case 19:te(se);break;case 10:Wa(r.type._context);break;case 22:case 23:il()}n=n.return}if(ye=t,de=t=Ht(t.current,null),we=Ue=e,ge=0,Gr=null,nl=xi=hn=0,Ae=Tr=null,sn!==null){for(e=0;e<sn.length;e++)if(n=sn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}sn=null}return t}function Yd(t,e){do{var n=de;try{if(Ba(),Os.current=ti,ei){for(var r=ie.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ei=!1}if(dn=0,me=pe=ie=null,Er=!1,qr=0,tl.current=null,n===null||n.return===null){ge=1,Gr=e,de=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=we,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=cu(o);if(v!==null){v.flags&=-257,du(v,o,a,i,e),v.mode&1&&uu(i,c,e),e=v,l=c;var w=e.updateQueue;if(w===null){var x=new Set;x.add(l),e.updateQueue=x}else w.add(l);break e}else{if(!(e&1)){uu(i,c,e),ol();break e}l=Error(S(426))}}else if(ne&&a.mode&1){var E=cu(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),du(E,o,a,i,e),Ma(Yn(l,a));break e}}i=l=Yn(l,a),ge!==4&&(ge=2),Tr===null?Tr=[i]:Tr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Id(i,l,e);ru(i,m);break e;case 1:a=l;var g=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof g.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Bt===null||!Bt.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=Ld(i,a,e);ru(i,y);break e}}i=i.return}while(i!==null)}eh(n)}catch(_){e=_,de===n&&n!==null&&(de=n=n.return);continue}break}while(!0)}function Xd(){var t=ni.current;return ni.current=ti,t===null?ti:t}function ol(){(ge===0||ge===3||ge===2)&&(ge=4),ye===null||!(hn&268435455)&&!(xi&268435455)||Rt(ye,we)}function ii(t,e){var n=q;q|=2;var r=Xd();(ye!==t||we!==e)&&(mt=null,an(t,e));do try{Yp();break}catch(s){Yd(t,s)}while(!0);if(Ba(),q=n,ni.current=r,de!==null)throw Error(S(261));return ye=null,we=0,ge}function Yp(){for(;de!==null;)Zd(de)}function Xp(){for(;de!==null&&!Sf();)Zd(de)}function Zd(t){var e=nh(t.alternate,t,Ue);t.memoizedProps=t.pendingProps,e===null?eh(t):de=e,tl.current=null}function eh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Vp(n,e),n!==null){n.flags&=32767,de=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ge=6,de=null;return}}else if(n=Hp(n,e,Ue),n!==null){de=n;return}if(e=e.sibling,e!==null){de=e;return}de=e=t}while(e!==null);ge===0&&(ge=5)}function en(t,e,n){var r=Y,s=Ke.transition;try{Ke.transition=null,Y=1,Zp(t,e,n,r)}finally{Ke.transition=s,Y=r}return null}function Zp(t,e,n,r){do Vn();while($t!==null);if(q&6)throw Error(S(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(S(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Rf(t,i),t===ye&&(de=ye=null,we=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ws||(ws=!0,rh(Ms,function(){return Vn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ke.transition,Ke.transition=null;var o=Y;Y=1;var a=q;q|=4,tl.current=null,Kp(t,n),Qd(n,t),wp(Lo),Bs=!!Io,Lo=Io=null,t.current=n,Qp(n),bf(),q=a,Y=o,Ke.transition=i}else t.current=n;if(ws&&(ws=!1,$t=t,si=s),i=t.pendingLanes,i===0&&(Bt=null),Nf(n.stateNode),De(t,ce()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ri)throw ri=!1,t=ta,ta=null,t;return si&1&&t.tag!==0&&Vn(),i=t.pendingLanes,i&1?t===na?Cr++:(Cr=0,na=t):Cr=0,Gt(),null}function Vn(){if($t!==null){var t=Ic(si),e=Ke.transition,n=Y;try{if(Ke.transition=null,Y=16>t?16:t,$t===null)var r=!1;else{if(t=$t,$t=null,si=0,q&6)throw Error(S(331));var s=q;for(q|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(O=c;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Nr(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var p=d.sibling,v=d.return;if(Vd(d),d===c){O=null;break}if(p!==null){p.return=v,O=p;break}O=v}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var E=x.sibling;x.sibling=null,x=E}while(x!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var g=t.current;for(O=g;O!==null;){o=O;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,O=f;else e:for(o=g;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wi(9,a)}}catch(_){le(a,a.return,_)}if(a===o){O=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,O=y;break e}O=a.return}}if(q=s,Gt(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(di,t)}catch{}r=!0}return r}finally{Y=n,Ke.transition=e}}return!1}function bu(t,e,n){e=Yn(n,e),e=Id(t,e,1),t=zt(t,e,1),e=Te(),t!==null&&(Xr(t,1,e),De(t,e))}function le(t,e,n){if(t.tag===3)bu(t,t,n);else for(;e!==null;){if(e.tag===3){bu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bt===null||!Bt.has(r))){t=Yn(n,t),t=Ld(e,t,1),e=zt(e,t,1),t=Te(),e!==null&&(Xr(e,1,t),De(e,t));break}}e=e.return}}function e0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Te(),t.pingedLanes|=t.suspendedLanes&n,ye===t&&(we&n)===n&&(ge===4||ge===3&&(we&130023424)===we&&500>ce()-rl?an(t,0):nl|=n),De(t,e)}function th(t,e){e===0&&(t.mode&1?(e=us,us<<=1,!(us&130023424)&&(us=4194304)):e=1);var n=Te();t=bt(t,e),t!==null&&(Xr(t,e,n),De(t,n))}function t0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),th(t,n)}function n0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(S(314))}r!==null&&r.delete(e),th(t,n)}var nh;nh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Le.current)Ie=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ie=!1,Wp(t,e,n);Ie=!!(t.flags&131072)}else Ie=!1,ne&&e.flags&1048576&&od(e,Gs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rs(t,e),t=e.pendingProps;var s=Kn(e,je.current);Hn(e,n),s=Ja(null,e,r,t,s,n);var i=Ya();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$e(r)?(i=!0,Ks(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Va(e),s.updater=vi,e.stateNode=s,s._reactInternals=e,Ho(e,r,t,n),e=Ko(null,e,r,!0,i,n)):(e.tag=0,ne&&i&&Ua(e),Ne(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=s0(r),t=tt(r,t),s){case 0:e=qo(null,e,r,t,n);break e;case 1:e=pu(null,e,r,t,n);break e;case 11:e=hu(null,e,r,t,n);break e;case 14:e=fu(null,e,r,tt(r.type,t),n);break e}throw Error(S(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),qo(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),pu(t,e,r,s,n);case 3:e:{if(Fd(e),t===null)throw Error(S(387));r=e.pendingProps,i=e.memoizedState,s=i.element,hd(t,e),Xs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yn(Error(S(423)),e),e=gu(t,e,r,n,s);break e}else if(r!==s){s=Yn(Error(S(424)),e),e=gu(t,e,r,n,s);break e}else for(Fe=Mt(e.stateNode.containerInfo.firstChild),Me=e,ne=!0,st=null,n=cd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qn(),r===s){e=jt(t,e,n);break e}Ne(t,e,r,n)}e=e.child}return e;case 5:return fd(e),t===null&&zo(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,$o(r,s)?o=null:i!==null&&$o(r,i)&&(e.flags|=32),Ud(t,e),Ne(t,e,o,n),e.child;case 6:return t===null&&zo(e),null;case 13:return Md(t,e,n);case 4:return qa(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Gn(e,null,r,n):Ne(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),hu(t,e,r,s,n);case 7:return Ne(t,e,e.pendingProps,n),e.child;case 8:return Ne(t,e,e.pendingProps.children,n),e.child;case 12:return Ne(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Z(Js,r._currentValue),r._currentValue=o,i!==null)if(at(i.value,o)){if(i.children===s.children&&!Le.current){e=jt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=_t(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Bo(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(S(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bo(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ne(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Hn(e,n),s=Ge(s),r=r(s),e.flags|=1,Ne(t,e,r,n),e.child;case 14:return r=e.type,s=tt(r,e.pendingProps),s=tt(r.type,s),fu(t,e,r,s,n);case 15:return $d(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tt(r,s),Rs(t,e),e.tag=1,$e(r)?(t=!0,Ks(e)):t=!1,Hn(e,n),Rd(e,r,s),Ho(e,r,s,n),Ko(null,e,r,!0,t,n);case 19:return zd(t,e,n);case 22:return Dd(t,e,n)}throw Error(S(156,e.tag))};function rh(t,e){return Pc(t,e)}function r0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(t,e,n,r){return new r0(t,e,n,r)}function al(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s0(t){if(typeof t=="function")return al(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ea)return 11;if(t===Na)return 14}return 2}function Ht(t,e){var n=t.alternate;return n===null?(n=qe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $s(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")al(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Cn:return ln(n.children,s,i,e);case ja:o=8,s|=8;break;case po:return t=qe(12,n,e,s|2),t.elementType=po,t.lanes=i,t;case go:return t=qe(13,n,e,s),t.elementType=go,t.lanes=i,t;case mo:return t=qe(19,n,e,s),t.elementType=mo,t.lanes=i,t;case fc:return _i(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dc:o=10;break e;case hc:o=9;break e;case Ea:o=11;break e;case Na:o=14;break e;case Pt:o=16,r=null;break e}throw Error(S(130,t==null?t:typeof t,""))}return e=qe(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ln(t,e,n,r){return t=qe(7,t,r,e),t.lanes=n,t}function _i(t,e,n,r){return t=qe(22,t,r,e),t.elementType=fc,t.lanes=n,t.stateNode={isHidden:!1},t}function no(t,e,n){return t=qe(6,t,null,e),t.lanes=n,t}function ro(t,e,n){return e=qe(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Di(0),this.expirationTimes=Di(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ll(t,e,n,r,s,i,o,a,l){return t=new i0(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=qe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Va(i),t}function o0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sh(t){if(!t)return qt;t=t._reactInternals;e:{if(mn(t)!==t||t.tag!==1)throw Error(S(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(S(171))}if(t.tag===1){var n=t.type;if($e(n))return sd(t,n,e)}return e}function ih(t,e,n,r,s,i,o,a,l){return t=ll(n,r,!0,t,s,i,o,a,l),t.context=sh(null),n=t.current,r=Te(),s=Wt(n),i=_t(r,s),i.callback=e??null,zt(n,i,s),t.current.lanes=s,Xr(t,s,r),De(t,r),t}function ki(t,e,n,r){var s=e.current,i=Te(),o=Wt(s);return n=sh(n),e.context===null?e.context=n:e.pendingContext=n,e=_t(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zt(s,e,o),t!==null&&(ot(t,s,o,i),Ps(t,s,o)),o}function oi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ju(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ul(t,e){ju(t,e),(t=t.alternate)&&ju(t,e)}function a0(){return null}var oh=typeof reportError=="function"?reportError:function(t){console.error(t)};function cl(t){this._internalRoot=t}Si.prototype.render=cl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(S(409));ki(t,e,null,null)};Si.prototype.unmount=cl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;fn(function(){ki(null,t,null,null)}),e[St]=null}};function Si(t){this._internalRoot=t}Si.prototype.unstable_scheduleHydration=function(t){if(t){var e=Dc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<At.length&&e!==0&&e<At[n].priority;n++);At.splice(n,0,t),n===0&&Fc(t)}};function dl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Eu(){}function l0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=oi(o);i.call(c)}}var o=ih(e,r,t,0,null,!1,!1,"",Eu);return t._reactRootContainer=o,t[St]=o.current,zr(t.nodeType===8?t.parentNode:t),fn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=oi(l);a.call(c)}}var l=ll(t,0,!1,null,null,!1,!1,"",Eu);return t._reactRootContainer=l,t[St]=l.current,zr(t.nodeType===8?t.parentNode:t),fn(function(){ki(e,l,n,r)}),l}function ji(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=oi(o);a.call(l)}}ki(e,o,t,s)}else o=l0(n,e,t,s,r);return oi(o)}Lc=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vr(e.pendingLanes);n!==0&&(Pa(e,n|1),De(e,ce()),!(q&6)&&(Xn=ce()+500,Gt()))}break;case 13:fn(function(){var r=bt(t,1);if(r!==null){var s=Te();ot(r,t,1,s)}}),ul(t,1)}};Oa=function(t){if(t.tag===13){var e=bt(t,134217728);if(e!==null){var n=Te();ot(e,t,134217728,n)}ul(t,134217728)}};$c=function(t){if(t.tag===13){var e=Wt(t),n=bt(t,e);if(n!==null){var r=Te();ot(n,t,e,r)}ul(t,e)}};Dc=function(){return Y};Uc=function(t,e){var n=Y;try{return Y=t,e()}finally{Y=n}};Eo=function(t,e,n){switch(e){case"input":if(wo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=gi(r);if(!s)throw Error(S(90));gc(r),wo(r,s)}}}break;case"textarea":yc(t,n);break;case"select":e=n.value,e!=null&&Mn(t,!!n.multiple,e,!1)}};bc=sl;jc=fn;var u0={usingClientEntryPoint:!1,Events:[es,Rn,gi,kc,Sc,sl]},pr={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},c0={bundleType:pr.bundleType,version:pr.version,rendererPackageName:pr.rendererPackageName,rendererConfig:pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Tc(t),t===null?null:t.stateNode},findFiberByHostInstance:pr.findFiberByHostInstance||a0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xs.isDisabled&&xs.supportsFiber)try{di=xs.inject(c0),ft=xs}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0;Be.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dl(e))throw Error(S(200));return o0(t,e,null,n)};Be.createRoot=function(t,e){if(!dl(t))throw Error(S(299));var n=!1,r="",s=oh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ll(t,1,!1,null,null,n,!1,r,s),t[St]=e.current,zr(t.nodeType===8?t.parentNode:t),new cl(e)};Be.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(S(188)):(t=Object.keys(t).join(","),Error(S(268,t)));return t=Tc(e),t=t===null?null:t.stateNode,t};Be.flushSync=function(t){return fn(t)};Be.hydrate=function(t,e,n){if(!bi(e))throw Error(S(200));return ji(null,t,e,!0,n)};Be.hydrateRoot=function(t,e,n){if(!dl(t))throw Error(S(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=oh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=ih(e,null,t,1,n??null,s,!1,i,o),t[St]=e.current,zr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Si(e)};Be.render=function(t,e,n){if(!bi(e))throw Error(S(200));return ji(null,t,e,!1,n)};Be.unmountComponentAtNode=function(t){if(!bi(t))throw Error(S(40));return t._reactRootContainer?(fn(function(){ji(null,null,t,!1,function(){t._reactRootContainer=null,t[St]=null})}),!0):!1};Be.unstable_batchedUpdates=sl;Be.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!bi(n))throw Error(S(200));if(t==null||t._reactInternals===void 0)throw Error(S(38));return ji(t,e,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function ah(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ah)}catch(t){console.error(t)}}ah(),ac.exports=Be;var d0=ac.exports,lh,Nu=d0;lh=Nu.createRoot,Nu.hydrateRoot;const h0="modulepreload",f0=function(t){return"/hft/"+t},Tu={},yn=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=f0(l),l in Tu)return;Tu[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":h0,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var p0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(t,e)=>{const n=I.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},d)=>I.createElement("svg",{ref:d,...p0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${g0(t)}`,a].join(" "),...c},[...e.map(([h,p])=>I.createElement(h,p)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ai=ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ae("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ou=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=ae("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=ae("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ch=I.createContext(void 0),T0="view2024",C0="Nigeria0009@@@";function P0({children:t}){const[e,n]=I.useState(!1),[r,s]=I.useState(!1);I.useEffect(()=>{const a=localStorage.getItem("houseFeesAuth"),l=localStorage.getItem("houseFeesAdmin");a==="true"&&n(!0),l==="true"&&s(!0)},[]);const i=a=>a===C0?(n(!0),s(!0),localStorage.setItem("houseFeesAuth","true"),localStorage.setItem("houseFeesAdmin","true"),!0):a===T0?(n(!0),s(!1),localStorage.setItem("houseFeesAuth","true"),localStorage.setItem("houseFeesAdmin","false"),!0):!1,o=()=>{n(!1),s(!1),localStorage.removeItem("houseFeesAuth"),localStorage.removeItem("houseFeesAdmin")};return u.jsx(ch.Provider,{value:{isAuthenticated:e,isAdmin:r,login:i,logout:o},children:t})}function rr(){const t=I.useContext(ch);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const dh=I.createContext(void 0);function O0({children:t}){const[e,n]=I.useState(!1);I.useEffect(()=>{localStorage.getItem("houseFeesTheme")==="dark"&&(n(!0),document.documentElement.classList.add("dark"))},[]);const r=()=>{n(s=>{const i=!s;return i?(document.documentElement.classList.add("dark"),localStorage.setItem("houseFeesTheme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("houseFeesTheme","light")),i})};return u.jsx(dh.Provider,{value:{isDark:e,toggleTheme:r},children:t})}function A0(){const t=I.useContext(dh);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}const hh=I.createContext(void 0);function R0({children:t}){const[e,n]=I.useState([]),r=(s,i="info",o=3e3)=>{const a=String(Date.now())+Math.random().toString(36).slice(2,7),l={id:a,message:s,type:i};n(c=>[...c,l]),setTimeout(()=>{n(c=>c.filter(d=>d.id!==a))},o)};return u.jsxs(hh.Provider,{value:{showToast:r},children:[t,u.jsx("div",{className:"fixed right-4 bottom-4 z-50 flex flex-col gap-2 items-end",children:e.map(s=>u.jsx("div",{className:`max-w-sm w-full rounded-lg px-4 py-2 shadow-md text-sm text-white ${s.type==="success"?"bg-green-600":s.type==="error"?"bg-red-600":"bg-gray-800"}`,children:s.message},s.id))})]})}function Ei(){const t=I.useContext(hh);if(!t)throw new Error("useToast must be used within ToastProvider");return t}function I0(){const[t,e]=I.useState(""),[n,r]=I.useState(""),{login:s}=rr(),i=o=>{o.preventDefault(),s(t)||(r("Incorrect password"),e(""))};return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 dark:from-gray-900 dark:to-gray-800 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-8 w-full max-w-md",children:[u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[u.jsx("div",{className:"bg-blue-600 dark:bg-blue-500 p-4 rounded-full mb-4",children:u.jsx(x0,{className:"w-8 h-8 text-white"})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"HouseFees Tracker"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 text-center",children:"Enter password to access the fee tracking system"})]}),u.jsxs("form",{onSubmit:i,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),u.jsx("input",{type:"password",id:"password",value:t,onChange:o=>{e(o.target.value),r("")},className:"w-full px-4 py-3 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"Enter password",autoFocus:!0}),n&&u.jsx("p",{className:"mt-2 text-sm text-red-600 dark:text-red-400",children:n})]}),u.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white font-medium py-3 rounded-lg transition duration-200 shadow-lg hover:shadow-xl",children:"Access System"})]})]})})}function L0({tenants:t,fees:e,payments:n}){const r=t.filter(d=>d.is_active),s=r.length,i=e.reduce((d,h)=>d+h.total_amount,0),o=n.reduce((d,h)=>d+h.amount_paid,0),a=i-o,c=r.map(d=>{let h=0;return e.forEach(p=>{const v=s>0?p.total_amount/s:0,w=n.filter(x=>x.tenant_id===d.id&&x.fee_id===p.id).reduce((x,E)=>x+E.amount_paid,0);h+=v-w}),{tenant:d,outstanding:h}}).filter(d=>d.outstanding>0);return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(m0,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Summary Overview"})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 p-3 rounded-lg border border-blue-200 dark:border-blue-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(ia,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),u.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"Active Residents"})]}),u.jsx("p",{className:"text-xl sm:text-3xl font-bold text-blue-700 dark:text-blue-300",children:s})]}),u.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 dark:from-purple-900/30 dark:to-purple-800/30 p-3 rounded-lg border border-purple-200 dark:border-purple-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(ai,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),u.jsx("span",{className:"text-xs text-purple-700 dark:text-purple-300 font-medium",children:"Total Fees"})]}),u.jsxs("p",{className:"text-xl sm:text-3xl font-bold text-purple-700 dark:text-purple-300",children:["",i.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 p-3 rounded-lg border border-green-200 dark:border-green-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(ai,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),u.jsx("span",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"Collected"})]}),u.jsxs("p",{className:"text-xl sm:text-3xl font-bold text-green-700 dark:text-green-300",children:["",o.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/30 p-3 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Cu,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),u.jsx("span",{className:"text-xs text-red-700 dark:text-red-300 font-medium",children:"Outstanding"})]}),u.jsxs("p",{className:"text-xl sm:text-3xl font-bold text-red-700 dark:text-red-300",children:["",a.toLocaleString()]})]})]}),c.length>0&&u.jsxs("div",{id:"outstanding-tenants",className:"bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-800 rounded-lg p-3",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("h3",{className:"font-medium text-orange-900 dark:text-orange-200 flex items-center gap-2 text-sm",children:[u.jsx(Cu,{className:"w-4 h-4"}),"Outstanding Balances"]}),u.jsx("button",{type:"button",title:"Screenshot outstanding list",onClick:()=>{yn(()=>import("./html2canvas.esm-CBrSDip1.js"),[]).then(d=>{const h=document.getElementById("outstanding-tenants");h&&d.default(h).then(p=>{const v=document.createElement("a");v.download=`outstanding-tenants-${new Date().toISOString().split("T")[0]}.png`,v.href=p.toDataURL(),v.click()})}).catch(d=>console.error("Failed to capture outstanding tenants",d))},className:"p-2 rounded-md text-orange-800 dark:text-orange-200 hover:bg-orange-100 dark:hover:bg-orange-800/40",children:u.jsx(uh,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"space-y-2",children:c.map(({tenant:d,outstanding:h})=>u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"text-orange-800 dark:text-orange-300",children:d.name}),u.jsxs("span",{className:"font-semibold text-orange-900 dark:text-orange-200",children:["",h.toLocaleString(void 0,{maximumFractionDigits:2})]})]},d.id))})]}),c.length===0&&i>0&&u.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 text-center",children:u.jsx("p",{className:"text-green-800 dark:text-green-200 font-medium",children:"All payments are up to date!"})})]})}function $0({tenants:t,onAdd:e,onUpdate:n,onRemove:r,onDelete:s}){const{isAdmin:i}=rr(),[o,a]=I.useState(""),[l,c]=I.useState(""),[d,h]=I.useState(null),[p,v]=I.useState(""),[w,x]=I.useState(""),[E,m]=I.useState(!1),[g,f]=I.useState(null),{showToast:y}=Ei(),_=t.filter(C=>C.is_active),k=t.filter(C=>!C.is_active),j=async()=>{if(o.trim()){m(!0);const C=await e(o.trim(),l.trim()||void 0);m(!1),C?(a(""),c(""),y("Resident added","success")):y("Failed to add resident","error")}},T=async C=>{if(p.trim()){f(C);const $=await n(C,p.trim(),w.trim()||void 0);f(null),$?(h(null),v(""),x(""),y("Resident updated","success")):y("Failed to update resident","error")}};return i?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[u.jsx(ia,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Manage Residents"}),u.jsxs("span",{className:"ml-auto bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full text-sm font-medium",children:[_.length," Active"]})]}),u.jsxs("div",{className:"flex gap-2 mb-6",children:[u.jsx("input",{type:"text",value:o,onChange:C=>a(C.target.value),onKeyPress:C=>C.key==="Enter"&&j(),placeholder:"Enter resident name",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),u.jsx("input",{type:"tel",value:l,onChange:C=>c(C.target.value),placeholder:"Phone (optional)",className:"w-48 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),u.jsxs("button",{onClick:j,className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition",children:[u.jsx(E0,{className:"w-5 h-5"}),"Add"]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Active Residents"}),_.map(C=>u.jsx("div",{className:"flex items-center gap-2 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:d===C.id?u.jsxs(u.Fragment,{children:[u.jsx("input",{type:"text",value:p,onChange:$=>v($.target.value),onKeyPress:$=>$.key==="Enter"&&T(C.id),className:"flex-1 px-3 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none",autoFocus:!0}),u.jsx("input",{type:"tel",value:w,onChange:$=>x($.target.value),placeholder:"Phone (optional)",className:"w-48 px-3 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("button",{onClick:()=>T(C.id),className:"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 px-3 py-1",children:"Save"}),u.jsx("button",{onClick:()=>{h(null),v("")},className:"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 px-3 py-1",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"flex-1 text-gray-900 dark:text-white",children:C.name}),C.phone&&u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:C.phone}),u.jsx("button",{onClick:()=>{h(C.id),v(C.name),x(C.phone||"")},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2",title:"Edit",children:u.jsx(hl,{className:"w-4 h-4"})}),u.jsx("button",{onClick:async()=>{await r(C.id)?y("Resident removed","success"):y("Failed to remove resident","error")},className:"text-orange-600 dark:text-orange-400 hover:text-orange-700 dark:hover:text-orange-300 p-2",title:"Remove (mark inactive)",children:u.jsx(N0,{className:"w-4 h-4"})}),u.jsx("button",{onClick:async()=>{confirm(`Permanently delete ${C.name}? This will also delete all their payment records.`)&&(await s(C.id)?y("Resident deleted","success"):y("Failed to delete resident","error"))},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2",title:"Delete permanently",children:u.jsx(pn,{className:"w-4 h-4"})})]})},C.id)),k.length>0&&u.jsxs(u.Fragment,{children:[u.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mt-6",children:"Removed Residents"}),k.map(C=>u.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-100 dark:bg-gray-700/50 rounded-lg opacity-75",children:[u.jsx("span",{className:"flex-1 text-gray-600 dark:text-gray-400",children:C.name}),u.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Removed ",new Date(C.removed_at).toLocaleDateString()]}),u.jsx("button",{onClick:async()=>{confirm(`Permanently delete ${C.name}?`)&&(await s(C.id)?y("Resident deleted","success"):y("Failed to delete resident","error"))},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2",title:"Delete permanently",children:u.jsx(pn,{className:"w-4 h-4"})})]},C.id))]})]})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(ia,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Residents"}),u.jsxs("span",{className:"ml-auto bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-3 py-1 rounded-full text-sm font-medium",children:[_.length," Active"]})]}),u.jsx("div",{className:"space-y-2",children:_.map(C=>u.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg text-gray-900 dark:text-white",children:C.name},C.id))})]})}function D0({fees:t,onAdd:e,onUpdate:n,onDelete:r}){const{isAdmin:s}=rr(),[i,o]=I.useState(!1),[a,l]=I.useState({name:"",amount:"",period:"Annual"}),[c,d]=I.useState(null),[h,p]=I.useState({name:"",amount:"",period:""}),[v,w]=I.useState(!1),[x,E]=I.useState(null),{showToast:m}=Ei(),g=async()=>{if(a.name.trim()&&a.amount){w(!0);const y=await e(a.name.trim(),parseFloat(a.amount),a.period);w(!1),y?(l({name:"",amount:"",period:"Annual"}),o(!1),m("Fee added","success")):m("Failed to add fee","error")}},f=async y=>{if(h.name.trim()&&h.amount){E(y);const _=await n(y,h.name.trim(),parseFloat(h.amount),h.period);E(null),_?(d(null),p({name:"",amount:"",period:""}),m("Fee updated","success")):m("Failed to update fee","error")}};return s?u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(ai,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Manage Fees"})]}),!i&&u.jsxs("button",{onClick:()=>o(!0),className:"bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition",children:[u.jsx(fl,{className:"w-5 h-5"}),"Add Fee"]})]}),i&&u.jsxs("div",{className:"mb-6 p-4 bg-green-50 dark:bg-gray-700 rounded-lg space-y-3",children:[u.jsx("input",{type:"text",value:a.name,onChange:y=>l({...a,name:y.target.value}),placeholder:"Fee name (e.g., Security, Development Levy)",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",value:a.amount,onChange:y=>l({...a,amount:y.target.value}),placeholder:"Total amount",className:"flex-1 px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none"}),u.jsxs("select",{value:a.period,onChange:y=>l({...a,period:y.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none",children:[u.jsx("option",{children:"Annual"}),u.jsx("option",{children:"Monthly"}),u.jsx("option",{children:"Quarterly"}),u.jsx("option",{children:"One-time"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:g,disabled:v,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition disabled:opacity-60 flex items-center gap-2",children:v?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"w-4 h-4",children:u.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),"Saving..."]}):"Save Fee"}),u.jsx("button",{onClick:()=>{o(!1),l({name:"",amount:"",period:"Annual"})},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition",children:"Cancel"})]})]}),u.jsx("div",{className:"space-y-3",children:t.map(y=>u.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:c===y.id?u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",value:h.name,onChange:_=>p({...h,name:_.target.value}),className:"w-full px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"number",value:h.amount,onChange:_=>p({...h,amount:_.target.value}),className:"flex-1 px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsxs("select",{value:h.period,onChange:_=>p({...h,period:_.target.value}),className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none",children:[u.jsx("option",{children:"Annual"}),u.jsx("option",{children:"Monthly"}),u.jsx("option",{children:"Quarterly"}),u.jsx("option",{children:"One-time"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>f(y.id),className:"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 px-3 py-1",children:"Save"}),u.jsx("button",{onClick:()=>{d(null),p({name:"",amount:"",period:""})},className:"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 px-3 py-1",children:"Cancel"})]})]}):u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:y.name}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.period})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:["",y.total_amount.toLocaleString()]}),u.jsx("button",{onClick:()=>{d(y.id),p({name:y.name,amount:y.total_amount.toString(),period:y.period})},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-2",title:"Edit",children:u.jsx(hl,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>{(async()=>confirm(`Delete ${y.name}? This will also delete all related payment records.`)&&(await r(y.id)?m("Fee deleted","success"):m("Failed to delete fee","error")))()},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-2",title:"Delete",children:u.jsx(pn,{className:"w-4 h-4"})})]})]})},y.id))})]}):u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(ai,{className:"w-6 h-6 text-green-600 dark:text-green-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Fees"})]}),u.jsx("div",{className:"space-y-3",children:t.map(y=>u.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:y.name}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:y.period})]}),u.jsxs("span",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:["",y.total_amount.toLocaleString()]})]})},y.id))})]})}function U0({tenant:t,fees:e,payments:n,onClose:r,onDeletePayment:s}){const i=n.filter(o=>o.tenant_id===t.id).sort((o,a)=>new Date(a.payment_date).getTime()-new Date(o.payment_date).getTime());return u.jsx("div",{className:"fixed inset-0 bg-black/30 z-40 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg max-w-2xl w-full p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.name}),t.phone&&u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.phone})]}),u.jsx("button",{type:"button",onClick:r,className:"text-gray-600 dark:text-gray-300 p-2",children:u.jsx(oa,{className:"w-5 h-5"})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Payments"}),i.length===0?u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No payments recorded yet"}):u.jsx("div",{className:"space-y-2 mt-2",children:i.map(o=>u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["",o.amount_paid.toLocaleString()]}),u.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(o.payment_date).toLocaleDateString()," ",o.notes?"  "+o.notes:""]})]}),u.jsx("div",{children:s&&u.jsx("button",{type:"button",onClick:async()=>{confirm("Delete this payment?")&&await s(o.id)},className:"text-red-600 dark:text-red-400 p-1",children:u.jsx(pn,{className:"w-4 h-4"})})})]},o.id))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Outstanding by Fee"}),u.jsx("div",{className:"mt-2 space-y-2",children:e.map(o=>{const a=n.filter(c=>c.fee_id===o.id&&c.tenant_id===t.id).reduce((c,d)=>c+d.amount_paid,0),l=o.total_amount-a;return u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[u.jsx("div",{className:"text-sm text-gray-900 dark:text-white",children:o.name}),u.jsxs("div",{className:"text-sm text-gray-900 dark:text-white",children:["",l.toLocaleString()]})]},o.id)})})]})]})})}function Ru({tenants:t,fees:e,payments:n,onAddPayment:r,onDeletePayment:s,onUpdatePayment:i,onSpreadPayment:o}){const{isAdmin:a}=rr(),{showToast:l}=Ei(),[c,d]=I.useState(new Set),[h,p]=I.useState(!1),[v,w]=I.useState(!1),[x,E]=I.useState(!1),[m,g]=I.useState(!1),[f,y]=I.useState({tenantId:"",feeId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),[_,k]=I.useState({tenantId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),j=t.filter(N=>N.is_active),T=j.length,C=e.find(N=>N.id===f.feeId),$=C?P(C.total_amount):0,L=N=>{d(lt=>{const _e=new Set(lt);return _e.has(N)?_e.delete(N):_e.add(N),_e})};function P(N){return T>0?N/T:0}const M=(N,lt)=>n.filter(_e=>_e.tenant_id===N&&_e.fee_id===lt),z=(N,lt)=>M(N,lt).reduce((_e,wn)=>_e+wn.amount_paid,0),F=async()=>{if(f.tenantId&&f.feeId&&f.amount){E(!0);const N=await r(f.tenantId,f.feeId,parseFloat(f.amount),f.date,f.notes||void 0);E(!1),N&&(y({tenantId:"",feeId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""}),p(!1),l("Payment recorded","success"))}},[H,G]=I.useState(!1),[b,A]=I.useState(null),D=N=>{A(N),G(!0)},[K,R]=I.useState(null),[V,re]=I.useState({tenantId:"",feeId:"",amount:"",date:"",notes:""}),[Oe,ue]=I.useState(!1);return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(b0,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Payment Tracking"})]}),a&&!h&&u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>p(!0),className:"bg-purple-600 hover:bg-purple-700 dark:bg-purple-500 dark:hover:bg-purple-600 text-white p-2 sm:px-4 sm:py-2 rounded-lg flex items-center gap-2 transition",title:"Record Payment",children:[u.jsx(fl,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Record Payment"})]}),u.jsxs("button",{type:"button",onClick:()=>w(!0),className:"bg-green-600 hover:bg-green-700 dark:bg-green-500 dark:hover:bg-green-600 text-white p-2 sm:px-4 sm:py-2 rounded-lg flex items-center gap-2 transition",title:"Spread Payment",children:[u.jsx(w0,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Spread Payment"})]})]})]}),a&&h&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-6",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>p(!1)}),u.jsxs("div",{className:"relative mb-6 w-full max-w-2xl p-6 bg-purple-50 dark:bg-gray-700 rounded-lg space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("select",{value:f.tenantId,onChange:N=>y({...f,tenantId:N.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",children:[u.jsx("option",{value:"",children:"Select Resident"}),j.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]}),u.jsxs("select",{value:f.feeId,onChange:N=>y({...f,feeId:N.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none",children:[u.jsx("option",{value:"",children:"Select Fee"}),e.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("input",{type:"number",value:f.amount,onChange:N=>y({...f,amount:N.target.value}),placeholder:"Amount paid",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"}),C&&u.jsxs("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:["Per-resident share for ",u.jsx("span",{className:"font-medium",children:C.name}),": ",u.jsxs("span",{className:"text-gray-900 dark:text-white font-semibold",children:["",$.toLocaleString(void 0,{maximumFractionDigits:2})]})]})]}),u.jsx("input",{type:"date",value:f.date,onChange:N=>y({...f,date:N.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"})]}),u.jsx("input",{type:"text",value:f.notes,onChange:N=>y({...f,notes:N.target.value}),placeholder:"Notes (optional)",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent outline-none"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:F,disabled:x,className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition disabled:opacity-60 flex items-center gap-2",children:x?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"w-4 h-4",children:u.jsxs("svg",{className:"animate-spin",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),"Saving..."]}):"Save Payment"}),u.jsx("button",{type:"button",onClick:()=>{p(!1),y({tenantId:"",feeId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""})},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition",children:"Cancel"})]})]})]}),a&&v&&u.jsxs("div",{className:"fixed inset-0 z-50 flex items-start justify-center p-6",children:[u.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>w(!1)}),u.jsxs("div",{className:"relative mb-6 w-full max-w-lg p-6 bg-green-50 dark:bg-gray-700 rounded-lg space-y-3",children:[u.jsx("h3",{className:"text-lg font-semibold",children:"Spread Payment"}),u.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[u.jsxs("select",{value:_.tenantId,onChange:N=>k({..._,tenantId:N.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none",children:[u.jsx("option",{value:"",children:"Select Resident"}),j.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]}),u.jsx("input",{type:"number",value:_.amount,onChange:N=>k({..._,amount:N.target.value}),placeholder:"Amount paid",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("input",{type:"date",value:_.date,onChange:N=>k({..._,date:N.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("input",{type:"text",value:_.notes,onChange:N=>k({..._,notes:N.target.value}),placeholder:"Notes (optional)",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:async()=>{if(!(!_.tenantId||!_.amount)){g(!0);try{await(o==null?void 0:o(_.tenantId,parseFloat(_.amount),_.date,_.notes||void 0))?(l("Spread payment applied","success"),w(!1),k({tenantId:"",amount:"",date:new Date().toISOString().split("T")[0],notes:""})):l("Failed to apply spread payment","error")}catch(N){console.error("Error applying spread payment",N),l("Failed to apply spread payment","error")}finally{g(!1)}}},disabled:m,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition disabled:opacity-60",children:m?"Applying...":"Apply"}),u.jsx("button",{type:"button",onClick:()=>w(!1),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition",children:"Cancel"})]})]})]}),u.jsx("div",{className:"space-y-4",children:e.map(N=>{const lt=c.has(N.id),_e=P(N.total_amount),wn=n.filter(Q=>Q.fee_id===N.id).reduce((Q,Ye)=>Q+Ye.amount_paid,0);return u.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[u.jsxs("button",{onClick:()=>L(N.id),className:"w-full p-4 bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 transition flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 text-left",children:[u.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:N.name}),u.jsxs("div",{className:"flex flex-wrap gap-4 mt-2 text-sm",children:[u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Total: ",u.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["",N.total_amount.toLocaleString()]})]}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Per Resident: ",u.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:["",_e.toLocaleString(void 0,{maximumFractionDigits:2})]})]}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Collected: ",u.jsxs("span",{className:"font-medium text-green-600 dark:text-green-400",children:["",wn.toLocaleString()]})]}),u.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["Outstanding: ",u.jsxs("span",{className:"font-medium text-red-600 dark:text-red-400",children:["",(N.total_amount-wn).toLocaleString()]})]})]})]}),lt?u.jsx(v0,{className:"w-5 h-5 text-gray-500"}):u.jsx(y0,{className:"w-5 h-5 text-gray-500"})]}),lt&&u.jsxs("div",{className:"p-4 bg-white dark:bg-gray-800",children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[u.jsx("th",{className:"text-left py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Resident"}),u.jsx("th",{className:"text-right py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Share"}),u.jsx("th",{className:"text-right py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Paid"}),u.jsx("th",{className:"text-right py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Balance"}),u.jsx("th",{className:"text-center py-2 px-2 text-gray-700 dark:text-gray-300 font-medium",children:"Status"})]})}),u.jsx("tbody",{children:j.map(Q=>{const Ye=z(Q.id,N.id),Xe=_e-Ye,or=Math.round(Xe*100)/100,$h=or<=0?"Paid":or<_e?"Partial":"Pending",Dh=or<=0?"text-green-600 dark:text-green-400 bg-green-100 dark:bg-green-900":or<_e?"text-orange-600 dark:text-orange-400 bg-orange-100 dark:bg-orange-900":"text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900";return u.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[u.jsx("td",{className:"py-3 px-2 text-gray-900 dark:text-white",children:u.jsx("button",{onClick:()=>D(Q),className:"text-left w-full text-gray-900 dark:text-white hover:underline",children:Q.name})}),u.jsxs("td",{className:"text-right py-3 px-2 text-gray-900 dark:text-white",children:["",_e.toLocaleString(void 0,{maximumFractionDigits:2})]}),u.jsx("td",{className:"text-right py-3 px-2 text-green-600 dark:text-green-400 font-medium",children:u.jsxs("button",{type:"button",onClick:()=>{y({tenantId:Q.id,feeId:N.id,amount:Math.max(0,+(_e-Ye).toFixed(2)).toString(),date:new Date().toISOString().split("T")[0],notes:""}),p(!0)},className:"w-full text-right",children:["",Ye.toLocaleString()]})}),u.jsxs("td",{className:"text-right py-3 px-2 text-red-600 dark:text-red-400 font-medium",children:["",or.toLocaleString(void 0,{maximumFractionDigits:2})]}),u.jsx("td",{className:"text-center py-3 px-2",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Dh}`,children:$h})})]},Q.id)})}),u.jsx("tfoot",{className:"border-t-2 border-gray-300 dark:border-gray-600",children:u.jsxs("tr",{className:"font-semibold",children:[u.jsx("td",{className:"py-3 px-2 text-gray-900 dark:text-white",children:"Total"}),u.jsxs("td",{className:"text-right py-3 px-2 text-gray-900 dark:text-white",children:["",N.total_amount.toLocaleString()]}),u.jsxs("td",{className:"text-right py-3 px-2 text-green-600 dark:text-green-400",children:["",wn.toLocaleString()]}),u.jsxs("td",{className:"text-right py-3 px-2 text-red-600 dark:text-red-400",children:["",(N.total_amount-wn).toLocaleString()]}),u.jsx("td",{})]})})]})}),a&&u.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment History"}),u.jsxs("div",{className:"space-y-2",children:[n.filter(Q=>Q.fee_id===N.id).sort((Q,Ye)=>new Date(Ye.payment_date).getTime()-new Date(Q.payment_date).getTime()).map(Q=>{const Ye=t.find(Xe=>Xe.id===Q.tenant_id);return u.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded text-sm",children:[u.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[u.jsxs("div",{className:"flex flex-wrap items-baseline gap-x-2",children:[u.jsx("span",{className:"text-gray-900 dark:text-white font-medium whitespace-normal break-words",children:Ye==null?void 0:Ye.name}),u.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 whitespace-nowrap",children:new Date(Q.payment_date).toLocaleDateString()})]}),Q.notes&&u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 italic whitespace-normal break-words",children:Q.notes})]}),u.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:K===Q.id?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"number",value:V.amount,onChange:Xe=>re({...V,amount:Xe.target.value}),className:"w-24 px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("input",{type:"date",value:V.date,onChange:Xe=>re({...V,date:Xe.target.value}),className:"px-2 py-1 rounded border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white outline-none"}),u.jsx("button",{type:"button",onClick:async()=>{if(V.amount){ue(!0);try{await(i==null?void 0:i(Q.id,{tenant_id:V.tenantId||void 0,fee_id:V.feeId||void 0,amount_paid:parseFloat(V.amount),payment_date:V.date||void 0,notes:V.notes||void 0}))?(R(null),l("Payment updated","success")):l("Failed to update payment","error")}catch(Xe){console.error("Error updating payment",Xe),l("Failed to update payment","error")}finally{ue(!1)}}},disabled:Oe,className:"text-green-600 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300 px-2 py-1",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{R(null)},className:"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 px-2 py-1",children:"Cancel"})]}):u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"text-green-600 dark:text-green-400 font-medium",children:["",Q.amount_paid.toLocaleString()]}),u.jsx("button",{type:"button",onClick:()=>{R(Q.id),re({tenantId:Q.tenant_id,feeId:Q.fee_id,amount:Q.amount_paid.toString(),date:new Date(Q.payment_date).toISOString().split("T")[0],notes:Q.notes||""})},className:"text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 p-1",title:"Edit",children:u.jsx(hl,{className:"w-4 h-4"})}),u.jsx("button",{type:"button",onClick:async()=>{confirm("Delete this payment record?")&&(await s(Q.id)?l("Payment deleted","success"):l("Failed to delete payment","error"))},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-1",children:u.jsx(pn,{className:"w-4 h-4"})})]})})]},Q.id)}),n.filter(Q=>Q.fee_id===N.id).length===0&&u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm italic",children:"No payments recorded yet"})]})]})]})]},N.id)})}),e.length===0&&u.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-gray-400",children:"No fees added yet. Add fees to start tracking payments."}),H&&b&&u.jsx(U0,{tenant:b,fees:e,payments:n,onClose:()=>G(!1),onDeletePayment:s})]})}function F0({transactions:t,onAdd:e,onDelete:n,onClearAll:r,payments:s,tenants:i}){const{isAdmin:o}=rr(),[a,l]=I.useState(!1),[c,d]=I.useState({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]}),[h,p]=I.useState(!1),{showToast:v}=Ei(),w=t.reduce((f,y)=>y.transaction_type==="income"?f+y.amount:f-y.amount,0),x=t.filter(f=>f.transaction_type==="income").reduce((f,y)=>f+y.amount,0),E=t.filter(f=>f.transaction_type==="expense").reduce((f,y)=>f+y.amount,0),m=[];if(s&&i){const f=new Map;for(const y of s)f.set(y.tenant_id,(f.get(y.tenant_id)||0)+y.amount_paid);for(const[y,_]of f.entries()){const k=i.find(j=>j.id===y);m.push({tenantId:y,tenantName:(k==null?void 0:k.name)??y,total:_})}}const g=async()=>{if(c.description.trim()&&c.amount){p(!0);const f=await e(c.description.trim(),parseFloat(c.amount),c.type,c.date);p(!1),f?(d({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]}),l(!1),v("Transaction saved","success")):v("Failed to save transaction","error")}};return u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Au,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Collective Purse"})]}),o&&!a&&u.jsxs("div",{className:"flex gap-2",children:[r&&u.jsxs("button",{onClick:async()=>{window.confirm("Are you sure you want to delete ALL transactions (payments and purse records)? This cannot be undone.")&&(await r()?v("All records cleared","success"):v("Failed to clear records","error"))},className:"hidden bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition",children:[u.jsx(pn,{className:"w-5 h-5"}),"Reset Data"]}),u.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white p-2 sm:px-4 sm:py-2 rounded-lg flex items-center gap-2 transition",title:"Add Transaction",children:[u.jsx(fl,{className:"w-5 h-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Add Transaction"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-4",children:[u.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-900/30 dark:to-green-800/30 p-3 rounded-lg border border-green-200 dark:border-green-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Ou,{className:"w-4 h-4 text-green-600 dark:text-green-400"}),u.jsx("span",{className:"text-xs text-green-700 dark:text-green-300 font-medium",children:"Total Income"})]}),u.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-green-700 dark:text-green-300",children:["",x.toLocaleString()]})]}),u.jsxs("div",{className:"bg-gradient-to-br from-red-50 to-red-100 dark:from-red-900/30 dark:to-red-800/30 p-3 rounded-lg border border-red-200 dark:border-red-700",children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Pu,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),u.jsx("span",{className:"text-xs text-red-700 dark:text-red-300 font-medium",children:"Total Expenses"})]}),u.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-red-700 dark:text-red-300",children:["",E.toLocaleString()]})]}),u.jsxs("div",{className:`col-span-2 md:col-span-1 bg-gradient-to-br p-3 rounded-lg border ${w>=0?"from-blue-50 to-blue-100 dark:from-blue-900/30 dark:to-blue-800/30 border-blue-200 dark:border-blue-700":"from-orange-50 to-orange-100 dark:from-orange-900/30 dark:to-orange-800/30 border-orange-200 dark:border-orange-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[u.jsx(Au,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),u.jsx("span",{className:"text-xs text-blue-700 dark:text-blue-300 font-medium",children:"Current Balance"})]}),u.jsxs("p",{className:`text-lg sm:text-2xl font-bold ${w>=0?"text-blue-700 dark:text-blue-300":"text-orange-700 dark:text-orange-300"}`,children:["",w.toLocaleString()]})]})]}),o&&a&&u.jsxs("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-gray-700 rounded-lg space-y-3",children:[u.jsx("input",{type:"text",value:c.description,onChange:f=>d({...c,description:f.target.value}),placeholder:"Transaction description",className:"w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsx("input",{type:"number",value:c.amount,onChange:f=>d({...c,amount:f.target.value}),placeholder:"Amount",className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"}),u.jsxs("select",{value:c.type,onChange:f=>d({...c,type:f.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none",children:[u.jsx("option",{value:"income",children:"Income"}),u.jsx("option",{value:"expense",children:"Expense"})]}),u.jsx("input",{type:"date",value:c.date,onChange:f=>d({...c,date:f.target.value}),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:g,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition",children:"Save Transaction"}),u.jsx("button",{onClick:()=>{l(!1),d({description:"",amount:"",type:"income",date:new Date().toISOString().split("T")[0]})},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition",children:"Cancel"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:"font-medium text-gray-700 dark:text-gray-300 mb-3",children:"Transaction History"}),t.length===0?u.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm italic text-center py-8",children:"No transactions recorded yet"}):t.map(f=>u.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${f.transaction_type==="income"?"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[f.transaction_type==="income"?u.jsx(Ou,{className:"w-4 h-4 text-green-600 dark:text-green-400 flex-shrink-0"}):u.jsx(Pu,{className:"w-4 h-4 text-red-600 dark:text-red-400 flex-shrink-0"}),u.jsx("div",{className:"flex-1 min-w-0",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-baseline gap-1 sm:gap-2",children:[u.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium whitespace-normal break-words",children:f.description}),u.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:new Date(f.transaction_date).toLocaleDateString()})]})})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[u.jsxs("span",{className:`text-base font-semibold whitespace-nowrap ${f.transaction_type==="income"?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[f.transaction_type==="income"?"+":"-","",f.amount.toLocaleString()]}),o&&!f.derivedFromPayment&&u.jsx("button",{onClick:()=>{(async()=>confirm("Delete this transaction?")&&(await n(f.id)?v("Transaction deleted","success"):v("Failed to delete transaction","error")))()},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 p-1",children:u.jsx(pn,{className:"w-4 h-4"})})]})]},f.id))]}),o&&u.jsx("div",{className:"mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:m.length>0&&u.jsxs("div",{children:[u.jsx("h5",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Per-tenant payment totals (Debug)"}),u.jsx("div",{className:"space-y-1 text-sm text-gray-700 dark:text-gray-300",children:m.map(f=>u.jsxs("div",{className:"flex justify-between",children:[u.jsx("div",{children:f.tenantName}),u.jsxs("div",{className:"font-medium",children:["",f.total.toLocaleString()]})]},f.tenantId))})]})})]})}function M0({onFinish:t}){const[e,n]=I.useState(!1);return I.useEffect(()=>{const r=setTimeout(()=>{n(!0),setTimeout(t,500)},2e3);return()=>clearTimeout(r)},[t]),u.jsxs("div",{className:`fixed inset-0 z-[100] flex flex-col items-center justify-center bg-blue-600 transition-opacity duration-500 ${e?"opacity-0 pointer-events-none":"opacity-100"}`,children:[u.jsx("div",{className:"w-32 h-32 bg-white rounded-2xl flex items-center justify-center shadow-2xl mb-6 animate-bounce-gentle",children:u.jsx("img",{src:"/logo.svg",alt:"H.F.T Logo",className:"w-24 h-24"})}),u.jsx("h1",{className:"text-4xl font-bold text-white tracking-wider mb-2",children:"H.F.T"}),u.jsx("p",{className:"text-blue-100 text-sm",children:"HouseFees Tracker"}),u.jsx("div",{className:"absolute bottom-10",children:u.jsx("div",{className:"w-8 h-8 border-4 border-blue-200 border-t-white rounded-full animate-spin"})})]})}const z0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class pl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class B0 extends pl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Iu extends pl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Lu extends pl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var aa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(aa||(aa={}));var W0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class H0{constructor(e,{headers:n={},customFetch:r,region:s=aa.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=z0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return W0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(a["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(a["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:d}).catch(x=>{throw new B0(x)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new Iu(h);if(!h.ok)throw new Lu(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Lu||s instanceof Iu?s.context:void 0}}})}}var Re={},gl={},Ni={},ns={},Ti={},Ci={},V0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Zn=V0();const q0=Zn.fetch,fh=Zn.fetch.bind(Zn),ph=Zn.Headers,K0=Zn.Request,Q0=Zn.Response,sr=Object.freeze(Object.defineProperty({__proto__:null,Headers:ph,Request:K0,Response:Q0,default:fh,fetch:q0},Symbol.toStringTag,{value:"Module"})),G0=Uh(sr);var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});let J0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Pi.default=J0;var gh=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ci,"__esModule",{value:!0});const Y0=gh(G0),X0=gh(Pi);let Z0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Y0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let d=null,h=null,p=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=g:h=JSON.parse(g))}const E=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");E&&m&&m.length>1&&(p=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const E=await i.text();try{d=JSON.parse(E),Array.isArray(d)&&i.status===404&&(h=[],d=null,v=200,w="OK")}catch{i.status===404&&E===""?(v=204,w="No Content"):d={message:E}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,v=200,w="OK"),d&&this.shouldThrowOnError)throw new X0.default(d)}return{error:d,data:h,count:p,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Ci.default=Z0;var eg=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ti,"__esModule",{value:!0});const tg=eg(Ci);let ng=class extends tg.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ti.default=ng;var rg=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ns,"__esModule",{value:!0});const sg=rg(Ti);let ig=class extends sg.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ns.default=ig;var og=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const gr=og(ns);let ag=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new gr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new gr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new gr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new gr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new gr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Ni.default=ag;var mh=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gl,"__esModule",{value:!0});const lg=mh(Ni),ug=mh(ns);let cg=class yh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new lg.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new yh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{l.searchParams.append(h,p)})):(a="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new ug.default({method:a,url:l,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};gl.default=cg;var ir=Qe&&Qe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Re,"__esModule",{value:!0});Re.PostgrestError=Re.PostgrestBuilder=Re.PostgrestTransformBuilder=Re.PostgrestFilterBuilder=Re.PostgrestQueryBuilder=Re.PostgrestClient=void 0;const vh=ir(gl);Re.PostgrestClient=vh.default;const wh=ir(Ni);Re.PostgrestQueryBuilder=wh.default;const xh=ir(ns);Re.PostgrestFilterBuilder=xh.default;const _h=ir(Ti);Re.PostgrestTransformBuilder=_h.default;const kh=ir(Ci);Re.PostgrestBuilder=kh.default;const Sh=ir(Pi);Re.PostgrestError=Sh.default;var dg=Re.default={PostgrestClient:vh.default,PostgrestQueryBuilder:wh.default,PostgrestFilterBuilder:xh.default,PostgrestTransformBuilder:_h.default,PostgrestBuilder:kh.default,PostgrestError:Sh.default};const{PostgrestClient:hg,PostgrestQueryBuilder:cy,PostgrestFilterBuilder:dy,PostgrestTransformBuilder:hy,PostgrestBuilder:fy,PostgrestError:py}=dg;class fg{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pg="2.15.5",gg=`realtime-js/${pg}`,mg="1.0.0",la=1e4,yg=1e3,vg=100;var Pr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Pr||(Pr={}));var he;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(he||(he={}));var rt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(rt||(rt={}));var ua;(function(t){t.websocket="websocket"})(ua||(ua={}));var nn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(nn||(nn={}));class wg{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class bh{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const $u=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=xg(o,t,e,s),i),{})},xg=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?jh(i,o):ca(o)},jh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return bg(e,n)}switch(t){case X.bool:return _g(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return kg(e);case X.json:case X.jsonb:return Sg(e);case X.timestamp:return jg(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return ca(e);default:return ca(e)}},ca=t=>t,_g=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kg=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Sg=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bg=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>jh(e,a))}return t},jg=t=>typeof t=="string"?t.replace(" ","T"):t,Eh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class so{constructor(e,n,r={},s=la){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Du;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Du||(Du={}));class Or{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Or.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Or.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Or.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const p=d.map(E=>E.presence_ref),v=h.map(E=>E.presence_ref),w=d.filter(E=>v.indexOf(E.presence_ref)<0),x=h.filter(E=>p.indexOf(E.presence_ref)<0);w.length>0&&(a[c]=w),x.length>0&&(l[c]=x)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),p=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...p)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uu;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Uu||(Uu={}));var Ar;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ar||(Ar={}));var yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class ml{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new so(this,rt.join,this.params,this.timeout),this.rejoinTimer=new bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Or(this),this.broadcastEndpointURL=Eh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ar.PRESENCE]&&this.bindings[Ar.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(yt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(yt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,E=(w=x==null?void 0:x.length)!==null&&w!==void 0?w:0,m=[];for(let g=0;g<E;g++){const f=x[g],{filter:{event:y,schema:_,table:k,filter:j}}=f,T=v&&v[g];if(T&&T.event===y&&T.schema===_&&T.table===k&&T.filter===j)m.push(Object.assign(Object.assign({},f),{id:T.id}));else{this.unsubscribe(),this.state=he.errored,e==null||e(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(yt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,e==null||e(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===he.joined&&e===Ar.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=he.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new so(this,rt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new so(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>vg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=rt;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,x,E;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((E=(x=v.filter)===null||x===void 0?void 0:x.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===o}).map(v=>v.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,x,E,m,g,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,_=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((x=n.ids)===null||x===void 0?void 0:x.includes(y))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))}else{const y=(g=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return y==="*"||y===((f=n==null?void 0:n.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:x,table:E,commit_timestamp:m,type:g,errors:f}=w;p=Object.assign(Object.assign({},{schema:x,table:E,commit_timestamp:m,eventType:g,new:{},old:{},errors:f}),this._getPayloadRecords(w))}v.callback(p,r)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ml.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rt.close,{},e)}_onError(e){this._on(rt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=$u(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=$u(e.columns,e.old_record)),n}}const io=()=>{},_s={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Eg=[1e3,2e3,5e3,1e4],Ng=1e4,Tg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Cg{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=la,this.transport=null,this.heartbeatIntervalMs=_s.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=io,this.ref=0,this.reconnectTimer=null,this.logger=io,this.conn=null,this.sendBuffer=[],this.serializer=new wg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>yn(async()=>{const{default:a}=await Promise.resolve().then(()=>sr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${ua.websocket}`,this.httpEndpoint=Eh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fg.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:mg}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Pr.connecting:return nn.Connecting;case Pr.open:return nn.Open;case Pr.closing:return nn.Closing;default:return nn.Closed}}isConnected(){return this.connectionState()===nn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ml(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(yg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_s.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(rt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Tg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:gg};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new bh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_s.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,a,l,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:la,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:_s.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:io,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=e==null?void 0:e.reconnectAfterMs)!==null&&l!==void 0?l:h=>Eg[h-1]||Ng,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,p)=>p(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class yl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Pg extends yl{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class da extends yl{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Og=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Nh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Ag=()=>Og(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yn(()=>Promise.resolve().then(()=>sr),void 0)).Response:Response}),ha=t=>{if(Array.isArray(t))return t.map(n=>ha(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ha(r)}),e},Rg=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var vn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const oo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ig=(t,e,n)=>vn(void 0,void 0,void 0,function*(){const r=yield Ag();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new Pg(oo(s),i,o))}).catch(s=>{e(new da(oo(s),s))}):e(new da(oo(t),t))}),Lg=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(Rg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function rs(t,e,n,r,s,i){return vn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,Lg(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ig(l,a,r))})})}function li(t,e,n,r){return vn(this,void 0,void 0,function*(){return rs(t,"GET",e,n,r)})}function dt(t,e,n,r,s){return vn(this,void 0,void 0,function*(){return rs(t,"POST",e,r,s,n)})}function fa(t,e,n,r,s){return vn(this,void 0,void 0,function*(){return rs(t,"PUT",e,r,s,n)})}function $g(t,e,n,r){return vn(this,void 0,void 0,function*(){return rs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Th(t,e,n,r,s){return vn(this,void 0,void 0,function*(){return rs(t,"DELETE",e,r,s,n)})}var Ee=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Dg={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Fu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ug{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Nh(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Fu),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?fa:dt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(fe(i))return{data:null,error:i};throw i}})}upload(e,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:Fu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield fa(this.fetch,a.toString(),l,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Ee(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new yl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}copy(e,n,r){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return Ee(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}download(e,n){return Ee(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield li(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(fe(a))return{data:null,error:a};throw a}})}info(e){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield li(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:ha(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}exists(e){return Ee(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield $g(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r)&&r instanceof da){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Ee(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Dg),n),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(fe(s))return{data:null,error:s};throw s}})}listV2(e,n){return Ee(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Fg="2.12.1",Mg={"X-Client-Info":`storage-js/${Fg}`};var _n=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class zg{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Mg),n),this.fetch=Nh(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return _n(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(fe(e))return{data:null,error:e};throw e}})}getBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield li(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return _n(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return _n(this,void 0,void 0,function*(){try{return{data:yield fa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(fe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}deleteBucket(e){return _n(this,void 0,void 0,function*(){try{return{data:yield Th(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(fe(n))return{data:null,error:n};throw n}})}}class Bg extends zg{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Ug(this.url,this.headers,e,this.fetch)}}const Wg="2.57.4";let xr="";typeof Deno<"u"?xr="deno":typeof document<"u"?xr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xr="react-native":xr="node";const Hg={"X-Client-Info":`supabase-js-${xr}/${Wg}`},Vg={headers:Hg},qg={schema:"public"},Kg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Qg={};var Gg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Jg=t=>{let e;return t?e=t:typeof fetch>"u"?e=fh:e=fetch,(...n)=>e(...n)},Yg=()=>typeof Headers>"u"?ph:Headers,Xg=(t,e,n)=>{const r=Jg(n),s=Yg();return(i,o)=>Gg(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Zg=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function em(t){return t.endsWith("/")?t:t+"/"}function tm(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,p={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Zg(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function nm(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(em(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ch="2.71.1",En=30*1e3,pa=3,ao=pa*En,rm="http://localhost:9999",sm="supabase.auth.token",im={"X-Client-Info":`gotrue-js/${Ch}`},ga="X-Supabase-Api-Version",Ph={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},om=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,am=10*60*1e3;class vl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function U(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class lm extends vl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function um(t){return U(t)&&t.name==="AuthApiError"}class Oh extends vl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Jt extends vl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ct extends Jt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cm(t){return U(t)&&t.name==="AuthSessionMissingError"}class ks extends Jt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ss extends Jt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class bs extends Jt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dm(t){return U(t)&&t.name==="AuthImplicitGrantRedirectError"}class Mu extends Jt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ma extends Jt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function lo(t){return U(t)&&t.name==="AuthRetryableFetchError"}class zu extends Jt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ya extends Jt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bu=` 	
\r=`.split(""),hm=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Bu.length;e+=1)t[Bu[e].charCodeAt(0)]=-2;for(let e=0;e<ui.length;e+=1)t[ui[e].charCodeAt(0)]=e;return t})();function Wu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ui[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ui[r]),e.queuedBits-=6}}function Ah(t,e,n){const r=hm[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{gm(o,r,n)};for(let o=0;o<t.length;o+=1)Ah(t.charCodeAt(o),s,i);return e.join("")}function fm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pm(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}fm(r,e)}}function gm(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function mm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Ah(t.charCodeAt(s),n,r);return new Uint8Array(e)}function ym(t){const e=[];return pm(t,n=>e.push(n)),new Uint8Array(e)}function vm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Wu(s,n,r)),Wu(null,n,r),e.join("")}function wm(t){return Math.round(Date.now()/1e3)+t}function xm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",Yt={tested:!1,writable:!1},Rh=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yt.tested)return Yt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Yt.tested=!0,Yt.writable=!0}catch{Yt.tested=!0,Yt.writable=!1}return Yt.writable};function _m(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const Ih=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>yn(async()=>{const{default:r}=await Promise.resolve().then(()=>sr);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},km=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Nn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Xt=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Tt=async(t,e)=>{await t.removeItem(e)};class Oi{constructor(){this.promise=new Oi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Oi.promiseConstructor=Promise;function uo(t){const e=t.split(".");if(e.length!==3)throw new ya("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!om.test(e[r]))throw new ya("JWT not in base64url format");return{header:JSON.parse(Hu(e[0])),payload:JSON.parse(Hu(e[1])),signature:mm(e[2]),raw:{header:e[0],payload:e[1]}}}async function Sm(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function bm(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function jm(t){return("0"+t.toString(16)).substr(-2)}function Em(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,jm).join("")}async function Nm(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Tm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Nm(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function kn(t,e,n=!1){const r=Em();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Nn(t,`${e}-code-verifier`,s);const i=await Tm(r);return[i,r===i?"plain":"s256"]}const Cm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pm(t){const e=t.headers.get(ga);if(!e||!e.match(Cm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Om(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Am(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sn(t){if(!Rm.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function co(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vu(t){return JSON.parse(JSON.stringify(t))}var Im=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const tn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lm=[502,503,504];async function qu(t){var e;if(!km(t))throw new ma(tn(t),0);if(Lm.includes(t.status))throw new ma(tn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Oh(tn(i),i)}let r;const s=Pm(t);if(s&&s.getTime()>=Ph["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zu(tn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zu(tn(n),t.status,n.weak_password.reasons);throw new lm(tn(n),t.status||500,r)}const $m=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function B(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[ga]||(i[ga]=Ph["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Dm(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Dm(t,e,n,r,s,i){const o=$m(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new ma(tn(l),0)}if(a.ok||await qu(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await qu(l)}}function gt(t){var e;let n=null;zm(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=wm(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ku(t){const e=gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function It(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Um(t){return{data:t,error:null}}function Fm(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Im(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Mm(t){return t}function zm(t){return t.access_token&&t.refresh_token&&t.expires_in}const ho=["global","local","others"];var Bm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Wm{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Ih(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ho[0]){if(ho.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ho.join(", ")}`);try{return await B(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await B(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:It})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Bm(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await B(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Fm,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(U(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await B(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:It})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await B(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Mm});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(w.split(";")[1].split("=")[1]);c[`${E}Page`]=x}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(U(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Sn(e);try{return await B(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:It})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sn(e);try{return await B(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:It})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Sn(e);try{return await B(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:It})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Sn(e.userId);try{const{data:n,error:r}=await B(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sn(e.userId),Sn(e.id);try{return{data:await B(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}}function Qu(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Hm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bn={debug:!!(globalThis&&Rh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Lh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Vm extends Lh{}async function qm(t,e,n){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Vm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Hm();const Km={url:rm,storageKey:sm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:im,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gu(t,e,n){return await n()}const jn={};class Jr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Jr.nextInstanceID,Jr.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Km),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Wm({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ih(s.fetch),this.lock=s.lock||Gu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qm:this.lock=Gu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Qu(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=jn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=jn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=_m(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),et()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dm(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return U(n)?{error:n}:{error:new Oh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:gt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:p}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await kn(this.storage,this.storageKey)),i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:w},xform:gt})}else if("phone"in e){const{phone:d,password:h,options:p}=e;i=await B(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:gt})}else throw new Ss("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(U(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ku})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await B(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ku})}else throw new Ss("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ks}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,d,h,p,v;let w,x;if("message"in e)w=e.message,x=e.signature;else{const{chain:E,wallet:m,statement:g,options:f}=e;let y;if(et())if(typeof m=="object")y=m;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))y=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const _=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const k=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),g?{statement:g}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)w=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),x=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(s=(r=f==null?void 0:f.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((c=f==null?void 0:f.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(d=f==null?void 0:f.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:E,error:m}=await B(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:vm(x)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gt});if(m)throw m;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new ks}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:m})}catch(E){if(U(E))return{data:{user:null,session:null},error:E};throw E}}async _exchangeCodeForSession(e){const n=await Xt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await B(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:gt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ks}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(U(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await B(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:gt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ks}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await kn(this.storage,this.storageKey));const{error:h}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await B(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Ss("You must provide either an email or phone number.")}catch(a){if(U(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:gt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(U(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await kn(this.storage,this.storageKey)),await B(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Um})}catch(i){if(U(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ct;const{error:s}=await B(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(U(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await B(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await B(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ss("You must provide either an email or phone number and a type")}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Xt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ao:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Xt(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=co()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:It}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await B(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:It})})}catch(n){if(U(n))return cm(n)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ct;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await kn(this.storage,this.storageKey));const{data:c,error:d}=await B(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:It});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(U(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=uo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(U(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ct;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(U(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!et())throw new bs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new bs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Mu("No code detected.");const{data:g,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new bs("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const v=p-d;v*1e3<=En&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=p-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,d);const{data:x,error:E}=await this._getUser(i);if(E)throw E;const m={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:e.type},error:null}}catch(r){if(U(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Xt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(um(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=xm(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await kn(this.storage,this.storageKey,!0));try{return await B(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(U(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await B(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(U(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await B(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await bm(async s=>(s>0&&await Sm(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await B(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&lo(i)&&Date.now()+o-r<En})}catch(r){if(this._debug(n,"error",r),U(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Xt(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Xt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Nn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:co()}else if(s&&!s.user&&!s.user){const o=await Xt(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tt(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,s)):s.user=co()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ao;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ao}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),lo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Oi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),U(i)){const o={session:null,error:i};return lo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Vu(s);await Nn(this.storage,this.storageKey,i)}else{const s=Vu(n);await Nn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),En);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/En);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${En}ms, refresh threshold is ${pa} ticks`),s<=pa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Lh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await kn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await B(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(U(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await B(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(U(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=uo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(a=>a.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+am>s)return r;const{data:i,error:o}=await B(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=uo(r);n!=null&&n.allowExpired||Om(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=Am(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,ym(`${a}.${l}`)))throw new ya("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(U(r))return{data:null,error:r};throw r}}}Jr.nextInstanceID=0;const Qm=Jr;class Gm extends Qm{constructor(e){super(e)}}var Jm=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class Ym{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const a=nm(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,c={db:qg,realtime:Qg,auth:Object.assign(Object.assign({},Kg),{storageKey:l}),global:Vg},d=tm(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Xg(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new hg(new URL("rest/v1",a).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Bg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new H0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Jm(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:c},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gm({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:a,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Cg(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Xm=(t,e,n)=>new Ym(t,e,n);function Zm(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Zm()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ey="https://mhcnsgyxvbqvhrarijpj.supabase.co",ty="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1oY25zZ3l4dmJxdmhyYXJpanBqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA0NDA5OTYsImV4cCI6MjA4NjAxNjk5Nn0.0wzH0OUxRbDR_CEAwtfCdaKMWwU_3UDCZ4RlnDGDtSM",J=Xm(ey,ty);function ny(){const[t,e]=I.useState([]),[n,r]=I.useState([]),[s,i]=I.useState([]),[o,a]=I.useState([]),[l,c]=I.useState(!0),[d,h]=I.useState(!1),p=async()=>{const L=l;L?c(!0):h(!0);try{const[P,M,z,F]=await Promise.all([J.from("tenants").select("*").order("name"),J.from("fees").select("*").order("created_at"),J.from("payments").select("*"),J.from("purse_transactions").select("*").order("transaction_date",{ascending:!1})]);P.data&&e(P.data),M.data&&r(M.data),z.data&&i(z.data),F.data&&a(F.data)}catch(P){console.error("Error fetching data:",P)}finally{L?c(!1):h(!1)}};return I.useEffect(()=>{p()},[]),{tenants:t,fees:n,payments:s,purseTransactions:o,loading:l,refreshing:d,addTenant:async(L,P)=>{const{error:M}=await J.from("tenants").insert({name:L,phone:P??null,is_active:!0});return M||p(),!M},updateTenant:async(L,P,M)=>{const{error:z}=await J.from("tenants").update({name:P,phone:M??null}).eq("id",L);return z||p(),!z},removeTenant:async L=>{const{error:P}=await J.from("tenants").update({is_active:!1,removed_at:new Date().toISOString()}).eq("id",L);return P||p(),!P},deleteTenant:async L=>{const{error:P}=await J.from("tenants").delete().eq("id",L);return P||p(),!P},addFee:async(L,P,M)=>{const{error:z}=await J.from("fees").insert({name:L,total_amount:P,period:M,is_active:!0});return z||p(),!z},updateFee:async(L,P,M,z)=>{const{error:F}=await J.from("fees").update({name:P,total_amount:M,period:z}).eq("id",L);return F||p(),!F},deleteFee:async L=>{const{error:P}=await J.from("fees").delete().eq("id",L);return P||p(),!P},addPayment:async(L,P,M,z,F)=>{const{data:H,error:G}=await J.from("payments").insert({tenant_id:L,fee_id:P,amount_paid:M,payment_date:z,notes:F}).select("*").single();if(G||!H)return console.error("Error inserting payment",G),!1;const b=n.find(R=>R.id===P),A=t.find(R=>R.id===L),D=`Payment - ${(b==null?void 0:b.name)??P} by ${(A==null?void 0:A.name)??L}`,{error:K}=await J.from("purse_transactions").insert({description:D,amount:M,transaction_type:"income",transaction_date:z,payment_id:H.id});if(K){const{error:R}=await J.from("purse_transactions").insert({description:D,amount:M,transaction_type:"income",transaction_date:z});R&&(console.error("Retry failed inserting purse transaction without payment_id",R),console.error("Original error:",K))}return await p(),!0},deletePayment:async L=>{const{data:P}=await J.from("payments").select("*").eq("id",L).single();let M=!1;try{const{data:F,error:H}=await J.from("purse_transactions").select("id").eq("payment_id",L);!H&&F&&F.length>0&&(await J.from("purse_transactions").delete().in("id",F.map(G=>G.id)),M=!0)}catch(F){console.error("Error deleting linked purse transaction",F)}if(!M&&P)try{const F=n.find(A=>A.id===P.fee_id),H=t.find(A=>A.id===P.tenant_id),G=`Payment - ${(F==null?void 0:F.name)??P.fee_id} by ${(H==null?void 0:H.name)??P.tenant_id}`,{data:b}=await J.from("purse_transactions").select("id, description, amount, transaction_date").eq("amount",P.amount_paid).eq("transaction_date",P.payment_date).eq("transaction_type","income");if(b){const A=b.filter(D=>D.description===G).map(D=>D.id);A.length>0&&await J.from("purse_transactions").delete().in("id",A)}}catch(F){console.error("Error in fallback deletion",F)}const{error:z}=await J.from("payments").delete().eq("id",L);return z||p(),!z},updatePayment:async(L,P)=>{const{error:M}=await J.from("payments").update(P).eq("id",L);if(M)return console.error("Error updating payment",M),!1;try{const z=P.fee_id?n.find(b=>b.id===P.fee_id):void 0,F=P.tenant_id?t.find(b=>b.id===P.tenant_id):void 0,H=z||F?`Payment - ${(z==null?void 0:z.name)??P.fee_id} by ${(F==null?void 0:F.name)??P.tenant_id}`:void 0,G={};if(typeof P.amount_paid<"u"&&(G.amount=P.amount_paid),P.payment_date&&(G.transaction_date=P.payment_date),H&&(G.description=H),Object.keys(G).length>0){const{error:b}=await J.from("purse_transactions").update(G).eq("payment_id",L);b&&(b.code==="PGRST204"||b.message&&b.message.includes("payment_id")||console.error("Error updating linked purse transaction",b))}}catch(z){console.error("Unexpected error updating linked purse transaction",z)}return p(),!0},addPurseTransaction:async(L,P,M,z)=>{const{error:F}=await J.from("purse_transactions").insert({description:L,amount:P,transaction_type:M,transaction_date:z});return F||p(),!F},deletePurseTransaction:async L=>{const{error:P}=await J.from("purse_transactions").delete().eq("id",L);return P||p(),!P},addSpreadPayment:async(L,P,M,z)=>{if(P<=0)return!1;try{const F=t.filter(R=>R.is_active).length||1,H=n.map(R=>{const V=R.total_amount/F,re=s.filter(ue=>ue.tenant_id===L&&ue.fee_id===R.id).reduce((ue,N)=>ue+N.amount_paid,0),Oe=Math.max(0,Math.round((V-re)*100)/100);return{fee:R,outstanding:Oe,share:V}}).filter(R=>R.outstanding>0).sort((R,V)=>new Date(R.fee.created_at).getTime()-new Date(V.fee.created_at).getTime());let G=Math.round(P*100)/100;const b=[];for(const R of H){if(G<=0)break;const V=Math.min(R.outstanding,G);V<=0||(b.push({tenant_id:L,fee_id:R.fee.id,amount_paid:V,payment_date:M,notes:z||`Spread payment allocation for ${R.fee.name}`}),G=Math.round((G-V)*100)/100)}if(b.length===0&&G<=0)return!1;if(G>0){let R=n.find(V=>V.name==="Advance Payment");if(!R){const{data:V,error:re}=await J.from("fees").insert({name:"Advance Payment",total_amount:0,period:"One-time",is_active:!0}).select().single();if(re||!V){if(console.error("Error creating Advance Payment fee",re),H.length>0){const Oe=H[H.length-1];b.push({tenant_id:L,fee_id:Oe.fee.id,amount_paid:G,payment_date:M,notes:z||`Overpayment allocated to ${Oe.fee.name}`})}}else R=V}R&&b.push({tenant_id:L,fee_id:R.id,amount_paid:G,payment_date:M,notes:z||"Advance Payment / Overpayment"})}const{data:A,error:D}=await J.from("payments").insert(b).select("*");if(D||!A)return console.error("Error inserting spread payments",D),!1;const K=[];for(const R of A){const V=n.find(ue=>ue.id===R.fee_id),re=t.find(ue=>ue.id===R.tenant_id),Oe=`Payment - ${(V==null?void 0:V.name)??R.fee_id} by ${(re==null?void 0:re.name)??R.tenant_id}`;K.push({description:Oe,amount:R.amount_paid,transaction_type:"income",transaction_date:R.payment_date,payment_id:R.id})}if(K.length>0)try{const{error:R}=await J.from("purse_transactions").insert(K);if(R){const V=K.map(({description:Oe,amount:ue,transaction_type:N,transaction_date:lt})=>({description:Oe,amount:ue,transaction_type:N,transaction_date:lt})),{error:re}=await J.from("purse_transactions").insert(V);re&&(console.error("Retry failed inserting purse transactions without payment_id",re),console.error("Original error:",R))}}catch(R){console.error("Unexpected error inserting purse transactions for spread payments",R)}return await p(),!0}catch(F){return console.error("Error in addSpreadPayment",F),!1}},refreshData:p,clearAllTransactions:async()=>{try{const{error:L}=await J.from("purse_transactions").delete().neq("id","00000000-0000-0000-0000-000000000000");if(L)return console.error("Error clearing purse transactions",L),!1;const{error:P}=await J.from("payments").delete().neq("id","00000000-0000-0000-0000-000000000000");return P?(console.error("Error clearing payments",P),!1):(await p(),!0)}catch(L){return console.error("Error clearing all transactions",L),!1}}}}function ry(){const{isAuthenticated:t,isAdmin:e,logout:n}=rr(),{isDark:r,toggleTheme:s}=A0(),[i,o]=I.useState("overview"),[a,l]=I.useState(!1),[c,d]=I.useState(!0),{tenants:h,fees:p,payments:v,purseTransactions:w,loading:x,addTenant:E,updateTenant:m,removeTenant:g,deleteTenant:f,addFee:y,updateFee:_,deleteFee:k,addPayment:j,deletePayment:T,updatePayment:C,addPurseTransaction:$,deletePurseTransaction:L,addSpreadPayment:P,clearAllTransactions:M}=ny();if(c)return u.jsx(M0,{onFinish:()=>d(!1)});if(!t)return u.jsx(I0,{});if(x)return u.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 dark:border-blue-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})});const z=()=>{const H=document.getElementById("main-content");H&&yn(()=>import("./html2canvas.esm-CBrSDip1.js"),[]).then(G=>{G.default(H).then(b=>{const A=document.createElement("a");A.download=`housefees-${new Date().toISOString().split("T")[0]}.png`,A.href=b.toDataURL(),A.click()})})},F=[{id:"overview",label:"Overview"},{id:"payments",label:"Payments"},{id:"purse",label:"Purse"},{id:"fees",label:"Fees"},...e?[{id:"tenants",label:"Residents"}]:[]];return u.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 transition-colors duration-200",children:[u.jsxs("div",{className:`fixed inset-0 z-[60] ${a?"visible":"invisible"} md:hidden`,children:[u.jsx("div",{className:`absolute inset-0 bg-black/50 transition-opacity duration-300 ${a?"opacity-100":"opacity-0"}`,onClick:()=>l(!1)}),u.jsxs("div",{className:`absolute left-0 top-0 h-full w-64 bg-white dark:bg-gray-800 shadow-xl p-6 flex flex-col gap-2 transform transition-transform duration-300 ${a?"translate-x-0":"-translate-x-full"}`,children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Menu"}),u.jsx("button",{onClick:()=>l(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:u.jsx(oa,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})})]}),F.map(H=>u.jsx("button",{onClick:()=>{o(H.id),l(!1)},className:`text-left px-4 py-3 rounded-lg transition font-medium ${i===H.id?"bg-blue-600 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:H.label},H.id))]})]}),u.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-md sticky top-0 z-50",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex justify-between items-center py-4",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[u.jsx("span",{className:"md:hidden",children:"H.F.T"}),u.jsx("span",{className:"hidden md:inline",children:"HouseFees Tracker"})]}),u.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e?"Admin Access":"Viewer Access"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:z,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition text-gray-600 dark:text-gray-400",title:"Take Screenshot",children:u.jsx(uh,{className:"w-5 h-5"})}),u.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition text-gray-600 dark:text-gray-400",title:"Toggle Theme",children:r?u.jsx(j0,{className:"w-5 h-5"}):u.jsx(S0,{className:"w-5 h-5"})}),u.jsx("button",{onClick:n,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition text-gray-600 dark:text-gray-400",title:"Logout",children:u.jsx(_0,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>l(!a),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition text-gray-600 dark:text-gray-400",children:a?u.jsx(oa,{className:"w-5 h-5"}):u.jsx(k0,{className:"w-5 h-5"})})]})]}),u.jsx("nav",{className:"hidden md:block pb-0",children:u.jsx("div",{className:"flex flex-row gap-1",children:F.map(H=>u.jsx("button",{onClick:()=>o(H.id),className:`px-4 py-2 rounded-lg transition font-medium ${i===H.id?"bg-blue-600 dark:bg-blue-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:H.label},H.id))})})]})}),u.jsx("main",{id:"main-content",className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:u.jsxs("div",{className:"space-y-6",children:[i==="overview"&&u.jsxs(u.Fragment,{children:[u.jsx(L0,{tenants:h,fees:p,payments:v}),u.jsx(Ru,{tenants:h,fees:p,payments:v,onAddPayment:j,onDeletePayment:T,onUpdatePayment:C,onSpreadPayment:P})]}),i==="payments"&&u.jsx(Ru,{tenants:h,fees:p,payments:v,onAddPayment:j,onDeletePayment:T,onUpdatePayment:C,onSpreadPayment:P}),i==="purse"&&u.jsx("div",{className:"space-y-4",children:u.jsx(F0,{transactions:w,onAdd:$,onDelete:L,onClearAll:M,payments:v,tenants:h})}),i==="tenants"&&e&&u.jsx($0,{tenants:h,onAdd:E,onUpdate:m,onRemove:g,onDelete:f}),i==="fees"&&u.jsx(D0,{fees:p,onAdd:y,onUpdate:_,onDelete:k})]})}),u.jsx("footer",{className:"bg-white dark:bg-gray-800 shadow-md mt-12",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:u.jsxs("div",{className:"text-center text-sm text-gray-600 dark:text-gray-400",children:[u.jsx("p",{children:"HouseFees Tracker - Manage your house fees with ease"}),u.jsx("p",{className:"mt-1",children:"created by 'Positive Developer'"})]})})})]})}function sy(){return u.jsx(P0,{children:u.jsx(O0,{children:u.jsx(R0,{children:u.jsx(ry,{})})})})}lh(document.getElementById("root")).render(u.jsx(I.StrictMode,{children:u.jsx(sy,{})}));
